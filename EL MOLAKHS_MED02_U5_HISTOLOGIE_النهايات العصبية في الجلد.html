<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>     </title>

    
    <!-- إضافة الفافيكون بصيغة JPG -->
    <link rel="icon" href="S22MCS PARTS/doctor.png" type="image/jpeg">


<style>
.LIKEWIKIIDAFA-tooltip {
    position: relative;
    display: inline-block;
    cursor: pointer;
    color: red;
    font-weight: bold;
    line-height: 1.5;
}

.LIKEWIKIIDAFA-content {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90vw;
    max-width: 650px;
    max-height: 85vh;
    background-color: #fff;
    padding: 20px;
    z-index: 999999;
    overflow-y: auto;
    direction: rtl;
    border-radius: 12px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
    border: 1px solid #e0e0e0;
    font-size: 1rem;
}

.LIKEWIKIIDAFA-content-inner {
    position: relative;
    height: auto;
    padding: 10px;
}

.LIKEWIKIIDAFA-content::-webkit-scrollbar {
    width: 8px;
}
.LIKEWIKIIDAFA-content::-webkit-scrollbar-thumb {
    background-color: #888;
    border-radius: 4px;
}
.LIKEWIKIIDAFA-content::-webkit-scrollbar-track {
    background: #f1f1f1;
}

.LIKEWIKIIDAFA-tooltip.active .LIKEWIKIIDAFA-content {
    display: block;
    animation: fadeInScale 0.3s ease;
}

.LIKEWIKIIDAFA-tooltip.active::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999998;
}

@keyframes fadeInScale {
    from { opacity: 0; transform: translate(-50%, -50%) scale(0.95); }
    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

.LIKEWIKIIDAFA-content img {
    max-width: 100%;
    height: auto;
    margin: 15px auto;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    display: block;
}

.LIKEWIKIIDAFA-close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: #f44336;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    transition: all 0.2s ease;
    z-index: 1000000;
    padding: 0;
    line-height: 1;
}

.LIKEWIKIIDAFA-close-btn:hover {
    background: #d32f2f;
    transform: scale(1.1);
}

.LIKEWIKIIDAFA-close-btn:active {
    transform: scale(0.95);
}

.language-section {
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid #eee;
}

.language-title {
    font-size: 1.1rem;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 15px;
    text-align: center;
    padding: 8px 12px;
    background-color: #f8f9fa;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.arabic-text {
    direction: rtl;
    text-align: right;
    font-size: 1rem;
    line-height: 1.6;
}

.english-text, .french-text {
    direction: ltr;
    text-align: left;
    font-size: 1rem;
    line-height: 1.6;
}

.language-flag {
    width: 22px;
    height: 16px;
    margin: 0 6px;
    vertical-align: middle;
    border-radius: 3px;
    box-shadow: 0 0 3px rgba(0, 0, 0, 0.1);
}

ul {
    padding-right: 20px;
    margin: 10px 0;
}

li {
    margin-bottom: 8px;
}

@media (max-width: 1024px) {
    .LIKEWIKIIDAFA-content {
        width: 92vw;
        padding: 18px;
    }
}

@media (max-width: 768px) {
    .LIKEWIKIIDAFA-content {
        width: 94vw;
        max-height: 90vh;
        padding: 16px;
        font-size: 0.95rem;
    }
    
    .language-title {
        font-size: 1rem;
        padding: 6px 10px;
    }
    
    .LIKEWIKIIDAFA-close-btn {
        width: 28px;
        height: 28px;
        font-size: 16px;
    }
    
    .language-flag {
        width: 20px;
        height: 14px;
    }
}

@media (max-width: 480px) {
    .LIKEWIKIIDAFA-content {
        width: 96vw;
        padding: 14px;
        max-height: 95vh;
        font-size: 0.9rem;
    }
    
    .language-title {
        font-size: 0.95rem;
        padding: 5px 8px;
    }
    
    .LIKEWIKIIDAFA-close-btn {
        width: 26px;
        height: 26px;
        font-size: 15px;
        top: 10px;
        right: 10px;
    }
    
    .language-flag {
        width: 18px;
        height: 12px;
    }
    
    ul {
        padding-right: 15px;
    }
    
    li {
        margin-bottom: 6px;
    }
}

@media (max-height: 600px) {
    .LIKEWIKIIDAFA-content {
        top: 20px;
        transform: translateX(-50%);
        max-height: calc(100vh - 40px);
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const LIKEWIKIIDAFA_tooltip = document.getElementById('LIKEWIKIIDAFA-tooltip');
    const LIKEWIKIIDAFA_closeBtn = document.querySelector('.LIKEWIKIIDAFA-close-btn');
    
    // فتح عند الضغط على النص
    LIKEWIKIIDAFA_tooltip.addEventListener('click', function(e) {
        e.stopPropagation();
        document.body.style.overflow = 'hidden';
        document.documentElement.style.overflow = 'hidden';
        LIKEWIKIIDAFA_tooltip.classList.add('active');
    });
    
    // إغلاق بالضغط على الزر X فقط
    LIKEWIKIIDAFA_closeBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        closeTooltip();
    });
    
    // إغلاق عند الضغط خارج النافذة
    document.addEventListener('click', function(e) {
        if (LIKEWIKIIDAFA_tooltip.classList.contains('active') && 
            !e.target.closest('.LIKEWIKIIDAFA-content') && 
            !e.target.closest('.LIKEWIKIIDAFA-tooltip')) {
            closeTooltip();
        }
    });
    
    // إغلاق بالضغط على زر ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && LIKEWIKIIDAFA_tooltip.classList.contains('active')) {
            closeTooltip();
        }
    });
    
    function closeTooltip() {
        document.body.style.overflow = '';
        document.documentElement.style.overflow = '';
        LIKEWIKIIDAFA_tooltip.classList.remove('active');
    }
    
    // منع التمرير عند فتح النافذة على الأجهزة المحمولة
    document.querySelector('.LIKEWIKIIDAFA-content').addEventListener('touchmove', function(e) {
        if (LIKEWIKIIDAFA_tooltip.classList.contains('active')) {
            e.preventDefault();
        }
    }, { passive: false });
});
</script>


    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>أداة حماية العين</title>
        <style>
            /* إعدادات الصفحة الأساسية */
            body {
                margin: 0;
                font-family: 'Arial', sans-serif;
                background-color: #edf2f7;
                color: #333;
                transition: all 0.5s ease;
            }
        
            header, main {
                padding: 20px;
                text-align: center;
            }
        
            header h1 {
                font-size: 2rem;
                color: #444;
                margin-bottom: 20px;
                text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
                animation: fadeIn 1.2s ease-in-out;
            }
        
            main h2 {
                font-size: 1.5rem;
                color: #555;
                margin-bottom: 10px;
            }
        
            main p {
                font-size: 1rem;
                line-height: 1.6;
                color: #666;
            }
        
            /* الحاوية */
            #controlPanel {
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: linear-gradient(145deg, #e0e5ec, #ffffff);
                border-radius: 50px;
                box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.1), -10px -10px 20px rgba(255, 255, 255, 0.7);
                z-index: 1000;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
                width: 60px;
                height: 60px;
                overflow: hidden;
                transition: all 0.4s ease, box-shadow 0.3s ease-in-out;
            }
        
            #controlPanel.expanded {
                width: 340px;
                height: auto;
                border-radius: 20px;
                box-shadow: 20px 20px 40px rgba(0, 0, 0, 0.15), -20px -20px 40px rgba(255, 255, 255, 0.9);
            }
        
            /* الزر */
            #toggleButton {
                width: 60px;
                height: 60px;
                background: radial-gradient(circle at 30% 30%, #4caf50, #388e3c);
                border: none;
                border-radius: 50%;
                color: white;
                font-size: 28px;
                cursor: pointer;
                display: flex;
                justify-content: center;
                align-items: center;
                box-shadow: inset 0 0 15px rgba(0,0,0,0.2), 
                            5px 5px 10px rgba(0,0,0,0.2), 
                            -5px -5px 10px rgba(255,255,255,0.5);
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }
        
            #toggleButton:hover {
                transform: scale(1.1) rotate(5deg);
                box-shadow: inset 0 0 20px rgba(0,0,0,0.3), 
                            8px 8px 20px rgba(0,0,0,0.2), 
                            -8px -8px 20px rgba(255,255,255,0.5);
                background: radial-gradient(circle at 30% 30%, #43a047, #2e7d32);
            }
        
            #emoji {
                font-size: 32px;
                line-height: 1;
                animation: bounce 2s infinite ease-in-out;
            }
        
            #toggleText {
                font-size: 14px;
                color: white;
                position: absolute;
                bottom: -20px;
                opacity: 0;
                transition: opacity 0.3s ease, transform 0.3s ease;
            }
        
            #toggleButton:hover #toggleText {
                opacity: 1;
                transform: translateY(-5px);
            }
        
            /* شريط التمرير */
            .slider-container {
                width: 90%;
                margin: 10px 0;
                position: relative;
            }
            
            .color-spectrum {
                width: 100%;
                height: 20px;
                border-radius: 10px;
                background: linear-gradient(to right, 
                    #ff9a3c, /* 1700K - برتقالي دافئ جداً */
                    #ffb347, /* 2000K */
                    #ffcc6a, /* 2300K */
                    #ffe08c, /* 2700K - أصفر دافئ */
                    #f5f5f5  /* أبيض محايد */
                );
                margin-bottom: 5px;
                box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1);
            }
            
            #colorTempSlider {
                width: 100%;
                appearance: none;
                height: 12px;
                background: transparent;
                border-radius: 6px;
                outline: none;
                cursor: pointer;
                position: absolute;
                top: 20px;
                left: 0;
            }
        
            #colorTempSlider::-webkit-slider-thumb {
                appearance: none;
                width: 22px;
                height: 22px;
                background: radial-gradient(circle, #4caf50, #388e3c);
                border-radius: 50%;
                cursor: pointer;
                box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), -2px -2px 4px rgba(255, 255, 255, 0.5);
                transition: transform 0.2s ease-in-out;
            }
        
            #colorTempSlider::-webkit-slider-thumb:hover {
                transform: scale(1.2);
            }
        
            .temp-labels {
                display: flex;
                justify-content: space-between;
                width: 100%;
                font-size: 11px;
                color: #555;
                margin-top: 25px;
            }
        
            .small-slider {
                width: 80px;
                height: 8px;
            }
        
            #label {
                font-size: 14px;
                font-weight: bold;
                color: #333;
                display: none;
                text-align: center;
                animation: fadeIn 0.8s ease-in-out;
            }
        
            .expanded #label {
                display: block;
            }
        
            /* خيارات إضافية */
            .options {
                display: none;
                width: 100%;
                padding: 0 15px 15px;
                flex-direction: column;
                gap: 10px;
            }
        
            .expanded .options {
                display: flex;
            }
        
            .option-row {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
        
            .option-label {
                font-size: 13px;
                color: #555;
            }
        
            .switch {
                position: relative;
                display: inline-block;
                width: 50px;
                height: 24px;
            }
        
            .switch input {
                opacity: 0;
                width: 0;
                height: 0;
            }
        
            .slider {
                position: absolute;
                cursor: pointer;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: #ccc;
                transition: .4s;
                border-radius: 24px;
            }
        
            .slider:before {
                position: absolute;
                content: "";
                height: 13px;
                width: 13px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
            }
        
            input:checked + .slider {
                background-color: #4CAF50;
            }
        
            input:checked + .slider:before {
                transform: translateX(26px);
            }
        
            /* معلومات علمية */
            .science-info {
                display: none;
                background: #f8f9fa;
                border-radius: 10px;
                padding: 10px;
                margin: 10px 15px;
                font-size: 12px;
                color: #555;
                border-right: 3px solid #4CAF50;
            }
        
            .expanded .science-info {
                display: block;
                animation: fadeIn 0.8s ease-in-out;
            }
        
            .science-title {
                font-weight: bold;
                color: #388e3c;
                margin-bottom: 5px;
            }
        
            /* الإشعارات */
            .notification {
                position: fixed;
                bottom: 100px;
                right: 20px;
                background: #4CAF50;
                color: white;
                padding: 12px 20px;
                border-radius: 5px;
                box-shadow: 0 4px 8px rgba(0,0,0,0.2);
                animation: slideIn 0.5s ease-out;
                z-index: 1001;
            }
        
            .fade-out {
                animation: fadeOut 0.5s ease-out forwards;
            }
        
            /* الرسوم المتحركة */
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(-10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        
            @keyframes bounce {
                0%, 100% {
                    transform: translateY(0);
                }
                50% {
                    transform: translateY(-10px);
                }
            }
        
            @keyframes slideIn {
                from {
                    transform: translateX(100px);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
        
            @keyframes fadeOut {
                from {
                    opacity: 1;
                }
                to {
                    opacity: 0;
                }
            }
        
            /* تحسين التوافق مع الهواتف */
            @media (max-width: 768px) {
                #controlPanel {
                    bottom: 10px;
                    right: 10px;
                }
                #toggleButton {
                    width: 50px;
                    height: 50px;
                    font-size: 24px;
                }
                #controlPanel.expanded {
                    width: 300px;
                }
            }
        
            @media (max-width: 480px) {
                #controlPanel.expanded {
                    width: 90%;
                    right: 5%;
                    bottom: 10px;
                }
                
                .options {
                    padding: 0 10px 10px;
                }
            }
        </style>
    </head>
    <body>
        <!-- أداة التحكم -->
        <div id="controlPanel">
            <button id="toggleButton">
                <span id="emoji">🌙</span>
                <span id="toggleText">تشغيل</span>
            </button>
            <label id="label" for="colorTempSlider">درجة حرارة اللون (1700K-2700K):</label>
            
            <div class="slider-container">
                <div class="color-spectrum"></div>
                <input type="range" id="colorTempSlider" min="1700" max="2700" step="100" value="2700">
                <div class="temp-labels">
                    <span>1700K</span>
                    <span>2000K</span>
                    <span>2300K</span>
                    <span>2700K</span>
                </div>
            </div>
            
            <div class="science-info">
                <div class="science-title">معلومات علمية:</div>
                <p>• درجات الحرارة المرتفعة (>5000K) تسبب انتباه الأشخاص وزيادة التركيز</p>
                <p>• درجات الحرارة المنخفضة (2700K-3000K) تشعر الأشخاص بالاسترخاء والنعاس</p>
                <p>• الضوء الأزرق (380-550 نانومتر) يؤثر على الساعة البيولوجية</p>
            </div>
            
            <div class="options">
                <div class="option-row">
                    <span class="option-label">الوضع الليلي التلقائي</span>
                    <label class="switch">
                        <input type="checkbox" id="autoNightMode">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="option-row">
                    <span class="option-label">تقليل الوهج</span>
                    <label class="switch">
                        <input type="checkbox" id="reduceGlare" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="option-row">
                    <span class="option-label">تعتيم النص</span>
                    <label class="switch">
                        <input type="checkbox" id="darkenText">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="option-row">
                    <span class="option-label">ضبط السطوع</span>
                    <input type="range" id="brightnessSlider" min="50" max="100" value="100" class="small-slider">
                  </div>
                  <div class="mobile-breaks"></div>

                  <style>    .mobile-breaks {
                    display: none;
                  }
                  
                  @media (max-width: 768px) {
                    .mobile-breaks {
                      display: block;
                      height: 2em; /* تعادل تقريبا سطرين فارغين */
                    }
                  }</style>
              
                  
            </div>
        </div>
    
        <script>
            const controlPanel = document.getElementById('controlPanel');
            const toggleButton = document.getElementById('toggleButton');
            const emoji = document.getElementById('emoji');
            const toggleText = document.getElementById('toggleText');
            const slider = document.getElementById('colorTempSlider');
            const autoNightMode = document.getElementById('autoNightMode');
            const reduceGlare = document.getElementById('reduceGlare');
            const darkenText = document.getElementById('darkenText');
            const brightnessSlider = document.getElementById('brightnessSlider');
    
            let isEyeProtectionEnabled = false;
            let autoNightModeInterval;
    
            // تحميل التفضيلات المحفوظة
            window.addEventListener('DOMContentLoaded', () => {
                const preferences = JSON.parse(localStorage.getItem('eyeProtectionPrefs')) || {};
                if (preferences.autoNightMode) autoNightMode.checked = true;
                if (preferences.reduceGlare) reduceGlare.checked = true;
                if (preferences.darkenText) darkenText.checked = true;
                if (preferences.enabled) enableEyeProtection();
                if (preferences.brightness) brightnessSlider.value = preferences.brightness;
                if (preferences.colorTemp) slider.value = preferences.colorTemp;
    
                // تحقق من وقت اليوم عند التحميل
                checkTimeOfDay();
            });
    
            toggleButton.addEventListener('click', () => {
                controlPanel.classList.toggle('expanded');
    
                if (isEyeProtectionEnabled) {
                    disableEyeProtection();
                } else {
                    enableEyeProtection();
                    setTimeout(() => {
                        controlPanel.classList.remove('expanded');
                    }, 5000);
                }
                
                savePreferences();
            });
    
            slider.addEventListener('input', function() {
                updateFilter();
                updateSliderColor(this.value);
            });
            
            // تحديث لون شريط التمرير بناء على القيمة
            function updateSliderColor(value) {
                const percent = (value - 1700) / (2700 - 1700) * 100;
                const thumb = document.querySelector('#colorTempSlider::-webkit-slider-thumb');
                
                // تغيير لون الإبهام حسب الموقع على الطيف
                if (thumb) {
                    if (percent < 30) {
                        thumb.style.background = 'radial-gradient(circle, #ff9a3c, #e07c2e)';
                    } else if (percent < 70) {
                        thumb.style.background = 'radial-gradient(circle, #ffb347, #e0953a)';
                    } else {
                        thumb.style.background = 'radial-gradient(circle, #ffe08c, #e0c87a)';
                    }
                }
            }
            
            autoNightMode.addEventListener('change', function() {
                if (this.checked) {
                    startAutoNightMode();
                    if (isEyeProtectionEnabled) {
                        updateFilter();
                    }
                } else {
                    stopAutoNightMode();
                }
                savePreferences();
            });
    
            reduceGlare.addEventListener('change', function() {
                if (isEyeProtectionEnabled) {
                    updateFilter();
                }
                savePreferences();
            });
    
            darkenText.addEventListener('change', function() {
                if (isEyeProtectionEnabled) {
                    updateFilter();
                }
                savePreferences();
            });
    
            brightnessSlider.addEventListener('input', function() {
                document.body.style.opacity = this.value / 100;
                savePreferences();
            });
    
            function enableEyeProtection() {
                isEyeProtectionEnabled = true;
                emoji.textContent = '🛡️';
                toggleText.textContent = 'إيقاف';
                updateFilter();
                updateSliderColor(slider.value);
                showNotification('تم تفعيل حماية العين');
            }
    
            function disableEyeProtection() {
                isEyeProtectionEnabled = false;
                emoji.textContent = '🌙';
                toggleText.textContent = 'تشغيل';
                document.documentElement.style.filter = 'none';
                document.body.style.color = '';
                showNotification('تم إيقاف حماية العين');
            }
    
            function updateFilter() {
                if (!isEyeProtectionEnabled) return;
    
                const temp = slider.value;
                const warmth = (temp - 1700) / (2700 - 1700);
                const sepia = 0.4 + 0.6 * (1 - warmth);
                const brightness = 1 - 0.2 * warmth;
                const contrast = reduceGlare.checked ? 1.1 : 1;
                const grayscale = reduceGlare.checked ? 0.1 : 0;
                
                let filter = `sepia(${sepia}) brightness(${brightness}) contrast(${contrast}) grayscale(${grayscale})`;
                
                document.documentElement.style.filter = filter;
                
                if (darkenText.checked) {
                    document.body.style.color = `hsl(0, 0%, ${70 - (warmth * 30)}%)`;
                } else {
                    document.body.style.color = '';
                }
            }
    
            function checkTimeOfDay() {
                const hour = new Date().getHours();
                const isNightTime = hour >= 18 || hour <= 6;
                
                if (isNightTime) {
                    slider.value = 2000;
                    if (autoNightMode.checked && !isEyeProtectionEnabled) {
                        enableEyeProtection();
                        showNotification('تم تفعيل الوضع الليلي تلقائياً');
                    }
                } else {
                    slider.value = 2700;
                }
                updateFilter();
                updateSliderColor(slider.value);
            }
    
            function startAutoNightMode() {
                checkTimeOfDay();
                autoNightModeInterval = setInterval(checkTimeOfDay, 30 * 60 * 1000); // كل 30 دقيقة
            }
    
            function stopAutoNightMode() {
                clearInterval(autoNightModeInterval);
            }
    
            function showNotification(message) {
                const notif = document.createElement('div');
                notif.className = 'notification';
                notif.textContent = message;
                document.body.appendChild(notif);
                
                setTimeout(() => {
                    notif.classList.add('fade-out');
                    setTimeout(() => notif.remove(), 500);
                }, 3000);
            }
    
            function savePreferences() {
                localStorage.setItem('eyeProtectionPrefs', JSON.stringify({
                    autoNightMode: autoNightMode.checked,
                    reduceGlare: reduceGlare.checked,
                    darkenText: darkenText.checked,
                    enabled: isEyeProtectionEnabled,
                    brightness: brightnessSlider.value,
                    colorTemp: slider.value
                }));
            }
    
            // تفعيل الوضع الليلي التلقائي إذا كان الوقت ليلاً
            if (autoNightMode.checked) {
                startAutoNightMode();
            }
            
            // تحديث لون شريط التمرير عند التحميل
            updateSliderColor(slider.value);
        </script>
    </body>
    </html>
  <style>
        body {
            font-family: 'Poppins', 'Amiri', serif;
            background-color: #121212;
            color: white;
            text-align: center;
            margin: 0;
            padding: 20px;



            text-align: center;
        }

        .popup {
            display: none;
            position: fixed;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e1e;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 150, 255, 0.6);
            text-align: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, top 0.3s ease-in-out;
        }

        .popup h3 {
            color: #00aaff;
            font-size: 22px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 10px;
        }

        .input-group input {
            width: 85%;
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #00aaff;
            text-align: center;
            font-size: 16px;
            background-color: #222;
            color: white;
            outline: none;
            transition: 0.3s;
        }

        .input-group input:focus {
            border-color: #007bff;
            box-shadow: 0 0 10px rgba(0, 150, 255, 0.5);
        }

        .gender-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .gender-buttons button {
            background: linear-gradient(90deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 8px;
            font-size: 16px;
            transition: background 0.3s ease, transform 0.2s ease-in-out;
        }

        .gender-buttons button:hover {
            background: linear-gradient(90deg, #0056b3, #003c80);
            transform: scale(1.05);
        }

        .gender-buttons button.selected {
            background: #FFD700;
            color: black;
            font-weight: bold;
        }

        .submit-button {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 25px;
            cursor: pointer;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 16px;
            transition: background 0.3s ease, transform 0.2s ease-in-out;
        }

        .submit-button:hover {
            background: #218838;
            transform: scale(1.05);
        }

        .fade-in {
            opacity: 1 !important;
            top: 50% !important;
        }

        #greeting {
            display: none;
            font-size: 24px;
            font-weight: bold;
            margin-top: 50px;
            text-shadow: 2px 2px 10px rgba(0, 150, 255, 0.5);
        }
#studyMessage {
    display: none;
    font-size: 18px;
    margin-top: 15px;
    color: #FFD700;
    font-weight: bold; /* ← تمت إضافتها */
    text-align: center;
}



    </style>
</head>
<body>

    <br>  <br>  
    <div id="welcomePopup" class="popup">
        <h3>  ! السلام عليكم و أهلاً يا طبيب/طبيبة مستقبلنا ان شاء الله  </h3>

        <p>من فضلك أدخل/ادخلي اسمك واختر/اختاري جنسك:</p>

    
        <div class="input-group">
            <input type="text" id="username" placeholder="أدخل اسمك">
        </div>
    
        <div class="gender-buttons">
            <button id="femaleButton" onclick="selectGender('female')"> امرأة</button>
            <button id="maleButton" onclick="selectGender('male')">  رجل</button>
           
        </div>
    
        <button class="submit-button" onclick="submitInfo()">متابعة</button>
    </div>
    
    <!-- يجب أن يكون خارج نافذة الإدخال حتى يظهر عند الضغط على متابعة -->
    <div id="greetingContainer" style="display: none; flex-direction: column; align-items: center; gap: 10px; margin-top: 70px;">
        <h2 id="welcomeMessage" style="color: #00aaff; text-align: center;"></h2>
        <img id="doctorImage" src="" alt="صورة الطبيب" style="width: 60px; height: 60px; border-radius: 50%;">
        <h1 id="greeting" style="margin: 0; font-size: 22px;"></h1>
    </div>
    <p id="studyMessage" style= " text-align: center; background-color: black;"></p>
    <BR>
<p id="nationMessage" style="color: #FFD700; font-weight: bold; font-size: 18px; text-align: center; background-color: black;"></p>
    
    <script>
        let selectedGender = "";
    
        document.addEventListener("DOMContentLoaded", function () {
            let storedName = localStorage.getItem("username");
            let storedGender = localStorage.getItem("gender");
            let visitCount = parseInt(localStorage.getItem("visitCount") || "0");
    
            visitCount += 1;
            localStorage.setItem("visitCount", visitCount);
    
            if (visitCount >= 3) {
                localStorage.removeItem("username");
                localStorage.removeItem("gender");
                localStorage.setItem("visitCount", "0");
                storedName = null;
            }
    
            if (storedName && storedGender) {
                displayGreeting(storedName, storedGender);
            } else {
                let popup = document.getElementById('welcomePopup');
                popup.style.display = 'block';
                setTimeout(() => popup.classList.add('fade-in'), 50);
            }
        });
    
        function selectGender(gender) {
            selectedGender = gender;
            document.getElementById("maleButton").classList.remove("selected");
            document.getElementById("femaleButton").classList.remove("selected");
    
            if (gender === "male") {
                document.getElementById("maleButton").classList.add("selected");
            } else {
                document.getElementById("femaleButton").classList.add("selected");
            }
        }
    


        function submitInfo() {
    let name = document.getElementById('username').value.trim();
    if (name === "") {
        alert("❌ يرجى إدخال اسمك");
        return;
    }
    if (!selectedGender) {
        alert("❌ يرجى اختيار الجنس");
        return;
    }

    console.log("🚀 إرسال الاسم:", name);
    console.log("🚀 إرسال الجنس:", selectedGender);

    localStorage.setItem("username", name);
    localStorage.setItem("gender", selectedGender);
    localStorage.setItem("visitCount", "0");

    displayGreeting(name, selectedGender);

    let popup = document.getElementById('welcomePopup');
    popup.classList.remove('fade-in');
    setTimeout(() => popup.style.display = 'none', 500);
}






function displayGreeting(name, gender) {
    console.log("✅ تم استلام الاسم:", name);
    console.log("✅ تم استلام الجنس:", gender);

    let welcomeMessage = `السلام عليكم ومرحبًا بك يا ${name}`;  
    
    
    let greetingMessage = gender === "male" 
        ? `مرحبًا دكتور ${name}!` 
        : `مرحبًا دكتورة ${name}!`;

    let studyMessage = gender === "male" 
        ? "ادرس جيدًا يا طبيب المسلمين إن شاء الله 📚" 
        : "ادرسِ جيدًا يا طبيبة المسلمات إن شاء الله 📚";

  
       
        

        let nationNeedsYou = 
    " يقول الله تعالى وبعد بسم الله الرحمان الرحيم :\n" +
    "  ﴿الَّذِينَ يَتَّخِذُونَ الْكَافِرِينَ أَوْلِيَاءَ مِن دُونِ الْمُؤْمِنِينَ ۚ أَيَبْتَغُونَ عِندَهُمُ الْعِزَّةَ فَإِنَّ الْعِزَّةَ لِلَّهِ جَمِيعًا ﴾\n" +
    "[النساء: 139]\n\n" +
    
    " يقول الله تعالى وبعد بسم الله الرحمان الرحيم :\n" +
    "﴿ لَهُ مُعَقِّبَاتٌ مِّن بَيْنِ يَدَيْهِ وَمِنْ خَلْفِهِ يَحْفَظُونَهُ مِنْ أَمْرِ اللَّهِ ۗ إِنَّ اللَّهَ لَا يُغَيِّرُ مَا بِقَوْمٍ حَتَّىٰ يُغَيِّرُوا مَا بِأَنفُسِهِمْ ۗ وَإِذَا أَرَادَ اللَّهُ بِقَوْمٍ سُوءًا فَلَا مَرَدَّ لَهُ ۚ وَمَا لَهُم مِّن دُونِهِ مِن وَالٍ ﴾\n" +
    "[الرعد: 11]\n\n" +

    "أمتكم بحاجة إليكم.. كونوا عونًا لها في سبيل الله، اجعلوا علمكم طريقًا لنهضة أمتكم.. أمتكم بحاجة إليكم.\n\n" +
    
    "فعن السلف الصالح عمر بن الخطاب رضي الله عنه قال:\n" +
    "\"إنَّا كنَّا أذَلَّ قومٍ، فأعزَّنا اللَّهُ بالإسلامِ، فمهما نطلُبِ العِزَّةَ بغيرِ ما أعزَّنا اللَّهُ به أذلَّنا اللَّهُ.\"";

// وضع النص داخل العنصر بدون أكواد HTML ظاهرة
document.getElementById('nationMessage').textContent = nationNeedsYou;






    let imageSrc = gender === "male" 
        ? "S22MCS PARTS/doctor.png" 
        : "S22MCS PARTS/doctormuslim.png";

    // تحديث العناصر في الصفحة
    document.getElementById('welcomeMessage').innerText = welcomeMessage;
    document.getElementById('greeting').innerText = greetingMessage;
    document.getElementById('studyMessage').innerText = studyMessage;
    document.getElementById('nationMessage').innerText = nationNeedsYou;
    document.getElementById('doctorImage').src = imageSrc;

    // عرض القسم بالكامل
    document.getElementById('greetingContainer').style.display = 'flex';
    document.getElementById('studyMessage').style.display = 'block';
    document.getElementById('nationMessage').style.display = 'block';
}

        
    </script>
    
</body>
</html>




<!DOCTYPE html>
        <html lang="ar">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>  </title>
            <style>
                body {
                    font-family: 'Poppins', 'Amiri', serif;
                    background-color: #121212;
                    color: white;
                    margin: 0;
                    padding: 20px;
                    text-align: center;
                    padding-top: 120px;
                }
            

/* الشريط العلوي */
.sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 90px;
    background-color: #333;
    color: white;
    padding: 0 16px;
    z-index: 1000;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    box-sizing: border-box;
}

/* شريط التقدم */
.progress-bar-container {
    width: 90%;
    top: -30px;
    max-width: 600px;
    height: 25px; /* تقليل الارتفاع للأجهزة المحمولة */
    background-color: #444;
    border-radius: 15px;
    position: relative;
    margin: 70px auto 10px auto;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.progress-bar {
    height: 100%;
    width: 50%; /* مثال */
    background-color: #00aaff;
    border-radius: 15px;
    transition: width 0.3s ease-in-out;
}

.progress-percentage {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 14px; /* تصغير حجم الخط للأجهزة المحمولة */
    font-weight: bold;
}

#proo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            font-size: 1.2rem;
            margin: 10px auto;
        }

.finish-button {

    background-color: #00aaff;
    font-size: 0.8rem;
              padding: 0.4rem  0.3rem;
              width: 80%;
              max-width: 100px;
              box-sizing: border-box;
              border: none;
              border-radius: 8px;
              cursor: pointer;
              transition: background-color 0.3s;
}

/* تحسينات للأجهزة صغيرة جدًا */
@media (max-width: 480px) {
    .sidebar {
        padding: 0 10px;
        height: 70px; /* تقليل الارتفاع قليلاً */
    }
    
    .sidebar * {
        font-size: 14px;
    }
    
    .progress-bar-container {
        height: 20px;
        margin: 60px auto 8px auto;
    }
    
    .progress-percentage {
        font-size: 12px;
    }
    
    #proo {
        font-size: 0.6rem;
    }
    
    .finish-button {


                font-size: 0.75rem;
                padding: 0.3rem 0.4rem;
                max-width: 120px;
              

    }
}

/* تحسينات للأجهزة الأفقية (landscape) */
@media (max-height: 480px) {
    .progress-bar-container {
        margin: 50px auto 5px auto;
    }
} 





              
                /* Lesson Container */
                .lesson-container {
                    margin-top: 20px;
                }
            
                /* Bubble Styles */
                .bubble {
                    background: rgba(30, 30, 30, 0.95);
                    box-shadow: 0 6px 20px rgba(0, 150, 255, 0.4);
                    border-left: 6px solid #00aaff;
                    padding: 20px;
                    border-radius: 20px;
                    margin: 20px auto;
                    max-width: 60rem;
                    transition: transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
                    text-align: right;
                    direction: rtl;
                    position: relative;
                    cursor: pointer;



                    margin-bottom: 70px; /* إضافة مسافة فارغة أسفل كل فقاعة */

                }
            
                .bubble:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 12px 30px rgba(0, 150, 255, 0.5);
                }
            
                .interact-button {
                    position: absolute;
                    top: 10px;
                    left: 10px;
                    background-color: #007bff;
                    color: white;
                    border: none;
                    padding: 8px 12px;
                    font-size: 14px;
                    border-radius: 5px;
                    cursor: pointer;
                    transition: background-color 0.3s ease;
                }
            
                .interact-button:hover {
                    background-color: #0056b3;
                }
            
                /* Modal Styles */
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 2000;
                    left: 50%;
                    top: 50%;
                    transform: translate(-50%, -50%);
                    width: 90%;
                    max-width: 400px;
                    background: #222;
                    padding: 20px;
                    border-radius: 10px;
                    box-shadow: 0 4px 10px rgba(0, 150, 255, 0.5);
                    text-align: center;
                }
            
                .modal h3 {
                    margin-bottom: 15px;
                    color: #00aaff;
                }
            
                .modal button {
                    background-color: #007bff;
                    color: white;
                    border: none;
                    padding: 10px 15px;
                    cursor: pointer;
                    border-radius: 5px;
                    margin: 10px;
                    font-size: 16px;
                }
            
                .modal button:hover {
                    background-color: #0056b3;
                }
            
                /* End Lesson Modal */
                #end-lesson-modal {
                    display: none;
                    position: fixed;
                    z-index: 2000;
                    left: 50%;
                    top: 50%;
                    transform: translate(-50%, -50%);
                    width: 80%;
                    max-width: 600px;
                    background-color: #333;
                    padding: 30px;
                    border-radius: 10px;
                    color: white;
                    text-align: center;
                    box-shadow: 0 6px 30px rgba(0, 150, 255, 0.5);
                }
            
                #end-lesson-modal h3 {
                    color: #00aaff;
                    font-size: 24px;
                    margin-bottom: 20px;
                }
            
                #end-lesson-modal p {
                    font-size: 18px;
                    margin-bottom: 20px;
                }
            
                #end-lesson-modal button {
                    background-color: #007bff;
                    color: white;
                    border: none;
                    padding: 10px 20px;
                    cursor: pointer;
                    border-radius: 5px;
                    margin: 10px;
                    font-size: 16px;
                }
            
                #end-lesson-modal button:hover {
                    background-color: #0056b3;
                }
            
                .reload-button {
                    background-color: #28a745;
                }
            
                .reload-button:hover {
                    background-color: #218838;
                }
            
                /* Vibration Animation */
                @keyframes vibrate {
                    0% { transform: translateX(0); }
                    20% { transform: translateX(-5px); }
                    40% { transform: translateX(5px); }
                    60% { transform: translateX(-5px); }
                    80% { transform: translateX(5px); }
                    100% { transform: translateX(0); }
                }
            
                .vibrate {
                    animation: vibrate 0.5s ease-in-out;
                }
            
                /* Media Queries for Small Screens */
                @media (max-width: 768px) {
                    body {
                        padding-top: 80px; /* Reduce top padding */
                    }
            
                    .bubble {
                        max-width: 90%; /* Make the bubble width responsive */
                        padding: 15px; /* Reduce padding */
                    }
            
                    .interact-button {
                        font-size: 12px; /* Reduce button font size */
                        padding: 6px 10px; /* Adjust padding */
                    }
            
                    .finish-button {
                        font-size: 12px; /* Adjust font size */
                        padding: 8px 13px; /* Adjust padding */
                    }
            
                    .lesson-container {
                        margin-top: 10px; /* Adjust for smaller screens */
                    }
                }
            
                @media (max-width: 480px) {
                    body {
                        font-size: 14px; /* Adjust font size for very small screens */
                        padding: 10px; /* Reduce padding */
                    }
            
                    .bubble {
                        padding: 10px; /* Reduce padding */
                        max-width: 100%; /* Full width on very small screens */
                    }
            
                    .interact-button {
                        font-size: 8px; /* Reduce button font size */
                        padding: 4px 7px; /* Adjust padding */
                    }
            
                    .finish-button {
                        font-size: 10px; /* Reduce font size */
                        padding: 5px 10px; /* Adjust padding */
                    }
                }
     
            
@media (max-width: 768px) {
    .progress-bar-container {
        width: 85%; /* عرض الشريط أكبر قليلاً على الشاشات الصغيرة */
    }
}

/* استعلام ميديا للأجهزة التي يزيد عرض شاشتها عن 480 بكسل */
@media (max-width: 480px) {
    .progress-bar-container {
        width: 90%; /* شريط التقدم يشغل مساحة أكبر على الشاشات الصغيرة جدًا */
        height: 20px; /* تقليص الارتفاع قليلاً */
    }
}












.outside-image {
    display: block; /* يجعل الصورة عنصرًا منفصلًا */
    margin: 20px auto; /* يضع الصورة في المنتصف */
    max-width: 100%; /* يضمن أن الصورة لا تتجاوز حجم الشاشة */
    height: auto; /* يحافظ على الأبعاد الأصلية للصورة */
}










/* Refresh Container */
.refresh-container {
    text-align: center;
    margin-top: 15px;
}

.refresh-button {
    background: linear-gradient(135deg, #1a1a1a, #333); /* ألوان داكنة مريحة */
    color: #ffffff;
    border: 1px solid #444;
    padding: 10px 22px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    border-radius: 25px;
    font-family: 'Poppins', Arial, sans-serif;
    transition: all 0.3s ease-in-out;
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
    outline: none;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    min-width: 160px;
    justify-content: center;
}

.refresh-button:hover {
    background: linear-gradient(135deg, #292929, #444);
    transform: translateY(-3px);
    box-shadow: 0 6px 18px rgba(255, 255, 255, 0.15);
}

.refresh-button:active {
    transform: scale(0.96);
}

.refresh-button::before {
    content: "🔄"; /* أيقونة التحديث */
    font-size: 18px;
}

/* تحسين للهواتف */
@media (max-width: 768px) {
    .refresh-button {
        padding: 8px 18px;
        font-size: 14px;
        min-width: 140px;
    }
}

@media (max-width: 480px) {
    .refresh-button {
        padding: 7px 16px;
        font-size: 13px;
        min-width: 120px;
        border-radius: 20px;
    }
}




</style>





<body>
 

    <div class="sidebar">
   
        <button class="finish-button" onclick="finishLesson()" 
        style="font-size: 15px; padding: 6px 10px; position: relative; right: -20px;">
        ✅ انتهيت من الدرس
    </button>
     
    
        <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
            <div class="progress-percentage" id="progress-percentage">0%</div>
        </div>

        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;

        <h3 id="proo" style="margin-right: 20px;">📊 <span>التقدم</span></h3>

      


        


        <style>
            .uncompleted-button {
              font-size: 0.8rem;
              padding: 0.4rem  0.3rem;
              width: 80%;
              max-width: 100px;
              box-sizing: border-box;
              border: none;
              border-radius: 8px;
              background-color: #007bff; /* أزرق فاتح */
              cursor: pointer;
              transition: background-color 0.3s;
            }
          
            .uncompleted-button:hover {
              background-color:  #0056b3; /* أزرق أغمق قليلاً عند التحويم */
            }
          
            /* تصغير الزر أكثر على الشاشات الصغيرة */
            @media (max-width: 600px) {
              .uncompleted-button {
                font-size: 0.75rem;
                padding: 0.3rem 0.4rem;
                max-width: 120px;
              }
            }
          </style>
          
          <button onclick="goToUncompletedBubble()" class="uncompleted-button">
            🔍 الفقاعات غير المكتملة
          </button>
          

</div>
    


    


    <br>
    <div class="refresh-container"  id="ref">
        <button class="refresh-button" onclick="location.reload();">تحديث الصفحة</button>
    </div>
    <br>
    <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 70vh; text-align: center;">
      
     

 
     
        <h1 class="lesson-title"> النهايات العصبية في الجلد </h1>
        <h2 class="lesson-subtitle">🔻NERVOUS TERMINATIONS IN THE SKIN🔻</h2>
        <h2 class="lesson-subtitle">🔻LES TERMINAISONS NERVEUSES DE LA PEAU 🔻</h2>
    
    </div>
          
    </div>
    

     


     <!DOCTYPE html>
     <html lang="ar">
     <head>
         <meta charset="UTF-8">
         <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <title>تم عبر برنامج 2019 الطب الجزائري</title>
     
         <style>
         body {
             font-family: 'Poppins', 'Amiri', serif;
             direction: rtl;
             text-align: right;
             background-color: #121212;
             color: white;
             margin: 0;
             padding: 20px;
         }
         
         .container {
             max-width: 600px;
             margin: auto;
             background: #1e1e1e;
             padding: 20px;
             border-radius: 10px;
             box-shadow: 0 0 15px rgba(0, 150, 255, 0.3);
         }
         
         h2 {
             text-align: center;
             color: #00aaff;
         }
         
         .lesson {
             display: flex;
             align-items: center;
             justify-content: space-between;
             padding: 15px;
             border-bottom: 1px solid #444;
             flex-direction: column;
             background: rgba(30, 30, 30, 0.9);
             border-radius: 10px;
             margin-bottom: 10px;
             transition: transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
         }
         
         .lesson:hover {
             transform: translateY(-3px);
             box-shadow: 0 6px 15px rgba(0, 150, 255, 0.4);
         }
         
         .lesson input {
             transform: scale(1.3);
             accent-color: #00aaff;
         }
         
         .lesson span {
             flex-grow: 1;
             margin-right: 10px;
         }
         
         .translation {
             font-size: 12px;
             color: #bbb;
             margin-top: 5px;
         }
         
         .progress-bar {
             width: 100%;
             background: #444;
             height: 12px;
             border-radius: 6px;
             margin: 10px 0;
             overflow: hidden;
         }
         
         .progress {
             height: 100%;
             background: #00aaff;
             width: 0%;
             transition: width 0.3s;
         }
         
         .btn {
             display: block;
             width: 100%;
             padding: 12px;
             background: #00aaff;
             color: white;
             text-align: center;
             border: none;
             border-radius: 6px;
             cursor: pointer;
             font-size: 16px;
             margin-top: 10px;
             transition: background 0.3s ease-in-out;
         }
         
         .btn:hover {
             background: #0077cc;
         }
         
         .lang {
             text-align: center;
             color: #bbb;
             font-size: 14px;
             margin-top: 20px;
         }
     </style>    
     </head>
     <body>
         <div class="container">

             <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
                <h2>الأهداف العامة والخاصة في الدرس</h2>
            </div>
            
             <div class="progress-bar"><div class="progress"></div></div>
             <div id="lessonList"></div>
             <button class="btn" onclick="completeAll()">إكمال الكل</button>
             <div class="lang">
                
                العربية

                <br>
            English | Français 
            </div>
         </div>
     
         <script>
             const lessons = [
        


             { ar: "  الاهداف العامة   " },




        { ar: "  الاهداف الخاصة بالدرس   " },







    ];

     
             const lessonList = document.getElementById("lessonList");
             lessons.forEach((lesson, index) => {
                 const div = document.createElement("div");
                 div.className = "lesson";
                 div.innerHTML = `
                     <input type="checkbox" onchange="updateProgress()" id="lesson${index}">
                     <span>${lesson.ar}</span>
                     <div class="translation">${lesson.en}</div>
                     <div class="translation">${lesson.fr}</div>
                 `;
                 lessonList.appendChild(div);
             });
     
             function updateProgress() {
                 const checkboxes = document.querySelectorAll("input[type=checkbox]");
                 let completed = 0;
                 checkboxes.forEach(cb => { if (cb.checked) completed++; });
                 document.querySelector(".progress").style.width = (completed / lessons.length * 100) + "%";
             }
     
             function completeAll() {
                 document.querySelectorAll("input[type=checkbox]").forEach(cb => cb.checked = true);
                 updateProgress();
             }
         </script>
     </body>
     </html>
     














                        


     <div class="bubble">
        <button class="interact-button" id="peau-intro" onclick="markBubbleAsCompleted(this)">تفاعل</button>
    
        <!-- المحتوى بالعربية -->
        <ul>
            <li><strong>مقدمة:</strong></li>
            <ul>
                <li>يشكّل الجلد حاجزًا واقيًا للجسم ضد البيئة الخارجية، ولكنه يؤدي أيضًا وظائف حيوية أخرى.</li>
                <li>من أبرز هذه الوظائف: <strong>الإحساس الجلدي</strong>، حيث يُعد الجلد عضو اللمس.</li>
                <li>تقوم الألياف العصبية في الجلد بدور الحسيّة، وقد تكون:</li>
                <ul>
                    <li>منفردة: وهي النهايات العصبية الحرة.</li>
                    <li>أو مرتبطة ببنى أخرى لتكوين جسيمات حسية تجعل الجلد عضوًا حسيًا.</li>
                </ul>
            </ul>
        </ul>
    
        <br>
    
        <!-- English version -->
        <div class="bubble" dir="ltr">
            <ul>
                <li><strong>Introduction:</strong></li>
                <ul>
                    <li>The skin forms a protective barrier for the body against the external environment and also ensures other vital functions.</li>
                    <li>One key role is <strong>cutaneous sensitivity</strong>; the skin acts as a sensory organ (organ of touch).</li>
                    <li>Nerve fibers in the skin can be:</li>
                    <ul>
                        <li>Isolated: corresponding to free nerve endings.</li>
                        <li>Associated with other structures to form sensory corpuscles, making the skin a sensory interface with the environment.</li>
                    </ul>
                </ul>
            </ul>
        </div>
    
        <br>
    
        <!-- Version française -->
        <div class="bubble">
            <ul>
                <li><strong>Introduction :</strong></li>
                <ul>
                    <li>La peau forme une barrière de protection de l'organisme contre le milieu extérieur, mais elle assure également d'autres fonctions vitales.</li>
                    <li>Parmi celles-ci : <strong>la sensibilité cutanée</strong>.</li>
                    <li>La peau est un organe du tact, jouant un rôle sensoriel avec l’extérieur.</li>
                    <li>Les fibres nerveuses peuvent être :</li>
                    <ul>
                        <li>Isolées : correspondant à des terminaisons nerveuses libres.</li>
                        <li>Ou associées à d'autres structures formant des corpuscules sensoriels qui font de la peau un organe sensoriel.</li>
                    </ul>
                </ul>
            </ul>
        </div>
    </div>
    


                        
                        



    <div class="bubble">
        <button class="interact-button" id="skin-layers-inline" onclick="markBubbleAsCompleted(this)">تفاعل</button>
    

        


        <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 HISTOLOGIE/A50.jpg" alt="NNN" class="outside-image">
            </figure>
        </div>
        <ul>
            <li><strong>طبقات ومكونات الجلد | Skin Layers & Components | Couches et éléments de la peau :</strong></li>
            <ul>
                <li>شَعرة | Hair | Pil</li>
                <li>الطبقة القرنية | Stratum corneum | Couche cornée</li>
                <li>البشرة | Epidermis | Épiderme</li>
                <li>الأُدْمَة | Dermis | Derme</li>
                <li>تحت الأدمة / النسيج تحت الجلدي | Hypodermis / Subcutaneous tissue | Hypoderme / Tissu sous-cutané</li>
                <li>عضلة (العضلة الناصبة للشعرة) | Muscle (Arrector pili) | Muscle (arrecteur du poil)</li>
            </ul>
        </ul>


    </div>
    
                   







    <div class="bubble">
        <button class="interact-button" id="nerve-endings" onclick="markBubbleAsCompleted(this)">تفاعل</button>
    
        <!-- المحتوى بالعربية -->
        <ul>
            <li><strong>٢. النهايات العصبية الحرة:</strong></li>
            <ul>
                <li><strong>٢.١ في البشرة:</strong></li>
                <li>الألياف العصبية الحسية في الجلد هي امتدادات واردة للبروتونورونات الحسية (الخلايا على شكل T) الموجودة في العقد الشوكية.</li>
            </ul>
        </ul>
    
        <br>
    
        <!-- English version -->
        <div class="bubble" dir="ltr">
            <ul>
                <li><strong>2. Free nerve endings:</strong></li>
                <ul>
                    <li><strong>2.1 In the epidermis:</strong></li>
                    <li>Cutaneous sensory nerve fibers are afferent extensions of sensory protoneurons (T-shaped cells) located in the spinal ganglia.</li>
                </ul>
            </ul>
        </div>
    
        <br>
    
        <!-- Version française -->
        <div class="bubble">
            <ul>
                <li><strong>2. Les terminaisons nerveuses libres :</strong></li>
                <ul>
                    <li><strong>2.1. De l’épiderme :</strong></li>
                    <li>Les fibres nerveuses sensitives de la peau sont des prolongements afférents des protoneurones sensitifs (cellules en T) des ganglions spinaux.</li>
                </ul>
            </ul>
        </div>
    </div>
    





    <div class="bubble">
        <button class="interact-button" id="skin-summary" onclick="markBubbleAsCompleted(this)">تفاعل</button>
    


        

        <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 HISTOLOGIE/A51.jpg" alt="NNN" class="outside-image">
            </figure>
        </div>
        <ul>
            <li><strong>طبقات الجلد ومكوناته | Skin layers and structures | Couches et structures de la peau :</strong></li>
            <ul>
                <li>البشرة | Epidermis | Épiderme</li>
                <li>الأدمة | Dermis | Derme</li>
                <li>تحت الأدمة | Hypodermis | Hypoderme</li>
                <li>الغدة الدهنية | Sebaceous gland | Glande sébacée</li>
                <li>العضلة الناصبة للشعرة | Arrector pili muscle | Muscle érecteur du poil</li>
                <li>الغدة العرقية | Sweat gland | Glande sudoripare</li>
                <li>جريب الشعرة | Hair follicle | Follicule pileux</li>
                <li>الدهون (خلايا دهنية) | Fat (adipocytes) | Graisse (adipocytes)</li>
                <li>عصب | Nerve | Nerf</li>
                <li>أوعية دموية | Blood vessels | Vaisseaux sanguins</li>
                <li>مسام الجلد | Skin pore | Pore de la peau</li>
            </ul>
        </ul>
    </div>
    










    <div class="bubble">
        <button class="interact-button" id="organe-merkel" onclick="markBubbleAsCompleted(this)">تفاعل</button>
    
        <!-- المحتوى بالعربية -->
        <ul>
            <li><strong>عضو ميركل:</strong></li>
            <ul>
                <li>تشكل الألياف العصبية في الجزء العميق من البشرة قرصين مفلطحين متوازيين مع الغشاء القاعدي، بين خلايا ميركل وأول الخلايا الكيراتينية في الطبقة الشوكية.</li>
                <li>يعد عضو ميركل مسؤولاً عن الإحساس باللمس السطحي.</li>
            </ul>
        </ul>
    
        <br>
    
        <!-- English version -->
        <div class="bubble" dir="ltr">
            <ul>
                <li><strong>Merkel Organ:</strong></li>
                <ul>
                    <li>Its nerve fibers form, in the deep part of the epidermis, two flattened discs parallel to the basal layer, located between Merkel cells and the first keratinocytes of the spinous layer.</li>
                    <li>The Merkel organ is responsible for the sensation of superficial touch.</li>
                </ul>
            </ul>
        </div>
    
        <br>
    
        <!-- Version française -->
        <div class="bubble">
            <ul>
                <li><strong>2.1.1 - L’organe de Merkel :</strong></li>
                <ul>
                    <li>Ses fibres nerveuses forment dans la partie profonde de l’épiderme deux disques aplatis parallèles à la lame basale, entre les cellules de Merkel et les premiers kératinocytes de la couche à épines.</li>
                    <li>L’organe de Merkel est responsable de la sensation de tact superficiel.</li>
                </ul>
            </ul>
        </div>



            

        <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 HISTOLOGIE/A52.jpg" alt="NNN" class="outside-image">
            </figure>
        </div>

        <div class="bubble">
            <button class="interact-button" id="merkel-glossary" onclick="markBubbleAsCompleted(this)">تفاعل</button>
        
    
            <!-- Glossaire trilingue : arabe - anglais - français -->
            <ul>
                <li><strong>ترجمة ثلاثية للمصطلحات:</strong></li>
                <ul>
                    <li>تجمع: عضو ميركل — Cluster: Merkel organ — Amas : organe de Merkel</li>
                    <li>الضغوط — Pressure — Pressions</li>
                    <li>مرتبط بالجهاز العصبي، مستقبل ميكانيكي — Connected to nervous system, mechanoreceptor — Relié au système nerveux, mécanorécepteur</li>
                    <li>دسموزومات، كيراتين (صفات ظهارية) — Desmosomes, Keratin (epithelial features) — Desmosomes, Kératine (caractères épithéliaux)</li>
                    <li>حبيبات الإفراز — Secretory granules — Grains de sécrétion</li>
                    <li>الغشاء القاعدي — Basal lamina — Lame basale</li>
                    <li>شعيرة دموية — Capillary — Capillaire</li>
                    <li>عصبي-صماوي (SED) (صفة عصبية) — Neuroendocrine (SED) (neural feature) — Neuroendocrine (SED) (caractère neural)</li>
                    <li>= من الأديم الظاهر — = Ectoblastic — = Ectoblastique</li>
                </ul>
            </ul>
        </div>
        
    </div>
    


















    <div class="bubble">
        <button class="interact-button" id="langerhans-network" onclick="markBubbleAsCompleted(this)">تفاعل</button>
    
        <!-- العنوان بالعربية -->
        <ul>
            <li><strong>شبكة لانغرهانس:</strong></li>
            <ul>
                <li>هي عبارة عن تجميع للألياف العصبية التي تتسلل بين خلايا الطبقة الشائكة. هذه الألياف تتجمع لتشكل ألياف عصبية تعبر الطبقة القاعدية.</li>
                <li>تعتبر شبكة لانغرهانس مسؤولة عن الإحساس بالألم الحاد و/أو الحرارة.</li>
            </ul>
        </ul>
    
        <br>
    
        <!-- English Version -->
        <div class="bubble" dir="ltr">
            <ul>
                <li><strong>Langerhans Network:</strong></li>
                <ul>
                    <li>It is a collection of nerve fibers that penetrate between the cells of the spinous layer. These fibers converge to form a nerve fiber that passes through the basal layer.</li>
                    <li>The Langerhans network is responsible for acute pain and/or thermal sensations.</li>
                </ul>
            </ul>
        </div>
    
        <br>
    
        <!-- Version française -->
        <div class="bubble">
            <ul>
                <li><strong>Le réseau de Langerhans :</strong></li>
                <ul>
                    <li>Il s’agit d’un regroupement de fibrilles nerveuses qui s’insinuent entre les cellules de la couche à épines. Ces fibrilles convergent pour former une fibre nerveuse qui traverse la basale.</li>
                    <li>Le réseau de Langerhans est responsable des sensations douloureuses aiguës et/ou thermiques.</li>
                </ul>
            </ul>
        </div>
    </div>
    








    
                    

        <div class="bubble">
            <button class="interact-button" id="derme" onclick="markBubbleAsCompleted(this)">تفاعل</button>
        
            <!-- العنوان بالعربية -->
            <ul>
                <li><strong>الطبقة المتوسطة (الدرم):</strong></li>
                <ul>
                    <li>توجد الشبكات العصبية بشكل أساسي في الجزء السطحي من الدرم.</li>
                </ul>
            </ul>
        
            <br>
        
            <!-- الشبكة العصبية من نوع رافيني -->
            <ul>
                <li><strong>2.2.1. شبكة رافيني:</strong></li>
                <ul>
                    <li>هي شبكة من الألياف العصبية الميالينية الموجودة في الجزء الخارجي من الطبقة المسطحة للدرم. مسؤولة عن اكتشاف الضغط على الجلد وتمدد الجلد.</li>
                </ul>
            </ul>
        
            <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED U5 HISTOLOGIE/A53.png " alt="NNN" class="outside-image">
                </figure>
            </div>
            <br>
        
            <!-- سلالات دوغيل -->
            <ul>
                <li><strong>2.2.2. سلالات دوغيل:</strong></li>
                <ul>
                    <li>هي امتدادات لشبكة رافيني التي تمتد إلى الطبقة الحليمية للدرم. عبارة عن شبكة صغيرة غير ميالينية تمتد حتى الحلمة الجلدية.</li>
                    <li>كلاهما مسؤول عن الإحساس بالحرارة والألم.</li>
                </ul>
            </ul>
        
            <br>
        
            <!-- الخلايا الحسية -->
            <ul>
                <li><strong>3. الخلايا الحسية:</strong></li>
                <ul>
                    <li>هي نهايات محاطة بكبسولات مرتبطة بالخلايا الحسية.</li>
                    <li>توجد في الدرم والطبقة تحت الجلد (الهيبوديرم).</li>
                    <li>تتمتع هذه الخلايا جميعًا بالخصائص التالية من الخارج إلى الداخل:
                        <ul>
                            <li>كبسولة ليفية</li>
                            <li>خلايا داعمة</li>
                            <li>نهاية عصبية شجرية</li>
                        </ul>
                    </li>
                </ul>
            </ul>
        
            <br>
        
            <!-- English Version -->
            <div class="bubble" dir="ltr">
                <ul>
                    <li><strong>2.2. The Dermis:</strong></li>
                    <ul>
                        <li>Nerve networks are mainly found in the superficial part of the dermis.</li>
                    </ul>
                </ul>
        
                <br>
        
                <ul>
                    <li><strong>2.2.1. Ruffini Network:</strong></li>
                    <ul>
                        <li>It is a network of myelinated fibers located at the outer part of the dermal lamellar layer. Responsible for detecting pressure on the skin and skin stretching.</li>
                    </ul>
                </ul>
        
                <br>
        
                <ul>
                    <li><strong>2.2.2. Dogiel's Panniers:</strong></li>
                    <ul>
                        <li>These are extensions of the Ruffini network that project into the dermal papillary layer. It is a small non-myelinated network extending to the dermal papilla.</li>
                        <li>Both are responsible for thermal and painful sensations.</li>
                    </ul>
                </ul>
        
                <br>
        
                <ul>
                    <li><strong>3. Sensory Corpuscles:</strong></li>
                    <ul>
                        <li>Encapsulated endings associated with sensory cells.</li>
                        <li>They are located in the dermis and hypodermis.</li>
                        <li>These corpuscles share the following characteristics from outside to inside:
                            <ul>
                                <li>Connective capsule</li>
                                <li>Supporting cells</li>
                                <li>Dendritic nerve ending</li>
                            </ul>
                        </li>
                    </ul>
                </ul>
            </div>
        
            <br>
        
            <!-- Version française -->
            <div class="bubble">
                <ul>
                    <li><strong>2.2. Le derme :</strong></li>
                    <ul>
                        <li>Les réseaux nerveux sont principalement trouvés dans la partie superficielle du derme.</li>
                    </ul>
                </ul>
        
                <br>
        
                <ul>
                    <li><strong>2.2.1. Le réseau de Ruffini :</strong></li>
                    <ul>
                        <li>Il s’agit d’un réseau de fibres myélinisées situées dans la partie externe de la couche planiforme du derme. Responsable de la détection des pressions sur la peau et de l'étirement de la peau.</li>
                    </ul>
                </ul>
        
                <br>
        
                <ul>
                    <li><strong>2.2.2. Paniers de Dogiel :</strong></li>
                    <ul>
                        <li>Ce sont des extensions du réseau de Ruffini qui se projettent dans la couche papillaire du derme. Il s’agit d’un petit réseau amyélinique remontant jusqu’à la papille dermique.</li>
                        <li>Les deux sont responsables des sensations thermiques et douloureuses.</li>
                    </ul>
                </ul>
        
                <br>
        
                <ul>
                    <li><strong>3. Les corpuscules sensoriels :</strong></li>
                    <ul>
                        <li>Terminaisons encapsulées associées aux cellules sensorielles.</li>
                        <li>Ils se trouvent dans le derme et l'hypoderme.</li>
                        <li>Ces corpuscules partagent les caractéristiques suivantes de l'extérieur vers l'intérieur :
                            <ul>
                                <li>Capsule conjonctive</li>
                                <li>Cellules de soutien</li>
                                <li>Terminaison nerveuse dendritique</li>
                            </ul>
                        </li>
                    </ul>
                </ul>
            </div>
        </div>
        





















        <div class="bubble">
            <button class="interact-button" id="wagner-meissner" onclick="markBubbleAsCompleted(this)">تفاعل</button>
        
            <!-- العنوان بالعربية -->
            <ul>
                <li><strong>3.1. جسيم واغنر-مايسنر:</strong></li>
                <ul>
                    <li>يوجد في الحليمات الجلدية، خاصة في الجزء الباطني من اليدين؛ والجزء السفلي من القدمين؛ والشفاه، والغدد، والحلمات.</li>
                  
                    <li>توزيع هذه الجسيمات يبرز أهميتها في الإدراكات اللمسية الدقيقة (ومن هنا جاء اسم الجسيمات اللمسية لمايسنر).</li>
                  
                  
                    <div style="display: flex; gap: 10px;">
                        <figure class="bubble">
                            <img src="2MED U5 HISTOLOGIE/A54.jpg "alt="NNN" class="outside-image">
                        </figure>
                    </div>


                    <li>هو جسيم بيضاوي الشكل موجه في محور الحلمة.</li>
                    <li>عرضه 30 ميكرومتر وطوله 100 ميكرومتر.</li>
                    <li>الكبسولة رقيقة ومبطنه من الداخل بطبقة خلوية شبيهة بالخلايا البطانية.</li>
                    <li>في الداخل يوجد نسيج عصبي دقيق وخلايا شوان بترتيب مكدس.</li>
                    <li>الألياف الحسية: تفقد غمد الميالين عند دخول الجسيم، وتتفرع وتصعد نحو القمة في مسار حلزوني بين الخلايا.</li>
                    
                    <li>يوجد نوع آخر من الألياف من أصل عصبي وداعم يشكل شبكة عند محيط الجسيم، تُسمى ألياف تيموفيف.</li>
                    
                    <div style="display: flex; gap: 10px;">
                        <figure class="bubble">
                            <img src="2MED U5 HISTOLOGIE/A55.jpg" alt="NNEN" class="outside-image">
                        </figure>
                    </div>
                    <li>يعد جهاز استشعار ميكانيكي ويشارك في الإدراك اللمسي السطحي.</li>
                </ul>
            </ul>
        
            <br>
        
            <!-- English Version -->
            <div class="bubble" dir="ltr">
                <ul>
                    <li><strong>3.1. Wagner-Meissner Corpuscle:</strong></li>
                    <ul>
                        <li>Located in the dermal papillae, especially on the palmar side of the hands, plantar side of the feet, lips, glans, and nipple.</li>
                        <li>This distribution highlights their importance in fine tactile perceptions (hence the name Meissner tactile corpuscles).</li>
                        <li>It is an ovoid corpuscle oriented along the axis of the papilla.</li>
                        <li>It measures 30 µm in width and 100 µm in length.</li>
                        <li>The capsule is thin and lined on its inner face by an endothelial-like cellular layer.</li>
                        <li>Inside, there is delicate neuroglial tissue and stacked Schwann cells.</li>
                        <li>The sensory fiber: loses its myelin sheath at the entrance to the corpuscle, branches, and spirals up towards the top between the cells.</li>
                        <li>There is a second type of fiber of sympathetic origin that forms a network at the periphery of the corpuscle — the Timofeev fibers.</li>
                        <li>It is a mechanoreceptor involved in superficial tactile perception.</li>
                    </ul>
                </ul>
            </div>
        
            <br>
        
            <!-- Version française -->
            <div class="bubble">
                <ul>
                    <li><strong>3.1. Corpuscule de Wagner-Meissner :</strong></li>
                    <ul>
                        <li>Il se situe dans les papilles du derme, surtout au niveau de la face palmaire de la main, face plantaire des pieds, lèvres, glande et mamelon.</li>
                        <li>Cette répartition évoque déjà leur importance dans les perceptions tactiles fines (d'où le nom de corpuscules tactiles de Meissner).</li>
                        <li>C’est un corpuscule ovoïde orienté dans l’axe de la papille.</li>
                        <li>Il mesure 30 µm de large et 100 µm de long.</li>
                        <li>La capsule est mince et bordée sur sa face interne par une couche cellulaire endothéliforme.</li>
                        <li>A l’intérieur se trouve un tissu neuroglial délicat et les cellules de Schwan à aspect empilé.</li>
                        <li>La fibre sensorielle : perd sa gaine de myéline à l’entrée du corpuscule, se ramifie et monte vers le sommet en prenant un trajet spiralé entre les cellules.</li>
                        <li>Il existe un deuxième type de fibre d’origine sympathique qui forme un réseau à la périphérie du corpuscule, appelées les fibres de Timofeev.</li>
                        <li>C’est un mécanorécepteur, intervenant dans la perception du tact superficiel.</li>
                    </ul>
                </ul>
            </div>
        </div>
        








        <div class="bubble">
            <button class="interact-button" id="ruffini-corpuscles" onclick="markBubbleAsCompleted(this)">تفاعل</button>
        
            <!-- العنوان بالعربية -->
            <ul>
                <li><strong>3.2. جسيمات رافيني:</strong></li>
                <ul>
                    <li>يعد هذا الجسيم الأكثر انتشارًا.</li>
                    <li>يوجد في الطبقة المسطحة من الدرم.</li>
                    <li>هو جسيم بيضاوي الشكل محاط بكبسولة ليفية رقيقة.</li>
                    <li>الألياف العصبية (التشعبات العصبية) تتفرع بشكل كبير.</li>
                    <li>يوجد أيضًا نوع من الألياف يسمى ألياف تيموفيف.</li>
                    <li>يشارك في إدراك الضغوط والاهتزازات (الإحساس العميق باللمس).</li>
                </ul>
            </ul>
        

            <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED U5 HISTOLOGIE/A56.png "alt="2NN" class="outside-image">
                </figure>
            </div>
            <br>
        
            <!-- English Version -->
            <div class="bubble" dir="ltr">
                <ul>
                    <li><strong>3.2. Ruffini Corpuscles:</strong></li>
                    <ul>
                        <li>It is the most widespread corpuscle.</li>
                        <li>Located in the lamellar layer of the dermis.</li>
                        <li>It is an ovoid corpuscle surrounded by a thin connective capsule.</li>
                        <li>The nerve fiber (dendrite) is highly branched.</li>
                        <li>A Timofeev fiber is also present.</li>
                        <li>It plays a role in the perception of pressure and vibration (deep touch sensation).</li>
                    </ul>
                </ul>
            </div>
        
            <br>
        
            <!-- Version française -->
            <div class="bubble">
                <ul>
                    <li><strong>3.2. Corpuscules de Ruffini :</strong></li>
                    <ul>
                        <li>C’est le plus répandu.</li>
                        <li>Il siège dans la couche planiforme du derme.</li>
                        <li>Il s’agit d’un corpuscule ovoïde entouré par une capsule conjonctive peu épaisse.</li>
                        <li>La fibre nerveuse (dendrite) est très ramifiée.</li>
                        <li>Une fibre de Timofeev est également présente.</li>
                        <li>Il joue un rôle dans la perception des pressions et des vibrations (tact profond).</li>
                    </ul>
                </ul>
            </div>
        </div>
        










        <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 HISTOLOGIE/A57.jpg "alt="NNN" class="outside-image">
            </figure>
        </div>
        <br>











        <div class="bubble">
            <button class="interact-button" id="vater-pacini" onclick="markBubbleAsCompleted(this)">تفاعل</button>
        
            <!-- العنوان بالعربية -->
            <ul>
                <li><strong>3.3. جسيم فاتر-باشيني:</strong></li>
                <ul>
                    <li>يوجد في المخاريط الليفية للأدمة التحتية في الجلد السميك، خاصة في باطن القدمين.</li>
                    <li>يوجد أيضًا على مستوى المفاصل، الأوتار، اللفافات، والمساريقا.</li>
                  
                    <li>هو جسيم بيضاوي الشكل يتراوح حجمه بين 1 و2 ملم، محاط بكبسولة ضامة سميكة جدًا تشبه طبقات البصل، مكونة من صفائح ليفية تحتوي على بعض الأرومات الليفية.</li>
                  
                              
    

        
        <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 HISTOLOGIE/A58.jpg "alt="NNN" class="outside-image">
            </figure>
        </div>
                    <li>بداخله، تكون خلايا شوان العصبية الداعمة منظمة بشكل متحد المركز.</li>
                    <li>تنتهي الليفة العصبية الحسية بنهاية منتفخة تشبه الهراوة.</li>
                    <li>أطراف ألياف تيموفيف تتموضع على الوجه الداخلي للكبسولة.</li>
                    <li>يعمل هذا الجسيم على تسجيل الإحساس بالضغط (اللمس العميق).</li>
                </ul>
            </ul>
        

                                        
        <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 HISTOLOGIE/A60.jpg" alt="NNN" class="outside-image">
            </figure>
        </div>
      
    
    
            <br>
        
            <!-- English Version -->
            <div class="bubble" dir="ltr">
                <ul>
                    <li><strong>3.3. Vater-Pacini Corpuscle:</strong></li>
                    <ul>
                        <li>Located in the fibrous cones of the hypodermis of thick skin, particularly on the soles of the feet.</li>
                        <li>Also found at the level of joints, tendons, aponeuroses, and mesentery.</li>
                        <li>It is an ovoid corpuscle measuring 1 to 2 mm, surrounded by a very thick onion-like connective capsule composed of connective lamellae with a few fibrocytes.</li>
                        <li>Inside, Schwann neuroglial cells are also arranged concentrically.</li>
                        <li>The sensory nerve fiber ends in a single, club-shaped swelling.</li>
                        <li>The tips of Timofeev fibers are located on the inner surface of the capsule.</li>
                        <li>This corpuscle detects deep touch sensations, such as pressure.</li>
                    </ul>
                </ul>
            </div>
        
            <br>
        
            <!-- Version française -->
            <div class="bubble">
                <ul>
                    <li><strong>3.3. Corpuscule de Vater-Pacini :</strong></li>
                    <ul>
                        <li>Il est situé dans les cônes fibreux de l'hypoderme de la peau épaisse, à la plante des pieds.</li>
                        <li>On le trouve aussi au niveau des articulations, des tendons, des aponévroses et du mésentère.</li>
                        <li>Corpuscule ovoïde de 1 à 2 mm entouré d’une capsule conjonctive très épaisse en pelure d’oignon, constituée de lamelles conjonctives avec quelques fibrocytes.</li>
                        <li>À l’intérieur, les cellules neurogliales schwanniennes sont également concentriques.</li>
                        <li>La fibre nerveuse sensorielle se termine par une extrémité unique renflée en massue.</li>
                        <li>Les extrémités de la fibre de Timofeev se placent à la face interne de la capsule.</li>
                        <li>Ce corpuscule enregistre les sensations de tact profond, notamment les pressions.</li>
                    </ul>
                </ul>
            </div>
        </div>
        

    

        <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 HISTOLOGIE/A59.jpg"  alt="NNN" class="outside-image" style="width: 264px; height: 191px; object-fit: cover;">
            </figure>
        </div>
        







        <div class="bubble">
            <button class="interact-button" id="golgi-mazzoni" onclick="markBubbleAsCompleted(this)">تفاعل</button>
        
            <!-- العنوان بالعربية -->
            <ul>
                <li><strong>3.4. جسيم جولجي-مازوني:</strong></li>
                <ul>
                    <li>يوجد في الجزء العميق من الأدمة.</li>
                    <li>يأخذ شكلاً بيضويًا.</li>
                    <li>محاط بكبسولة سميكة مكونة من طبقات.</li>
                    <li>في الداخل، تُكوِّن خلايا شوان قبتين نصف كرويتين.</li>
                    <li>الليفة العصبية الحسية تكون متفرعة.</li>
                    <li>يُساهم في الإحساس باللمس العميق.</li>
                </ul>
            </ul>
        

            <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED U5 HISTOLOGIE/A61.jpg"  alt="NNN" class="outside-image" style="width: 264px; height: 191px; object-fit: cover;">
                </figure>
            </div>
            
    
            <br>
        
            <!-- English Version -->
            <div class="bubble" dir="ltr">
                <ul>
                    <li><strong>3.4. Golgi-Mazzoni Corpuscle:</strong></li>
                    <ul>
                        <li>Located in the deep part of the dermis.</li>
                        <li>It has an ovoid shape.</li>
                        <li>The capsule is thick and lamellar.</li>
                        <li>Inside, Schwann cells form two hemispherical caps.</li>
                        <li>The sensory nerve fiber is branched.</li>
                        <li>It is involved in deep touch sensation.</li>
                    </ul>
                </ul>
            </div>
        
            <br>
        
            <!-- Version française -->
            <div class="bubble">
                <ul>
                    <li><strong>3.4. Corpuscule de Golgi-Mazzoni :</strong></li>
                    <ul>
                        <li>Situé dans la partie profonde du derme.</li>
                        <li>Il présente une forme ovoïde.</li>
                        <li>La capsule est épaisse et lamellaire.</li>
                        <li>À l’intérieur, les cellules de Schwann forment deux coiffes hémisphériques.</li>
                        <li>La fibre nerveuse sensorielle est ramifiée.</li>
                        <li>Il intervient dans le tact profond.</li>
                    </ul>
                </ul>
            </div>
        </div>
        







        <div class="bubble">
            <button class="interact-button" id="krause-bulb" onclick="markBubbleAsCompleted(this)">تفاعل</button>
        
            <!-- العنوان بالعربية -->
            <ul>
                <li><strong>3.5. البصلة النهائية لكراوس:</strong></li>
                <ul>
                    <li>تقع في الطبقة الليفية الشبيهة بالوتر من الأدمة.</li>
                    <li>هي بنية مستديرة ذات كبسولة ضامة رقيقة.</li>
                    <li>تتشعب الليفة العصبية الحسية بين خلايا الدعم وتنتهي بنهايات منتفخة.</li>
                    <li>قد تشارك في إدراك البرودة.</li>
                </ul>
            </ul>
        
            <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED U5 HISTOLOGIE/A62.jpg"  alt="NNN" class="outside-image" style="width: 264px; height: 191px; object-fit: cover;">
                </figure>
            </div>
            
            <br>
        
            <!-- English Version -->
            <div class="bubble" dir="ltr">
                <ul>
                    <li><strong>3.5. Krause’s Terminal Bulb:</strong></li>
                    <ul>
                        <li>Located in the tendiniform layer of the dermis.</li>
                        <li>It is a rounded structure with a thin connective capsule.</li>
                        <li>The sensory nerve fiber branches among the supporting cells and ends in swollen terminals.</li>
                        <li>It may be involved in cold perception.</li>
                    </ul>
                </ul>
            </div>
        
            <br>
        
            <!-- Version française -->
            <div class="bubble">
                <ul>
                    <li><strong>3.5. Le bulbe terminal de Krause :</strong></li>
                    <ul>
                        <li>Il est situé dans la couche tendiniforme du derme.</li>
                        <li>C’est une formation arrondie avec une capsule conjonctive peu épaisse.</li>
                        <li>La fibre sensorielle se ramifie entre les cellules de soutien et se termine par des extrémités renflées.</li>
                        <li>Il pourrait intervenir dans la perception du froid.</li>
                    </ul>
                </ul>
            </div>
        </div>
        















        <div class="bubble">
            <button class="interact-button" id="analgesie-congenitale" onclick="markBubbleAsCompleted(this)">تفاعل</button>
        
            <!-- العنوان بالعربية -->
            <ul>
                <li><strong>4. الفوائد العملية – فقد الإحساس الخلقي بالألم:</strong></li>
                <ul>
                    <li>هو خلل نادر جدًا يمنع الإحساس بالألم الجسدي.</li>
                    <li>بعض المرضى يُنتجون كميات مفرطة من الإندورفين في الدماغ، وهي مادة لها تأثير مسكن قوي.</li>
                    <li>يرتبط هذا الخلل بطفرة جينية في الجين SCN11A.</li>
                    <li>هذا الجين مسؤول عن تنظيم قنوات أيونية في الخلايا العصبية المرتبطة بالإحساس بالألم.</li>
                    <li>عند فرط التعبير عن هذا الجين، يتم منع انتقال الإشارات الكهربائية التي تحفز الألم، مما يؤدي إلى تعطيل كامل لنقل إشارات الألم.</li>
                </ul>
            </ul>
        

            
 
        <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 HISTOLOGIE/A63.gif"  alt="NNN" class="outside-image" style="width: 264px; height: 191px; object-fit: cover;">
            </figure>
        </div>

            <br>
        
            <!-- English Version -->
            <div class="bubble" dir="ltr">
                <ul>
                    <li><strong>4. Practical Interest – Congenital Analgesia:</strong></li>
                    <ul>
                        <li>A very rare disorder that prevents the sensation of physical pain.</li>
                        <li>Some patients exhibit excessive production of endorphins in the brain, a molecule with a strong analgesic effect.</li>
                        <li>This is linked to a genetic mutation in the SCN11A gene.</li>
                        <li>This gene regulates the development of ion channels in neurons associated with pain perception.</li>
                        <li>When overexpressed, it blocks the neurons from transmitting the electrical signals that trigger pain, effectively disabling pain signal transmission.</li>
                    </ul>
                </ul>
            </div>
        
            <br>
        
            <!-- Version française -->
            <div class="bubble">
                <ul>
                    <li><strong>4. Intérêts pratiques – L’analgésie congénitale :</strong></li>
                    <ul>
                        <li>C’est un dysfonctionnement très rare qui empêche de ressentir la douleur physique.</li>
                        <li>Certains patients produisent en excès de l’endorphine dans le cerveau, une molécule à fort effet antidouleur.</li>
                        <li>Ce trouble est dû à une mutation génétique affectant le gène SCN11A.</li>
                        <li>Ce gène contrôle le développement des canaux ioniques dans les neurones associés à la sensation de douleur.</li>
                        <li>Lorsqu’il est surexprimé, il empêche les neurones de transmettre les signaux électriques censés déclencher la douleur, bloquant ainsi la transmission des signaux douloureux.</li>
                    </ul>
                </ul>
            </div>
        </div>
        





























                    <div class="bubble">

                        <!-- زر إضافات باللون الأحمر ومتمركز -->
                        <div style="text-align: center; margin-bottom: 20px;">
                          <button style="background-color: #d32f2f; color: white; border: none; padding: 10px 20px; border-radius: 6px; font-size: 16px; cursor: pointer;">
                            إضافات
                          </button>
                        </div>
                    </div>



                    


                        



    <div id="end-lesson-modal">
        <h3>أحسنت يا طبيبنا إن شاء الله!</h3>
        <p id="lesson-summary">الوقت المستغرق: 00 دقيقة و 00 ثانية. عدد الفقاعات التي تم التفاعل معها: 0 من أصل 0.</p>
        <button class="reload-button" onclick="reloadPage()">إعادة الحفظ</button>
        <button onclick="goToTestsPage()">الانتقال إلى صفحة الاختبارات</button>
    </div>

    <div class="modal" id="question-modal">
        <h3 id="modal-question">هل حفظت هذه الفقاعة؟</h3>
        <button onclick="closeModal(true)">نعم</button>
        <button onclick="closeModal(false)">لا</button>
    </div>

    <script>
    let totalBubbles = 14; 
    let completedBubbles = 0; 
    let startTime = Date.now();
    let bubbleButton = null;
    
    function showQuestion() {
        document.getElementById('question-modal').style.display = 'block';
    }
    
    function closeModal(answer) {
        document.getElementById('question-modal').style.display = 'none';
    
        if (answer) {
            completedBubbles++;
            updateProgress();
            bubbleButton.style.backgroundColor = '#4CAF50'; 
            bubbleButton.innerText = 'تم التفاعل'; 
            bubbleButton.disabled = true; 
    
            if (completedBubbles === totalBubbles) {
                enableFinishButton();
            }
        }
    }
    
    function updateProgress() {
        let progress = (completedBubbles / totalBubbles) * 100; 
        document.getElementById('progress-bar').style.width = `${progress}%`;
        document.getElementById('progress-percentage').innerText = `${Math.round(progress)}%`;
    
        const finishButton = document.querySelector('.finish-button');
        if (progress === 100) {
            finishButton.disabled = false; 
            finishButton.style.backgroundColor = '#00aaff'; 
            finishButton.style.cursor = 'pointer'; 
        } else {
            finishButton.disabled = true;
            finishButton.style.backgroundColor = '#ccc'; 
            finishButton.style.cursor = 'not-allowed'; 
        }
    }
    
    function markBubbleAsCompleted(button) {
        bubbleButton = button; 
        showQuestion(); 
    }
    
    function finishLesson() {
        let elapsedTime = Date.now() - startTime;
        let minutes = Math.floor(elapsedTime / 60000);
        let seconds = Math.floor((elapsedTime % 60000) / 1000);
        let summary = `الوقت المستغرق: ${minutes} دقيقة و ${seconds} ثانية. عدد الفقاعات التي تم التفاعل معها: ${completedBubbles} من أصل ${totalBubbles}.`;
        document.getElementById('lesson-summary').innerText = summary;
        document.getElementById('end-lesson-modal').style.display = 'block';
    }
    
    function reloadPage() {
        location.reload();
    }
    
    function goToTestsPage() {
        window.location.href = 'MED02.html';
    }
    
    function initializeFinishButton() {
        const finishButton = document.querySelector('.finish-button');
        finishButton.disabled = true; 
        finishButton.style.backgroundColor = '#ccc'; 
        finishButton.style.cursor = 'not-allowed'; 
    }
    
    window.onload = initializeFinishButton;
    
    // وظيفة للانتقال إلى أول فقاعة غير مكتملة
    function goToUncompletedBubble() {
        let bubbles = document.querySelectorAll('.interact-button');
        for (let bubble of bubbles) {
            if (!bubble.disabled) { // تعني أن الفقاعة لم يتم التفاعل معها
                bubble.scrollIntoView({ behavior: 'smooth', block: 'center' });
                bubble.style.border = "3px solid red"; // تمييزها باللون الأحمر
                break;
            }
        }
    }
    </script>
    
</body>
</html>








































<br><br><br><br><br><br><br>




<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📚 بطاقات فلاش تفاعلية</title>
    <style>
        body {
            font-family: 'Amiri', serif;
            background-color: #121212;
            color: #fff;
            text-align: center;
            padding: 20px;
            margin: 0;
            direction: rtl;
        }

        .flashcard {
            width: 100%;
            height: 300px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .flipped {
            transform: rotateY(180deg);
        }

        .flashcard-side {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(255, 255, 255, 0.2);
        }

        .front {
            background-color: #1e1e1e;
        }

        .back {
            background-color: #2c2c2c;
            transform: rotateY(180deg);
        }

        .flashcard-image {
            width: 40%;
            height: 100%;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .flashcard-image img {
            max-width: 100%;
            max-height: 100%;
            transition: transform 0.3s ease-in-out;
            cursor: pointer;
        }

        .flashcard-image img.expanded {
            transform: scale(1.5);
        }

        .flashcard-content {
            width: 65%;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            text-align: right;
            direction: rtl;
            overflow-y: auto;
            max-height: 150px;
            white-space: normal;
            word-wrap: break-word;
            position: relative;
        }
        .hint-container {
    position: fixed; /* استخدم fixed لجعل التلميح ثابتًا في المكان */
    top: -190px; /* 20px من أعلى الصفحة */
    left: 50%;
    transform: translateX(-50%); /* لتوسيط التلميح بشكل أفقي */
    width: 80%; /* عرض التلميح */
    background-color: rgba(0, 0, 0, 0.7);
    padding: 10px;
    border-radius: 10px;
    font-size: 16px;
    color: #f1c40f;
    box-shadow: 0 4px 8px rgba(255, 255, 255, 0.2);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease-out;
}

        /* عند إظهار التلميح */
        .hint-container.show {
            opacity: 1;
            pointer-events: auto;
        }

        .buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 15px;
            gap: 10px;
        }

        .navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s, transform 0.2s;
        }

        button:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }

        .arrow {
            font-size: 30px;
            cursor: pointer;
            transition: color 0.3s, transform 0.2s;
        }

        .arrow:hover {
            color: #00aaff;
            transform: scale(1.2);
        }

        @media (max-width: 480px) {
            .flashcard {
                height: 230px;
            }

            .flashcard-image {
                width: 40%;
                max-height: 150px;
            }

            .flashcard-content {
                font-size: 14px;
                padding: 10px;
                max-height: 120px;
            }

            button {
                font-size: 14px;
                padding: 8px;
            }
        }
    </style>
</head>
<body>
       

            <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 30vh; text-align: center;">
      
                <h2  id="flashcard-section">📚 بطاقات فلاش تفاعلية</h2>
         
            </div>
            

   
    <div class="flashcard-container" onclick="flipCard(event)">
        <div class="flashcard" id="flashcard">
            <div class="flashcard-side front">
                <div class="flashcard-image">
                    <img id="cardImageFront" src="" alt="صورة البطاقة" onclick="toggleImageSize(this)">
                </div>
                <div class="flashcard-content">
                    <h3 id="question"></h3>
                    <!-- حاوية التلميح -->
                    <div id="hintContainer" class="hint-container">
                        <p id="hint" class="hint"></p>
                    </div>
                </div>
            </div>
            <div class="flashcard-side back">
                <div class="flashcard-image">
                    <img id="cardImageBack" src="" alt="صورة البطاقة" onclick="toggleImageSize(this)">
                </div>
                <div class="flashcard-content">
                    <h3>الإجابة:</h3>
                    <p id="answer"></p>
                </div>
            </div>
        </div>
    </div>

    <br><br>
    <div class="buttons">
        <button onclick="showHint()">🔍 تلميح</button>
        <button onclick="shuffleCards()">🔀 خلط البطاقات</button>
    </div>

    <br>
    <div class="navigation">
        <span class="arrow" onclick="nextCard()">➡️</span>
        <span id="cardNumber">1 / 3</span>
        <span class="arrow" onclick="prevCard()">⬅️</span>
    </div>

    <script>
        const flashcards = [
            {
                question : "خمن البيانات والعنوان:<br>🔹 باللغة العربية (AR): خمن البيانات والعنوان<br>🔹 باللغة الإنجليزية (EN): Guess the data and the title<br>🔹 باللغة الفرنسية (FR): Devinez les données et le titre",
                hint : "🔍 شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5 (AR)<br>🔍 In English (EN): Axial slice from a CT scan / TDM of the chest at the Th5 level<br>🔍 En français (FR): Coupe axiale d'un scanner TDM du thorax au niveau Th5",
                answer: `
                    <ul style="padding-right: 20px; text-align: right; direction: rtl; list-style: none; line-height: 1.8; font-size: 18px;">
                        <li><b>  العنوان:</b><br>
                            🔹 <b>شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5.  (AR):</b><br>
                            🔹 <b>Axial slice of a CT scan / TDM of the thorax at the Th5 level.  (EN):</b><br>
                            🔹 <b> Coupe axiale d'un scanner / TDM thoracique au niveau Th5 (FR):</b>
               
                        </li><br>
                        <span style="font-size: 20px; font-weight: bold;">🔍 شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5:</span><br>
                        <ol style="padding-right: 20px; text-align: right;">
                            <li>1️⃣ : الرئة اليمنى (Right Lung) - <i>Poumon droit</i></li><br>
                            <li>2️⃣ : الرئة اليسرى (Left Lung) - <i>Poumon gauche</i></li><br>
                            <li>3️⃣ : الجذع الرئوي (Pulmonary Trunk) - <i>Tronc pulmonaire</i></li><br>
                            <li>4️⃣ : الشريان الرئوي الأيمن (Right Pulmonary Artery) - <i>Artère pulmonaire droite</i></li><br>
                            <li>5️⃣ : الشريان الرئوي الأيسر (Left Pulmonary Artery) - <i>Artère pulmonaire gauche</i></li><br>
                            <li>6️⃣ : الوريد الأجوف العلوي (Superior Vena Cava) - <i>Veine cave supérieure</i></li><br>
                            <li>7️⃣ : الأبهر الصدري الصاعد (Ascending Thoracic Aorta) - <i>Aorte thoracique ascendante</i></li><br>
                            <li>8️⃣ : الأبهر الصدري النازل (Descending Thoracic Aorta) - <i>Aorte thoracique descendante</i></li><br>
                            <li>9️⃣ : الوريد الرئوي الأيسر (Left Pulmonary Vein) - <i>Veine pulmonaire gauche</i></li><br>
                            <li>🔟 : الكتف الأيسر (Left Scapula) - <i>Scapula gauche</i></li><br>
                        </ol>
                    </ul>
                `,
                imageFront: "2MEDU1ANATOMIE/A101.png", // صورة الجهة الأمامية
                imageBack: "2MEDU1ANATOMIE/A101.png", // صورة الجهة الخلفية
                isHtml: true
            },
    {
        question: `🔹 <b>  خمن الشرايين الوربية( intercostal) التي تغذي الغدة الثديية.   </b> 🔹<br>
        🔹 <b>باللغة العربية (AR):</b> خمن الشرايين الوربية( intercostal) التي تغذي الغدة الثديية.  br>
        🔹 <b>In English (EN):</b> Guess the intercostal arteries that supply the mammary gland<br>
        🔹 <b>En français (FR):</b> Devinez les artères intercostales qui irriguent la glande mammaire`,
        
        hint: `🔍 <b>تلميح / Hint / Indice</b><br>
        🔴 <b>باللغة العربية (AR):</b> عددها ثلاثة بالترتيب.<br>
        🔵 <b>In English (EN):</b> They are three in order.<br>
        ⚪ <b>En français (FR):</b> Ils sont au nombre de trois dans l'ordre.`,
        
        answer: `
            <div style="text-align: center;">
                <ul style="padding-right: 20px; text-align: right; direction: rtl; list-style: none; line-height: 1.8; font-size: 18px;">
                    <li>2️⃣ <b>الشريان الوربي الثاني</b> (Intercostal Artery 2) - <i>Deuxième artère intercostale</i></li><br>
                    <li>3️⃣ <b>الشريان الوربي الثالث</b> (Intercostal Artery 3) - <i>Troisième artère intercostale</i></li><br>
                    <li>4️⃣ <b>الشريان الوربي الرابع</b> (Intercostal Artery 4) - <i>Quatrième artère intercostale</i></li><br>
                </ul>
            </div>
        `,
        imageFront: "/A101.png", // صورة الجهة الأمامية
                imageBack: "2MED U4 ANATOMIE/A47.jpg", // صورة الجهة الخلفية
                isHtml: true
    }



    ];

let currentIndex = 0;
let flipped = false;

function updateCard() {
    const card = flashcards[currentIndex];
    document.getElementById("question").innerHTML = card.question;
    document.getElementById("answer").innerHTML = card.answer;
    document.getElementById("cardImageFront").src = card.imageFront;
    document.getElementById("cardImageBack").src = card.imageBack;
    document.getElementById("cardNumber").textContent = `${currentIndex + 1} / ${flashcards.length}`;
}

function flipCard(event) {
    event.stopPropagation();
    flipped = !flipped;
    document.getElementById("flashcard").classList.toggle("flipped", flipped);
}

function nextCard() {
    currentIndex = (currentIndex + 1) % flashcards.length;
    flipped = false;
    document.getElementById("flashcard").classList.remove("flipped");
    updateCard();
}

function prevCard() {
    currentIndex = (currentIndex - 1 + flashcards.length) % flashcards.length;
    flipped = false;
    document.getElementById("flashcard").classList.remove("flipped");
    updateCard();
}

updateCard();
</script>




























<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>نظام الأزرار العائمة الذكي - نسخة الهاتف</title>

    <style>
        .floating-system {
            position: fixed;
            z-index: 9999;
            bottom: 25px;
            left: 25px; /* تغيير من right إلى left */
            display: flex;
            flex-direction: row;
            gap: 15px;
            align-items: center;
            touch-action: none;
        }
        
        /* الزر الرئيسي */
        .main-floating-btn {
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(108, 92, 231, 0.4);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            -webkit-tap-highlight-color: transparent;
            position: relative;
            order: 1;
        }
    
        /* الأزرار الثانوية */
        .secondary-btn {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, #00b894, #55efc4);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 22px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 184, 148, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateX(30px);
            visibility: hidden;
            -webkit-tap-highlight-color: transparent;
            position: relative;
        }
        
        .secondary-btn.search-btn {
            background: linear-gradient(135deg, #0984e3, #74b9ff);
        }
        
        .secondary-btn.speech-btn {
            background: linear-gradient(135deg, #e17055, #fab1a0);
        }
        
        .secondary-btn.contact-btn {
            background: linear-gradient(135deg, #fd79a8, #ff9ff3);
        }
        
        .secondary-btn.flashcard-btn {
            background: linear-gradient(135deg, #fdcb6e, #ffeaa7);
            color: #333;
        }
    
      .secondary-btn.eldars-btn {
          background: linear-gradient(135deg, #9b59b6, #8e44ad);
      }
  
        /* حالة الأزرار عند الفتح */
        .floating-system.expanded {
            flex-direction: row-reverse;
        }
        
        .floating-system.expanded .secondary-btn {
            opacity: 1;
            transform: translateX(0);
            visibility: visible;
        }
        
        .floating-system.expanded .search-btn {
            transition-delay: 0.1s;
        }
        
        .floating-system.expanded .speech-btn {
            transition-delay: 0.2s;
        }
        
        .floating-system.expanded .contact-btn {
            transition-delay: 0.3s;
        }
        
        .floating-system.expanded .flashcard-btn {
            transition-delay: 0.4s;
        }
            
      .floating-system.expanded .eldars-btn {
          transition-delay: 0.5s;
      }
    
        /* تأثير النبض */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0.7); }
            70% { box-shadow: 0 0 0 12px rgba(108, 92, 231, 0); }
            100% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0); }
        }
    
        .pulse-effect {
            animation: pulse 1.5s infinite;
        }
    
        /* تحسينات للهواتف الصغيرة */
        @media (max-width: 480px) {
            .floating-system {
                bottom: 20px;
                left: 20px; /* تغيير من right إلى left */
                gap: 12px;
            }
            
            .main-floating-btn {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }
            
            .secondary-btn {
                width: 52px;
                height: 52px;
                font-size: 22px;
            }
            
            /* زيادة مساحة الضغط */
            .main-floating-btn::after,
            .secondary-btn::after {
                content: '';
                position: absolute;
                top: -15px;
                left: -15px;
                right: -15px;
                bottom: -15px;
            }
        }
    
        /* أنماط القلم الناطق */
        .notification {
            position: fixed;
            bottom: 100px;
            right: 20px;
            background: #008cff;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            font-size: 18px;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.5s, transform 0.5s;
            display: none;
            z-index: 9998;
            max-width: 80%;
        }
    
        .show-notification {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }
        
        /* أنماط البحث */
        .search-bubble {
            position: fixed;
            bottom: 120px;
            right: 30px;
            width: 350px;
            max-height: 60vh;
            background-color: rgb(82, 82, 82);
            border-radius: 18px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            display: none;
            flex-direction: column;
            z-index: 10000;
            overflow: hidden;
            animation: bubbleAppear 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
    
        .search-bubble.show {
            display: flex;
        }
    
        @keyframes bubbleAppear {
            from {
                transform: translateY(20px) scale(0.9);
                opacity: 0;
            }
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }
    
        .bubble-header {
            padding: 15px;
            background-color: #ffffff;
            border-bottom: 1px solid #424242;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    
        .bubble-title {
            font-weight: bold;
            color: #333;
        }
    
        .close-bubble {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #777;
            padding: 0;
            margin: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    
        .bubble-content {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }
    
        .search-input {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: none;
            border-bottom: 2px solid #989898;
            outline: none;
        }
    
        .search-input:focus {
            border-bottom-color: #2185d0;
        }
    
        .search-results {
            max-height: calc(60vh - 120px);
            overflow-y: auto;
        }
    
        .result-item {
            padding: 15px;
            border-bottom: 1px solid #747272;
            cursor: pointer;
            transition: background 0.2s;
        }
    
        .result-item:hover {
            background-color: #393737;
        }
    
        .result-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2185d0;
        }
    
        .highlight {
            background-color: #009c05;
            padding: 0 2px;
            border-radius: 3px;
        }
        .no-results {
            padding: 20px;
            text-align: center;
            color: #999;
        }
    
        @media (max-width: 768px) {
            .search-bubble {
                right: 15px;
                width: calc(100% - 30px);
                max-height: 50vh;
                bottom: 100px;
            }
            
            .search-results {
                max-height: calc(50vh - 120px);
            }
        }
        
        /* أنماط نافذة التواصل */
        .popupCONTACT {
            position: fixed;
            top: 50%;
            right: 50%;
            transform: translate(50%, -50%);
            width: 90%;
            max-width: 300px;
            background: #ffffff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            z-index: 1001;
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }
    
        .close-btnCONTACT {
            position: absolute;
            top: 10px;
            left: 10px;
            background: transparent;
            border: none;
            font-size: 22px;
            color: #ff4d4d;
            cursor: pointer;
            font-weight: bold;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    
        .contact-containerCONTACT {
            text-align: center;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            margin: auto;
        }
    
        .contact-titleCONTACT {
            font-size: 22px;
            margin-bottom: 10px;
        }
    
        .contact-textCONTACT {
            font-size: 16px;
            color: #333;
            margin-bottom: 15px;
        }
    
        .social-linksCONTACT {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
    
        .btnCONTACT {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 12px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 16px;
            font-weight: bold;
            color: white;
            transition: 0.3s;
        }
    
        .telegram-btnCONTACT { background: #0088cc; }
        .facebook-btnCONTACT { background: #1877f2; }
        .instagram-btnCONTACT { background: #e1306c; }
    
  
  
  
  
   /* أنماط نافذة Eldars */
   .eldars-popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  max-width: 600px;
  height: 80vh;
  background: white;
  border-radius: 15px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  z-index: 10010;
  display: none;
  overflow: hidden;
  animation: fadeIn 0.3s ease-in-out;
  }
  
  .eldars-popup.show {
  display: block;
  }
  
  .eldars-header {
  padding: 15px;
  background: #9b59b6;
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  }
  
  .eldars-title {
  font-weight: bold;
  font-size: 18px;
  }
  
  .close-eldars {
  background: none;
  border: none;
  color: white;
  font-size: 24px;
  cursor: pointer;
  }
  
  .eldars-content {
  width: 100%;
  height: calc(100% - 50px);
  overflow: hidden;
  position: relative;
  }
  
  .eldars-iframe {
  width: 100%; /* عرض العنصر 100% ليشغل المساحة المتاحة */
  height: 100%; /* ارتفاع العنصر 100% ليشغل المساحة المتاحة */
  position: absolute;
  top: 0;
  left: 0;
  transform: none; /* إزالة التكبير الزائد */
  border: none;
  overflow: auto; /* تمكين التمرير داخل الـiframe إذا لزم الأمر */
  }
  
  /* تحسين العرض على الشاشات الصغيرة (الهواتف) */
  @media (max-width: 768px) {
  .eldars-popup {
      max-width: 90%;
      height: 85vh; /* تقليل ارتفاع النافذة لتكون أكثر مرونة */
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  /* تحسين العرض على الشاشات الصغيرة جدًا (الهاتف المحمول) */
  @media (max-width: 480px) {
  .eldars-popup {
      max-width: 95%;
      height: 90vh;
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  /* تحسين العرض على الشاشات الكبيرة */
  @media (min-width: 1024px) {
  .eldars-popup {
      max-width: 800px;
      height: 80vh;
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(50%, -45%); }
            to { opacity: 1; transform: translate(50%, -50%); }
        }
    
        /* تحسينات للهواتف الصغيرة */
        @media (max-width: 480px) {
            .floating-system {
                bottom: 15px;
                left: 15px; /* تغيير من right إلى left */
                gap: 8px;
            }
            
            .main-floating-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .secondary-btn {
                width: 42px;
                height: 42px;
                font-size: 18px;
            }
            
            /* تحسينات للبحث على الشاشات الصغيرة */
            .search-bubble {
                bottom: 90px;
                max-height: 60vh;
            }
            
            /* تحسينات لنافذة التواصل */
            .popupCONTACT {
                max-width: 90%;
                padding: 15px;
            }
            
            .contact-titleCONTACT {
                font-size: 18px;
            }
            
            .contact-textCONTACT {
                font-size: 14px;
            }
            
            .btnCONTACT {
                padding: 10px;
                font-size: 14px;
            }
            
            /* زيادة مساحة الضغط للأزرار */
            .main-floating-btn::after,
            .secondary-btn::after {
                content: '';
                position: absolute;
                top: -10px;
                left: -10px;
                right: -10px;
                bottom: -10px;
            }
            
            /* تحسينات للإشعارات */
            .notification {
                bottom: 80px;
                right: 10px;
                font-size: 14px;
                padding: 10px 15px;
            }
        }
    
        /* تحسينات إضافية للشاشات الصغيرة جدًا */
        @media (max-width: 360px) {
            .floating-system {
                bottom: 10px;
                left: 10px; /* تغيير من right إلى left */
                gap: 6px;
            }
            
            .main-floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }
            
            .secondary-btn {
                width: 38px;
                height: 38px;
                font-size: 16px;
            }
        }
        </style>
    </style>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- نظام الأزرار العائمة -->
    <div class="floating-system" id="floatingSystem">
        <!-- الأزرار الثانوية -->
        <button class="secondary-btn flashcard-btn" id="flashcardBtn" title="البطاقات التعليمية">
            <i class="far fa-copy"></i>
        </button>
        
        <button class="secondary-btn contact-btn" id="contactBtn" title="الدعم الفني">
            <i class="fas fa-headset"></i>
        </button>


    



        <button class="secondary-btn speech-btn" id="speechBtn" title="القلم الناطق">
            <i class="fas fa-microphone-alt"></i>
        </button>
        
        <button class="secondary-btn search-btn" id="searchBtn" title="البحث الذكي">
            <i class="fas fa-search"></i>
        </button>
        
        <!-- الزر الرئيسي -->
        <button class="main-floating-btn" id="mainFloatingBtn">
            <i class="fas fa-plus"></i>
        </button>
    </div>


    <!-- إشعارات القلم الناطق -->
    <div id="notification" class="notification"></div>


    <div>
        <label>🔹 اختر جنس الصوت:</label>
        <select id="voiceGender">
            <option value="male">ذكر</option>
            <option value="female">أنثى</option>
        </select>
    </div>

    <div class="speed-control">
        <label for="speedRange">🔊 سرعة الصوت:</label>
        <input type="range" id="speedRange" min="0.5" max="2" step="0.1" value="1">
    </div>
    <!-- فقاعة البحث -->
    <div class="search-bubble" id="searchBubble">
        <div class="bubble-header">
            <div class="bubble-title">البحث في الموقع</div>
            <button class="close-bubble" id="closeBubble" aria-label="إغلاق البحث">×</button>
        </div>
        <div class="bubble-content">
            <input type="text" class="search-input" id="searchInput" 
                   placeholder="اكتب كلمة البحث..." autocomplete="off"
                   aria-label="مربع البحث">
            <div class="search-results" id="searchResults"></div>
        </div>
    </div>

    <!-- نافذة التواصل -->
    <div class="popupCONTACT" id="popupCONTACT">
        <button class="close-btnCONTACT" id="closeContactBtn">✖</button>
        <div class="contact-containerCONTACT">
            <h3 class="contact-titleCONTACT" style="text-align: center; color: black; font-size: 24px; font-weight: bold;">📩 تواصل معنا</h3>

            <p class="contact-textCONTACT">في حالة توفر مشكلة أو لديك اقتراح سواء حول اختبار أو غيره تواصل معنا</p>
            
            <div class="social-linksCONTACT">
                <a href="http://t.me/ADATEALM_bot" target="_blank" class="btnCONTACT telegram-btnCONTACT">
                    <i class="fab fa-telegram"></i> بوت تيليغرام
                </a>
                
                <a href="https://t.me/adatealm" target="_blank" class="btnCONTACT telegram-btnCONTACT">
                    <i class="fab fa-telegram"></i> تيليغرام
                </a>
                
                <a href="https://www.facebook.com/share/1BFTe2mWNL/" target="_blank" class="btnCONTACT facebook-btnCONTACT">
                    <i class="fab fa-facebook"></i> فيسبوك
                </a>
                
                <a href="https://www.instagram.com/adat_ealm?igsh=djg1eXlwMTJvM2xw" target="_blank" class="btnCONTACT instagram-btnCONTACT">
                    <i class="fab fa-instagram"></i> إنستغرام
                </a>
            </div>
        </div>
    </div>


    <script>
        // عناصر الواجهة
        const floatingSystem = document.getElementById('floatingSystem');
        const mainBtn = document.getElementById('mainFloatingBtn');
        const searchBtn = document.getElementById('searchBtn');
        const speechBtn = document.getElementById('speechBtn');
        const contactBtn = document.getElementById('contactBtn');
        const flashcardBtn = document.getElementById('flashcardBtn');
        const searchBubble = document.getElementById('searchBubble');
        const closeBubble = document.getElementById('closeBubble');
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const popupCONTACT = document.getElementById('popupCONTACT');
        const closeContactBtn = document.getElementById('closeContactBtn');
        const notification = document.getElementById('notification');
        
        // حالات النظام
        let isExpanded = false;
        let isDragging = false;
        let startX, startY, initialX, initialY;
        let isSpeechEnabled = false;
        let speechSynthesisInstance = window.speechSynthesis || null;
        let currentUtterance = null;
        let voices = [];
        let currentResults = [];
        let selectedIndex = -1;
        let searchTimeout;
        
        // تهيئة النظام
        function initSystem() {
            // إضافة تأثير النبض بعد 3 ثواني
            setTimeout(() => {
                mainBtn.classList.add('pulse-effect');
                setTimeout(() => {
                    mainBtn.classList.remove('pulse-effect');
                }, 3000);
            }, 3000);
            
            // تهيئة Web Speech API
            if (speechSynthesisInstance) {
                speechSynthesisInstance.onvoiceschanged = function() {
                    voices = speechSynthesisInstance.getVoices();
                };
                
                // تحميل الأصوات مباشرة إذا كانت متاحة
                voices = speechSynthesisInstance.getVoices();
            } else {
                speechBtn.style.display = 'none';
            }
            
            // جعل النظام قابلاً للسحب
            setupDragAndDrop();
            
            // إضافة أحداث اللمس
            setupTouchEvents();
        }
        
        // إعداد أحداث اللمس
        function setupTouchEvents() {
            // منع السلوك الافتراضي لللمس
            const buttons = [mainBtn, searchBtn, speechBtn, contactBtn, flashcardBtn];
            
            buttons.forEach(btn => {
                btn.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // محاكاة تأثير الضغط
                    this.style.transform = 'scale(0.95)';
                    
                    // تحديد الزر الذي تم الضغط عليه
                    if (btn === mainBtn) {
                        toggleSystem();
                    } else if (btn === searchBtn) {
                        toggleSearch();
                    } else if (btn === speechBtn) {
                        toggleSpeech();
                    } else if (btn === contactBtn) {
                        togglePopupCONTACT();
                    } else if (btn === flashcardBtn) {
                        goToFlashCard();
                    }
                }, { passive: false });
                
                btn.addEventListener('touchend', function() {
                    this.style.transform = '';
                });
            });
        }
        
        // تبديل حالة النظام (مفتوح/مغلق)
        function toggleSystem() {
            isExpanded = !isExpanded;
            floatingSystem.classList.toggle('expanded', isExpanded);
            
            if (isExpanded) {
                mainBtn.innerHTML = '<i class="fas fa-times"></i>';
                mainBtn.style.transform = 'rotate(135deg)';
                isDragging = false;
            } else {
                mainBtn.innerHTML = '<i class="fas fa-plus"></i>';
                mainBtn.style.transform = 'rotate(0)';
                closeAllPopups();
            }
        }
        
        // إغلاق جميع النوافذ المنبثقة
        function closeAllPopups() {
            searchBubble.classList.remove('show');
            popupCONTACT.style.display = 'none';
        }
        
        // تهيئة السحب والإفلات
        function setupDragAndDrop() {
            // للأجهزة التي تعمل باللمس
            mainBtn.addEventListener('touchstart', handleDragStart, { passive: false });
            document.addEventListener('touchmove', handleDragMove, { passive: false });
            document.addEventListener('touchend', endDrag);
            
            // للأجهزة التي تعمل بالماوس
            mainBtn.addEventListener('mousedown', handleDragStart);
            document.addEventListener('mousemove', handleDragMove);
            document.addEventListener('mouseup', endDrag);
        }
        
        function handleDragStart(e) {
            if (isExpanded) return;
            
            isDragging = true;
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;
            
            startX = clientX;
            startY = clientY;
            initialX = floatingSystem.offsetLeft;
            initialY = floatingSystem.offsetTop;
            
            if (e.cancelable) e.preventDefault();
        }
        
        function handleDragMove(e) {
            if (!isDragging || isExpanded) return;
            
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;
            const deltaX = clientX - startX;
            const deltaY = clientY - startY;
            
            let newX = initialX + deltaX;
            let newY = initialY + deltaY;
            
            // تحديد الحدود لمنع الخروج من الشاشة
            newX = Math.max(0, Math.min(newX, window.innerWidth - floatingSystem.offsetWidth));
            newY = Math.max(0, Math.min(newY, window.innerHeight - floatingSystem.offsetHeight));
            
            floatingSystem.style.left = newX + 'px';
            floatingSystem.style.top = newY + 'px';
            floatingSystem.style.right = 'auto';
            floatingSystem.style.bottom = 'auto';
            
            if (e.cancelable) e.preventDefault();
        }
        




        function endDrag() {
    if (!isDragging) return;
    isDragging = false;
    
    // جعل النظام يلتصق بالجانب الأيسر دائماً
    floatingSystem.style.left = '20px';
    floatingSystem.style.right = 'auto';
    floatingSystem.style.bottom = '20px';
    floatingSystem.style.top = 'auto';
}
       
        // وظائف الأزرار
        function toggleSearch() {
            if (isExpanded) toggleSystem();
            searchBubble.classList.toggle('show');
            if (searchBubble.classList.contains('show')) {
                searchInput.focus();
            }
        }
        
        function toggleSpeech() {
            if (!speechSynthesisInstance) {
                showNotification("⚠️ هذه الميزة غير مدعومة في متصفحك");
                return;
            }
            
            if (isExpanded) toggleSystem();
            isSpeechEnabled = !isSpeechEnabled;
            showNotification(isSpeechEnabled ? "✅ تم تفعيل القلم الناطق!" : "⛔ تم إيقاف القلم الناطق!");
            
            if (isSpeechEnabled) {
                document.addEventListener('mouseup', handleTextSelection);
                document.addEventListener('touchend', handleTextSelection);
            } else {
                document.removeEventListener('mouseup', handleTextSelection);
                document.removeEventListener('touchend', handleTextSelection);
                stopSpeech();
            }
        }
        
        function handleTextSelection(e) {
            if (!isSpeechEnabled) return;
            
            // منع النقر العادي إذا كان القلم الناطق مفعلاً
            if (e.target.closest('.floating-system, .search-bubble, .popupCONTACT')) {
                return;
            }
            
            let selectedText = window.getSelection().toString().trim();
            if (selectedText.length > 0) {
                speakText(selectedText);
            }
        }
        
        function speakText(text) {
            stopSpeech();
            
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = /[\u0600-\u06FF]/.test(text) ? "ar-SA" : "en-US";
            
            // اختيار الصوت المناسب
            if (voices.length > 0) {
                const arabicVoices = voices.filter(v => v.lang.includes('ar'));
                if (arabicVoices.length > 0) {
                    utterance.voice = arabicVoices[0];
                }
            }
            
            utterance.rate = 1;
            utterance.volume = 1.0;
            
            currentUtterance = utterance;
            speechSynthesisInstance.speak(utterance);
        }
        
        function stopSpeech() {
            if (speechSynthesisInstance && speechSynthesisInstance.speaking) {
                speechSynthesisInstance.cancel();
            }
            currentUtterance = null;
        }
        
        function togglePopupCONTACT() {
            if (isExpanded) toggleSystem();
            popupCONTACT.style.display = popupCONTACT.style.display === "block" ? "none" : "block";
        }
        
        function goToFlashCard() {
            if (isExpanded) toggleSystem();
            document.getElementById('flashcard-section').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }
        
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add("show-notification");
            
            setTimeout(() => {
                notification.classList.remove("show-notification");
            }, 2000);
        }
        
        // أحداث البحث
        function handleSearchInput(e) {
            const query = e.target.value.trim();
            clearTimeout(searchTimeout);
            
            if (query.length < 2) {
                clearResults();
                return;
            }
            
            searchTimeout = setTimeout(() => {
                performSearch(query);
            }, 300);
        }
        
        function performSearch(query) {
            clearResults();
            currentResults = [];
            selectedIndex = -1;
            
            const searchableElements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, li, [id]');
            
            searchableElements.forEach(element => {
                const text = element.textContent || element.innerText;
                const elementId = element.id || (element.parentNode.id || '');
                
                if (text.toLowerCase().includes(query.toLowerCase())) {
                    const previewText = text.length > 100 ? text.substring(0, 100) + '...' : text;
                    
                    currentResults.push({
                        element: element,
                        id: elementId,
                        title: element.tagName.startsWith('H') ? text : (elementId || 'قسم في الصفحة'),
                        preview: previewText,
                        fullText: text
                    });
                }
            });
            
            if (currentResults.length === 0) {
                showNoResults();
                return;
            }
            
            displayResults(currentResults, query);
        }
        
        function displayResults(results, query) {
            results.forEach((result, index) => {
                const resultItem = document.createElement('div');
                resultItem.className = 'result-item';
                resultItem.innerHTML = `
                    <div class="result-title">${highlightText(result.title, query)}</div>
                    <div class="result-preview">${highlightText(result.preview, query)}</div>
                `;
                resultItem.addEventListener('click', () => navigateToResult(result));
                searchResults.appendChild(resultItem);
            });
        }
        
        function highlightText(text, query) {
            if (!query) return text;
            return text.replace(
                new RegExp(query, 'gi'), 
                match => `<span class="highlight">${match}</span>`
            );
        }
        
        function navigateToResult(result) {
            if (result.element) {
                result.element.scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
                
                const originalBg = result.element.style.backgroundColor;
                result.element.style.backgroundColor = '#fff9c4';
                setTimeout(() => {
                    result.element.style.backgroundColor = originalBg;
                }, 2000);
            }
            
            searchBubble.classList.remove('show');
        }
        
        function showNoResults() {
            searchResults.innerHTML = '<div class="no-results">لا توجد نتائج مطابقة</div>';
        }
        
        function clearResults() {
            searchResults.innerHTML = '';
            currentResults = [];
            selectedIndex = -1;
        }
        
        // إضافة الأحداث
        mainBtn.addEventListener('click', toggleSystem);
        searchBtn.addEventListener('click', toggleSearch);
        speechBtn.addEventListener('click', toggleSpeech);
        contactBtn.addEventListener('click', togglePopupCONTACT);
        flashcardBtn.addEventListener('click', goToFlashCard);
        closeBubble.addEventListener('click', () => searchBubble.classList.remove('show'));
        closeContactBtn.addEventListener('click', togglePopupCONTACT);
        searchInput.addEventListener('input', handleSearchInput);
        
        // تهيئة النظام عند التحميل
        window.addEventListener('load', initSystem);
        
        // إعادة حساب المواقع عند تغيير حجم النافذة
        window.addEventListener('resize', endDrag);
    </script>
</body>
</html>








































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تحويل اتجاه النص تلقائيًا مع الحفاظ على التنسيق</title>
    <style>
        body {
    
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .rtl {
            direction: rtl;
            text-align: right;
        }
        
        .ltr {
            direction: ltr;
            text-align: left;
        }
        
        /* تنسيقات إضافية للحفاظ على المظهر */
        .mixed-content {
            unicode-bidi: embed;
        }
    </style>
</head>
<body>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // عناصر أكثر تحديداً مع استثناء العناصر التي قد تحتوي على أطفال معقدة
            const elements = document.querySelectorAll('p, div:not(div div), span, li, h1, h2, h3, h4, h5, h6');
            
            elements.forEach(element => {
                // تجاهل العناصر التي تحتوي على أطفال معقدة
                if (element.children.length > 0 && !(element.children.length === 1 && element.children[0].tagName === 'SPAN')) {
                    return;
                }
                
                const text = element.textContent.trim();
                
                if (!text) return;
                
                // تحليل النص لتحديد إذا كان إنجليزي/عربي
                const hasArabic = /[\u0600-\u06FF]/.test(text);
                const hasEnglish = /[a-zA-Z]/.test(text);
                
                // إذا كان النص يحتوي على الإنجليزية فقط
                if (hasEnglish && !hasArabic) {
                    element.classList.add('ltr');
                    element.classList.remove('rtl');
                } 
                // إذا كان النص يحتوي على العربية فقط
                else if (hasArabic && !hasEnglish) {
                    element.classList.add('rtl');
                    element.classList.remove('ltr');
                }
                // إذا كان نصاً مختلطاً
                else if (hasArabic && hasEnglish) {
                    element.classList.add('mixed-content');
                    
                    // تحديد الاتجاه الأساسي بناءً على الحرف الأول
                    const firstChar = text.charAt(0);
                    if (/[a-zA-Z]/.test(firstChar)) {
                        element.style.direction = 'ltr';
                        element.style.textAlign = 'left';
                    } else {
                        element.style.direction = 'rtl';
                        element.style.textAlign = 'right';
                    }
                }
            });
        });
    </script>
</body>
</html>
























































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>تنبيه طبي - INFATM</title>
    <style>
        /* تهيئة عامة */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-text-size-adjust: 100%;
            touch-action: manipulation;
        }

        /* زر الخطر العائم - تصميم جديد */
        ._x1 {
            position: fixed;
            top: 120px; /* تغيير من bottom إلى top */
            right: 10px;  /* تعديل القيمة */
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #ff0000, #c00000);
            color: white;
            font-size: 21px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.3), 
                        inset 0 2px 4px rgba(255, 255, 255, 0.3);
            transition: all 0.2s ease;
            z-index: 1000;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            animation: _a1 2s infinite;
        }

        @keyframes _a1 {
            0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 0, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); }
        }

        ._x1:hover {
            transform: scale(1.1);
            background: linear-gradient(135deg, #ff3333, #d10000);
        }

        ._x1:active {
            transform: scale(0.95);
            animation: none;
        }

        /* طبقة التعتيم */
        ._x2 {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1001;
            display: none;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        /* نافذة المحتوى */
        ._x3 {
            position: fixed;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            display: flex;
            flex-direction: column;
            z-index: 10012;
            display: none;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            background: white;
        }

        ._x4 {
          background: linear-gradient(to right, #e74c3c, #c0392b);
          color: white;
          padding: 18px;
          text-align: center;
          position: relative;
          flex-shrink: 0;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      ._x4 h2 {
          font-size: 1.3rem;
          font-weight: 600;
          text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
      }

        ._x5 {
            flex-grow: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            background-color: #f5f5f5;
        }

        /* زر الإغلاق الجديد */
        ._x6 {
            position: absolute;
            top: 12px;
            left: 12px;
            background: white;
            color: #e74c3c;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: all 0.2s;
        }

        ._x6:hover {
            transform: rotate(90deg);
            background: #ffebee;
        }

        /* مؤشر التحميل */
        ._x7 {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 20px;
        }

        ._x8 {
            width: 45px;
            height: 45px;
            border: 5px solid rgba(231, 76, 60, 0.2);
            border-top: 5px solid #e74c3c;
            border-radius: 50%;
            animation: _a2 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes _a2 {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        ._x7 p {
            color: #7f8c8d;
            font-size: 1.1rem;
            margin-top: 10px;
        }

        /* المحتوى المعروض */
        ._x9 {
            padding: 18px;
            line-height: 1.7;
            font-size: 1rem;
            color: #333;
        }

        /* التكيف مع الشاشات الصغيرة */
        @media (max-width: 480px) {
            ._x1 {
                width: 30px;
                height: 30px;
                font-size: 16px;
                bottom: 20px;
            }
            
            ._x4 {
                padding: 15px;
            }
            
            ._x4 h2 {
                font-size: 1.1rem;
            }
            
            ._x6 {
                width: 28px;
                height: 28px;
                font-size: 1rem;
            }
        }

        /* تحسينات لللمس على الهواتف */
        @media (hover: none) {
            ._x1:hover {
                transform: scale(1);
                background: linear-gradient(135deg, #ff0000, #c00000);
            }
            
            ._x6:hover {
                transform: rotate(0deg);
                background: white;
            }
        }
    </style>
</head>
<body>

<!-- زر الخطر العائم الجديد -->
<button class="_x1" onclick="_f1()">⚠️</button>

<!-- طبقة التعتيم -->
<div class="_x2" id="_d1"></div>

<!-- نافذة المحتوى -->
<div class="_x3" id="_d2">
    <div class="_x4">
        <button class="_x6" onclick="_f1()">×</button>
        <h2 >⚠️  محتوى زر التنبيه  الخطر   ⚠️   </h2>
    </div>
    <div class="_x5" id="_d3">
        <div class="_x7">
            <div class="_x8"></div>
            <p>جاري تحميل المحتوى ...</p>
        </div>
    </div>
</div>

<script>
    // متغيرات التطبيق
    let _v1 = false;
    const _u1 = "https://s22mcs.github.io/S22MCS02-/MEDECINE_EXAM_NOTE.html";
    
    // عناصر DOM
    const _d2 = document.getElementById('_d2');
    const _d1 = document.getElementById('_d1');
    const _d3 = document.getElementById('_d3');
    const _b1 = document.querySelector('._x1');
    
    // تبديل عرض/إخفاء النافذة
    function _f1() {
        if (_d2.style.display === 'flex') {
            _f2();
        } else {
            _f3();
        }
    }
    
    function _f3() {
        // إيقاف تأثير النبض عند الفتح
        _b1.style.animation = 'none';
        
        _d1.style.display = 'block';
        _d2.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        
        if (!_v1) {
            _f4();
        }
    }
    
    function _f2() {
        // إعادة تشغيل تأثير النبض عند الإغلاق
        _b1.style.animation = '_a1 2s infinite';
        
        _d1.style.display = 'none';
        _d2.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
    
    // تحميل المحتوى
    async function _f4() {
        try {
            // استخدام iframe كحل أساسي
            _f5();
            _v1 = true;
        } catch (error) {
            _f6(error);
        }
    }
    
    // عرض المحتوى باستخدام iframe
    function _f5() {
        _d3.innerHTML = `
            <iframe src="${_u1}" 
                    style="width:100%; height:100%; border:none;"
                    sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
                    loading="lazy">
            </iframe>
        `;
    }
    
    // عرض رسالة الخطأ
    function _f6(_e1) {
        _d3.innerHTML = `
            <div class="_x7">
                <div style="color: #e74c3c; margin-bottom: 15px; font-size: 1.2rem;">⚠️ خطأ في تحميل المحتوى</div>
                <p style="margin-bottom: 20px; color: #555;">${_e1.message}</p>
                <button onclick="_f7()" 
                        style="padding: 10px 20px; 
                               background: linear-gradient(to right, #e74c3c, #c0392b); 
                               color: white; 
                               border: none; 
                               border-radius: 30px;
                               font-size: 1rem;
                               box-shadow: 0 3px 10px rgba(231, 76, 60, 0.3);
                               transition: all 0.2s;">
                    إعادة المحاولة
                </button>
            </div>
        `;
    }
    
    // إعادة تحميل المحتوى
    function _f7() {
        _d3.innerHTML = `
            <div class="_x7">
                <div class="_x8"></div>
                <p>جاري تحميل المحتوى الطبي...</p>
            </div>
        `;
        _f4();
    }
    
    // إغلاق النافذة عند النقر خارجها
    _d1.addEventListener('click', _f2);
    
    // منع إغلاق النافذة عند النقر داخلها
    _d2.addEventListener('click', (e) => {
        e.stopPropagation();
    });
    
    // تحسين الأداء للهواتف
    if ('connection' in navigator) {
        if (navigator.connection.saveData || navigator.connection.effectiveType.includes('2g')) {
            // تحسينات لشبكات الجيل الثاني
            _b1.style.animation = 'none';
        }
    }
    
    // إضافة اهتزاز عند النقر (للهواتف)
    function _f8() {
        if ('vibrate' in navigator) {
            navigator.vibrate(10);
        }
    }
    
    // إضافة الاهتزاز للأزرار
    document.querySelector('._x1').addEventListener('click', _f8);
    document.querySelector('._x6')?.addEventListener('click', _f8);
</script>

</body>
</html>



  
















<style>
    /* أنماط الزر الطافي */
    .theme-toggle {
        position: fixed;
        top:100px;
        left: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: #333;
        color: #fff;
        border: none;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        z-index: 9999;
        transition: all 0.3s ease;
    }
    
    .theme-toggle:hover {
        transform: scale(1.1);
    }
    
    /* أنماط الوضع النهاري */
    body.light-mode {
        background-color: #f5f5f5;
        color: #333;
    }
    

    

body.dark-mode .hover-image-container {
    color: #ffffff;
}

body.dark-mode .image-tooltip {
    color: #66bfff;
}

body.dark-mode .image-tooltip-content {
    background-color: #222;
    box-shadow: 0 10px 25px rgba(255, 255, 255, 0.1);
}

body.dark-mode .tooltip-caption {
    color: #ccc;
}
    body.light-mode .sidebar {
        background-color: #f0f0f0;
        color: #333;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    
    body.light-mode .bubble {
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        border-left: 6px solid #007bff;
        color: #333;
    }
    
    body.light-mode .progress-bar-container {
        background-color: #e0e0e0;
    }
    
    body.light-mode .finish-button {
        background-color: #007bff;
        color: white;
    }
    
    body.light-mode .interact-button {
        background-color: #007bff;
        color: white;
    }
    
    body.light-mode .refresh-button {
        background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
        color: #333;
        border: 1px solid #ccc;
    }
    
    body.light-mode #end-lesson-modal {
        background-color: #f5f5f5;
        color: #333;
    }
    
    body.light-mode .modal {
        background: #f5f5f5;
        color: #333;
    }
</style>

<button class="theme-toggle" id="themeToggle">☀️</button>

<script>
    // اختيار العناصر
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    
    // التحقق من التفضيل المحفوظ
    const currentTheme = localStorage.getItem('theme');
    if (currentTheme === 'light') {
        body.classList.add('light-mode');
        body.classList.remove('dark-mode');
        themeToggle.textContent = '🌙';
    } else {
        body.classList.add('dark-mode');
        themeToggle.textContent = '☀️';
    }
    
    // حدث النقر على الزر
    themeToggle.addEventListener('click', () => {
        if (body.classList.contains('dark-mode')) {
            // التحويل إلى الوضع النهاري
            body.classList.add('light-mode');
            body.classList.remove('dark-mode');
            themeToggle.textContent = '🌙';
            localStorage.setItem('theme', 'light');
        } else {
            // التحويل إلى الوضع الليلي
            body.classList.add('dark-mode');
            body.classList.remove('light-mode');
            themeToggle.textContent = '☀️';
            localStorage.setItem('theme', 'dark');
        }
    });
</script>








































            
            
            
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>أداة التحكم في التكبير/التصغير</title>
  <style>
    /* تنسيقات أداة التكبير/التصغير */
    .zoom-controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      background: rgba(40, 40, 40, 0.9);
      padding: 12px;
      border-radius: 24px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .zoom-btn {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: #007bff;
      color: white;
      border: none;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    
    .zoom-btn:hover {
      background: #0056b3;
      transform: scale(1.05);
    }
    
    .zoom-value {
      color: white;
      font-family: Arial, sans-serif;
      font-size: 14px;
      font-weight: bold;
      min-width: 40px;
      text-align: center;
    }
    
    /* للهواتف */
    @media (max-width: 768px) {
      .zoom-controls-container {
        bottom: 15px;
        left: 15px;
      }
      
      
    }
  </style>
</head>
<body>



<script>
  // إعدادات التكبير
  const zoomSettings = {
    current: 1, // هذه القيمة سيتم تغييرها عند التحميل إذا لم توجد قيمة محفوظة
    min: 0.3, // غيرت الحد الأدنى ليتناسب مع القيمة الافتراضية
    max: 2,
    step: 0.1
  };

  // عناصر التحكم
  const elements = {
    zoomIn: document.getElementById('zoom-in'),
    zoomOut: document.getElementById('zoom-out'),
    zoomReset: document.getElementById('zoom-reset'),
    zoomValue: document.getElementById('zoom-value'),
    html: document.documentElement
  };

  // تطبيق مستوى التكبير الحالي
  function applyZoom() {
    elements.html.style.fontSize = `${zoomSettings.current * 100}%`;
    elements.zoomValue.textContent = `${Math.round(zoomSettings.current * 100)}%`;
    
    // حفظ الإعدادات
    localStorage.setItem('pageZoomLevel', zoomSettings.current);
  }

  // تكبير النص
  elements.zoomIn.addEventListener('click', () => {
    if (zoomSettings.current < zoomSettings.max) {
      zoomSettings.current += zoomSettings.step;
      applyZoom();
    }
  });

  // تصغير النص
  elements.zoomOut.addEventListener('click', () => {
    if (zoomSettings.current > zoomSettings.min) {
      zoomSettings.current -= zoomSettings.step;
      applyZoom();
    }
  });

  // إعادة التعيين
  elements.zoomReset.addEventListener('click', () => {
    zoomSettings.current = 1;
    applyZoom();
  });

  window.addEventListener('DOMContentLoaded', () => {
    const savedZoom = localStorage.getItem('pageZoomLevel');
    if (savedZoom) {
      zoomSettings.current = parseFloat(savedZoom);
    } else {
      // القيمة الافتراضية عند أول فتح (30%)
      zoomSettings.current = 0.1;
    }
    applyZoom();
  });

  // اختصارات لوحة المفاتيح
  document.addEventListener('keydown', (e) => {
    if (e.ctrlKey && e.key === '0') {
      e.preventDefault();
      elements.zoomReset.click();
    }
  });
</script>

</body>
</html>



































































































































































































