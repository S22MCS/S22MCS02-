<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<br>
<br>
  <title>اختبار    حَاسَّةُ الشَّمِّ  علم الانسجة  - كلية وَهْرَان</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 
 
  <link rel="stylesheet" href="styles.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<style>
    /* أنماط عامة */
:root {
  --primary-color: #3498db;
  --secondary-color: #2980b9;
  --success-color: #2ecc71;
  --danger-color: #e74c3c;
  --warning-color: #f39c12;
  --light-color: #ecf0f1;
  --dark-color: #2c3e50;
  --text-color: #333;
  --white: #fff;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Tajawal', sans-serif;
  background-color: #f5f7fa;
  color: var(--text-color);
  line-height: 1.6;
  direction: rtl;
}

/* تصميم الهيدر */
header {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: var(--white);
  padding: 1.5rem;
  text-align: center;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-bottom: 4px solid var(--secondary-color);
  position: relative;
  overflow: hidden;
}

header h1 {
  font-size: 1.8rem;
  margin-bottom: 0.5rem;
  position: relative;
  z-index: 1;
}

header::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('https://via.placeholder.com/1920x1080') center/cover;
  opacity: 0.1;
  z-index: 0;
}

/* شريط الوقت */
.timer-container {
  background-color: var(--dark-color);
  color: var(--white);
  padding: 0.8rem 0;
  text-align: center;
  font-size: 1.78rem;
  font-weight: bold;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1000;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  display: flex;
  justify-content: center;
  align-items: center;
}

.timer-container i {
  margin-left: 10px;
}

/* الحاوية الرئيسية */
.container {
  max-width: 800px;
  margin: 5rem auto 2rem;
  padding: 1.5rem;
  background-color: var(--white);
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  position: relative;
}

/* شريط التقدم */
.progress-indicator {
  width: 100%;
  height: 6px;
  background-color: #e0e0e0;
  border-radius: 3px;
  margin-bottom: 1rem;
  overflow: hidden;
  position: relative;
}

.progress-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
  border-radius: 3px;
  transition: width 0.5s ease;
}

.progress-text {
  text-align: center;
  font-size: 0.9rem;
  color: var(--dark-color);
  margin-top: 0.5rem;
}

/* إعدادات البداية */
.start-screen {
  text-align: center;
  padding: 2rem;
}

.start-screen img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
}

.start-screen img:hover {
  transform: scale(1.02);
}

/* اختيار المدة وعدد الأسئلة */
.quiz-settings {
  background-color: var(--light-color);
  padding: 1.5rem;
  border-radius: 10px;
  margin: 1rem 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.setting-group {
  margin-bottom: 1.5rem;
}

.setting-group label {
  display: block;
  margin-bottom: 0.8rem;
  font-weight: bold;
  font-size: 1.1rem;
  color: var(--dark-color);
}

.setting-group input, .setting-group select {
  width: 100%;
  padding: 0.8rem;
  border: 2px solid #ddd;
  border-radius: 8px;
  font-size: 1rem;
  text-align: center;
  margin-bottom: 1rem;
  transition: border-color 0.3s ease;
  font-family: 'Tajawal', sans-serif;
}

.setting-group input:focus, .setting-group select:focus {
  border-color: var(--primary-color);
  outline: none;
}

/* حاوية الأسئلة */
.question-container {
  margin-bottom: 1.5rem;
  display: none;
}

/* إطار الصورة */
.question-image {
  width: 100%;
  max-height: 300px;
  overflow: hidden;
  border-radius: 10px;
  margin-bottom: 1.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  position: relative;
}

.question-image img {
  width: 100%;
  height: auto;
  object-fit: cover;
  transition: transform 0.5s ease;
}

.question-image:hover img {
  transform: scale(1.05);
}

/* نص السؤال */
.question-text {
  background-color: var(--light-color);
  padding: 1.5rem;
  border-radius: 10px;
  margin-bottom: 1.5rem;
  font-size: 1.2rem;
  font-weight: 500;
  line-height: 1.5;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

/* خيارات الإجابة */
.options {
  list-style: none;
  margin: 0;
  padding: 0;
}

.options li {
  padding: 1rem 1.5rem;
  background-color: var(--white);
  margin: 0.5rem 0;
  cursor: pointer;
  border-radius: 8px;
  border: 2px solid #ddd;
  transition: all 0.3s ease;
  font-size: 1.1rem;
  display: flex;
  align-items: center;
  position: relative;
  user-select: none;
}

.options li:hover {
  background-color: #f8f9fa;
  border-color: var(--primary-color);
  transform: translateX(-5px);
}

.options li.selected {
  background-color: var(--primary-color);
  color: var(--white);
  border-color: var(--primary-color);
}

.options li.correct {
  background-color: var(--success-color);
  color: var(--white);
  border-color: var(--success-color);
}

.options li.incorrect {
  background-color: var(--danger-color);
  color: var(--white);
  border-color: var(--danger-color);
}

.options li.touched {
  transform: scale(0.98);
  opacity: 0.9;
}

/* علامة الإجابة الصحيحة */
.correct-mark {
  position: absolute;
  left: 10px;
  color: var(--white);
  font-weight: bold;
}

/* أزرار التحكم */
.btn {
  display: inline-block;

  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: var(--white);
  padding: 0.8rem 1.8rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1rem;
  font-weight: bold;
  margin: 0.5rem;
  transition: all 0.3s ease;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  text-decoration: none;
}

.btn:hover {
  background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  transform: translateY(-2px);
}

.btn:active {
  transform: translateY(1px);
  box-shadow: none;
}

.btn-secondary {
  background: linear-gradient(135deg, #6c757d, #5a6268);
}

.btn-success {
  background: linear-gradient(135deg, var(--success-color), #27ae60);
}

.btn-danger {
  background: linear-gradient(135deg, var(--danger-color), #c0392b);
}

.btn-warning {
  background: linear-gradient(135deg, var(--warning-color), #e67e22);
}

.btn-info {
  background: linear-gradient(135deg, #17a2b8, #138496);
}

/* قسم النتائج */
.result-section {
  display: none;
  text-align: center;
  padding: 2rem;
}

.result-section h2 {
  font-size: 2rem;
  color: var(--primary-color);
  margin-bottom: 1.5rem;
}

.score-display {
  font-size: 2.5rem;
  font-weight: bold;
  color: var(--dark-color);
  margin: 1.5rem 0;
}

.progress-container {
  width: 100%;
  height: 30px;
  background-color: #e0e0e0;
  border-radius: 15px;
  margin: 1.5rem 0;
  overflow: hidden;
}

.time-stats {
  display: flex;
  justify-content: space-around;
  margin: 1.5rem 0;
  flex-wrap: wrap;
}

.stat-box {
  background-color: var(--light-color);
  padding: 1rem;
  border-radius: 8px;
  min-width: 150px;
  margin: 0.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.stat-box h3 {
  color: var(--dark-color);
  margin-bottom: 0.5rem;
}

.stat-box p {
  font-size: 1.2rem;
  font-weight: bold;
}

/* الرسوم البيانية */
.chart-container {
  width: 100%;
  max-width: 600px;
  margin: 2rem auto;
}

/* مراجعة الأسئلة */
.question-review {
  background-color: var(--white);
  border-radius: 8px;
  padding: 1.5rem;
  margin: 1rem 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  text-align: right;
  border-left: 4px solid #ddd;
}

.question-review.correct {
  border-left-color: var(--success-color);
}

.question-review.incorrect {
  border-left-color: var(--danger-color);
}

.question-review h3 {
  margin-bottom: 0.8rem;
  color: var(--dark-color);
}

.question-review p {
  margin-bottom: 0.8rem;
}

.question-review .user-answer {
  font-weight: bold;
}

.question-review .correct-answer {
  font-weight: bold;
  color: var(--success-color);
}

.question-review .explanation {
  background-color: var(--light-color);
  padding: 1rem;
  border-radius: 8px;
  margin-top: 1rem;
}

/* النافذة المنبثقة للشرح */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.modal.active {
  opacity: 1;
  visibility: visible;
}

.modal-content {
  background-color: var(--white);
  border-radius: 12px;
  width: 90%;
  max-width: 600px;
  max-height: 80vh;
  overflow-y: auto;
  padding: 2rem;
  position: relative;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}


.close-btn {
  position: fixed;
  top: 1rem; /* مسافة من الأعلى */
  left: 50%; /* المنتصف أفقياً */
  transform: translateX(-50%); /* توسيط دقيق */
  background-color: var(--danger-color);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 3.2rem;
  height: 3.2rem;
  font-size: 1.6rem;
  cursor: pointer;
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  z-index: 9999;
}

.close-btn:hover {
  transform: translateX(-50%) translateY(-3px) scale(1.05);
  box-shadow: 0 10px 18px rgba(0, 0, 0, 0.3);
}

/* تحسينات للشاشات الصغيرة */
@media (max-width: 480px) {
  .close-btn {
    width: 2.8rem;
    height: 2.8rem;
    font-size: 1.4rem;
    top: 0.8rem;
  }
}









/* زر المعلومات العائم */
.info-btn {
  position: fixed;
  bottom: 9rem;
  right: 2rem;
  background-color: var(--primary-color);
  color: var(--white);
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 1000;
  transition: all 0.3s ease;
}

.info-btn:hover {
  background-color: var(--secondary-color);
  transform: scale(1.1);
}

.info-btn i {
  font-size: 1.5rem;
}

/* لوحة المعلومات الجانبية */
.info-panel {
  position: fixed;
  top: 0;
  right: -350px;
  width: 350px;
  height: 100%;
  background-color: var(--white);
  box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
  z-index: 1500;
  transition: right 0.3s ease;
  padding: 1.5rem;
  overflow-y: auto;
}

.info-panel.active {
  right: 0;
}

.info-panel h3 {
  color: var(--primary-color);
  margin-bottom: 1rem;
  border-bottom: 2px solid var(--primary-color);
  padding-bottom: 0.5rem;
}

.info-panel p {
  margin-bottom: 1rem;
}

.info-panel ul {
  margin-right: 1.5rem;
  margin-bottom: 1.5rem;
}

.info-panel li {
  margin-bottom: 0.5rem;
}

.close-panel {
  position: absolute;
  top: 1rem;
  left: 1rem;
  background: none;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
  color: var(--danger-color);
}

/* زر العودة للأعلى */
.back-to-top {
  position: fixed;
  bottom: 20rem;
  left: 2rem;
  background-color: var(--primary-color);
  color: var(--white);
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  z-index: 1000;
}

.back-to-top.visible {
  opacity: 1;
  visibility: visible;
}

.back-to-top:hover {
  background-color: var(--secondary-color);
  transform: translateY(-3px);
}

/* الجداول */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0;
}

th, td {
  padding: 0.8rem;
  text-align: right;
  border-bottom: 1px solid #ddd;
}

th {
  background-color: var(--primary-color);
  color: white;
}

tr:nth-child(even) {
  background-color: #f2f2f2;
}

tr:hover {
  background-color: #e9e9e9;
}

/* التكيف مع الشاشات الصغيرة */
@media (max-width: 768px) {
  header h1 {
    font-size: 1.5rem;
  }
  
  .container {
    margin: 4rem auto 1rem;
    padding: 1rem;
  }
  
  .question-text {
    font-size: 1.1rem;
    padding: 1rem;
  }
  
  .options li {
    padding: 0.8rem 1rem;
    font-size: 1rem;
  }
  
  .btn {
    padding: 0.7rem 1.5rem;
    font-size: 0.9rem;
  }
  
  .result-section h2 {
    font-size: 1.8rem;
  }
  
  .score-display {
    font-size: 2rem;
  }
  
  .info-panel {
    width: 300px;
    right: -300px;
  }
  
  .info-btn {
    width: 50px;
    height: 50px;
    bottom: 1.5rem;
    right: 1.5rem;
  }
  
  th, td {
    padding: 0.6rem;
    font-size: 0.9rem;
  }
}

@media (max-width: 480px) {
  header h1 {
    font-size: 1.3rem;
  }
  
  .timer-container {
    font-size: 1.2rem;
  }
  
  .question-text {
    font-size: 1rem;
  }
  
  .options li {
    padding: 0.7rem;
    font-size: 0.9rem;
  }
  
  .btn {
    width: 100%;
    margin: 0.3rem 0;
  }
  
  .time-stats {
    flex-direction: column;
  }
  
  .info-panel {
    width: 85%;
    right: -85%;
  }
  
  .info-btn {
    width: 45px;
    height: 45px;
    bottom: 12rem;
    right: 1rem;
  }
  
  .back-to-top {
    width: 45px;
    height: 45px;
    bottom: 14rem;
    left: 1rem;
  }
  
  .question-image {
    max-height: 200px;
  }
  
  th, td {
    padding: 0.5rem;
    font-size: 0.8rem;
  }
  
  .hormones-table {
    overflow-x: auto;
    display: block;
  }
}




















































/* نافذة الشروحات الطويلة */
.long-explanation-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.long-explanation-modal.active {
  opacity: 1;
  visibility: visible;
}

.long-explanation-content {
  background-color: var(--white);
  border-radius: 12px;
  width: 90%;
  max-width: 800px;
  max-height: 80vh;
  overflow-y: auto;
  padding: 2rem;
  position: relative;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

.long-explanation-content h3 {
  color: var(--primary-color);
  margin-bottom: 1rem;
}

.long-explanation-content p {
  margin-bottom: 1rem;
  line-height: 1.8;
}

.long-explanation-btn {
  background: linear-gradient(135deg, #9b59b6, #8e44ad);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  margin: 0.5rem;
  font-size: 0.9rem;
}

.long-explanation-btn:hover {
  background: linear-gradient(135deg, #8e44ad, #9b59b6);
}
</style>





<body>
  <!-- شريط الوقت -->
  <div class="timer-container">
    <i class="fas fa-clock"></i>
    <span id="timer">00:00</span>
  </div>
  

  
  <!-- الهيدر -->
  <header>




    <h1>    اختبار    حَاسَّةُ الشَّمِّ  علم الانسجة  - كلية وَهْرَان</h1>
  </header>
  









  <!-- الحاوية الرئيسية -->
  <div class="container">
    <!-- شاشة البداية -->
    <div class="start-screen" id="start-screen">
  
      <h2>مرحباً بك في اختبار   أداة علم </h2>
      <p>هذا الاختبار مصمم لقياس معرفتك  حول  </p>
      
      <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 5vh; padding: 12px; text-align: center; background: #f4f4f4; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); margin: 8px;">
        <h1 style="font-size: clamp(1.1rem, 2.5vw, 1.4rem); color: #2e3b4e; margin-bottom: 10px; font-weight: 600;">
    اختبار    حَاسَّةُ الشَّمِّ  علم الانسجة  - كلية وَهْرَان
        </h1>
        <h2 style="font-size: clamp(0.85rem, 2vw, 1.1rem); color: #445566; margin: 4px 0; font-weight: 500;">
          🔻 TEST DE L’OLFACTION  – HISTOLOGIE – FACULTÉ D’ORAN 🔻
        </h2>
        <h2 style="font-size: clamp(0.85rem, 2vw, 1.1rem); color: #445566; margin: 4px 0; font-weight: 500;">
          🔻 SMELL TEST – HISTOLOGY – FACULTY OF ORAN 🔻
        </h2>
      </div>
      
      



      <!-- اختيار إعدادات الاختبار -->
      <div class="quiz-settings">
        <div class="setting-group">
          <label for="custom-duration">اختر مدة الاختبار (بالدقائق):</label>
          <input type="number" id="custom-duration" min="1" max="60" value="10">
        </div>
        
        <div class="setting-group">
          <label for="question-count">عدد الأسئلة:</label>
          <select id="question-count">
            <option value="5">5 أسئلة</option>
            <option value="10">10 أسئلة</option>
            <option value="15">15 أسئلة</option>
            <option value="20">20 أسئلة</option>
            <option value="all">جميع الأسئلة</option> <!-- الخيار الجديد -->

          </select>
        </div>
        



        
    <!-- زر المعلومات العائم -->
    <div class="info-btn" id="info-btn">
      <i class="fas fa-info"></i>
    </div>
    

        
      <style>
   
        /* تصميم خاص فقط بعنصر الإعداد */
        .quiz-setting {
          max-width: 280px;
          margin: 30px auto;
        }
    
        .quiz-setting .setting-group {
          display: flex;
          align-items: center;
          background-color: #ffffff;
          border: 1px solid #ddd;
          padding: 10px 14px;
          border-radius: 12px;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
          transition: all 0.3s ease;
          cursor: pointer;
        }
    
        .quiz-setting .setting-group:hover {
          background-color: #f0f8ff;
        }
    
        .quiz-setting input[type="checkbox"] {
          appearance: none;
          width: 18px;
          height: 18px;
          border: 2px solid #999;
          border-radius: 4px;
          margin-left: 10px;
          position: relative;
          transition: all 0.2s ease;
        }
    
        .quiz-setting input[type="checkbox"]:checked {
          border-color: #28a745;
          background-color: #28a745;
        }
    
        .quiz-setting input[type="checkbox"]:checked::after {
          content: "✓";
          position: absolute;
          top: -2px;
          left: 3px;
          font-size: 14px;
          color: #fff;
        }
    
        .quiz-setting label {
          display: flex;
          align-items: center;
          color: #333;
          font-size: 15px;
        }
    
        .quiz-setting label i {
          margin-left: 6px;
          color: #007bff;
          font-size: 16px;
        }




/* نافذة الشروحات الطويلة */
.long-explanation-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.long-explanation-modal.active {
  opacity: 1;
  visibility: visible;
}

.long-explanation-content {
  background-color: var(--white);
  border-radius: 12px;
  width: 90%;
  max-width: 800px;
  max-height: 80vh;
  overflow-y: auto;
  padding: 2rem;
  position: relative;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

.long-explanation-content h3 {
  color: var(--primary-color);
  margin-bottom: 1rem;
}

.long-explanation-content p {
  margin-bottom: 1rem;
  line-height: 1.8;
}

.long-explanation-btn {
  background: linear-gradient(135deg, #9b59b6, #8e44ad);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  margin: 0.5rem;
  font-size: 0.9rem;
}

.long-explanation-btn:hover {
  background: linear-gradient(135deg, #8e44ad, #9b59b6);
}
</style>




    
      <div class="quiz-setting">
        <div class="setting-group">
          <input type="checkbox" id="shuffle-questions" checked>
          <label for="shuffle-questions">
            <i class="fas fa-random"></i>
            

            <div style="padding: 0.5rem; border: 1px solid #ccc; border-radius: 8px; background-color: #f9f9f9; max-width: 300px; font-size: 0.875rem;">
              <h4 style="color: #2c3e50; margin-bottom: 0.5rem; font-size: 1rem;">
                <strong>🔀 خلط الأسئلة</strong>
              </h4>
              <p style="color: #555; line-height: 1.5; margin: 0;">
                عند تفعيل هذه الميزة، تُعرض الأسئلة من الأحدث إلى الأقدم لضمان تنويع وتوزيع عادل بين السنوات.
              </p>
            </div>
            


          </label>
        </div>
      </div>
    
        <div style="text-align: center;">
          <button class="btn" id="start-btn">بدء الاختبار</button>
          <button class="btn btn-secondary" id="quick-test-btn">اختبار سريع (5 أسئلة - 5 دقائق)</button>
        </div>
      </div>
      
      <div class="tips">
        <h3>نصائح قبل البدء:</h3>
        <ul style="text-align: right; margin-right: 1.5rem;">
          <li>اقرأ كل سؤال بعناية قبل الإجابة</li>
          <li>يمكنك تغيير إجابتك قبل الضغط على زر الإرسال</li>
          <li>سيتم احتساب الوقت المستغرق لكل سؤال</li>
          <li>اضغط على زر المعلومات (<i class="fas fa-info"></i>) للحصول على مساعدة</li>


        </ul>
      </div>
    </div>
    
    <!-- شريط التقدم -->
    <div class="progress-indicator" id="progress-indicator" style="display: none;">
      <div class="progress-bar" id="question-progress"></div>
      <div class="progress-text" id="progress-text">السؤال 1 من 10</div>
    </div>
    
    <!-- حاوية الأسئلة -->
    <div id="question-container" class="question-container">
      <!-- سيتم تعبئتها ديناميكياً -->
    </div>
    
    <!-- قسم النتائج -->
    <div id="result-section" class="result-section">
      <h2>نتيجة الاختبار</h2>
      <div class="score-display" id="score-display"></div>
      
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
      
      <div class="chart-container">
        <canvas id="results-chart"></canvas>
      </div>
      
      <div class="time-stats">
        <div class="stat-box">
          <h3>الوقت المستغرق</h3>
          <p id="total-time"></p>
        </div>
        <div class="stat-box">
          <h3>متوسط الوقت لكل سؤال</h3>
          <p id="average-time"></p>
        </div>
        <div class="stat-box">
          <h3>أسرع إجابة</h3>
          <p id="fastest-time"></p>
        </div>
        <div class="stat-box">
          <h3>أبطأ إجابة</h3>
          <p id="slowest-time"></p>
        </div>
      </div>
      
      <h3>مراجعة الأسئلة:</h3>
      <div id="results-container"></div>
      
      <div class="actions">
        <button class="btn btn-success" onclick="restartQuiz()">إعادة الاختبار</button>
        <button class="btn btn-secondary" onclick="window.location.href='index.html';">العودة للرئيسية</button>

        
      
    
        <button class="btn" style="background: #9b59b6;" onclick="showAllExplanations()">
          <i class="fas fa-book"></i> عرض جميع الشروحات
        </button>




        
    
        


          <button class="btn" style="background: #0004ec;" 
          
          id="eldarsBtn" aria-label="فتح ملخص الدرس">
                <i class="fas fa-book"></i>
                <span>فتح ملخص الدرس</span>
            </button>
      </div>
    </div>
  </div>
  



  <!-- النافذة المنبثقة للشرح -->
  <div id="explanation-modal" class="modal">
    <div class="modal-content">
      <button class="close-btn" onclick="closeExplanation()">×</button>
      <h3 id="modal-title">الشرح  المختصر </h3>
      <div id="explanation-text"></div>
    </div>
  </div>
  










  <!-- نافذة الشروحات الطويلة -->
<div id="long-explanation-modal" class="long-explanation-modal">
  <div class="long-explanation-content">
    <button class="close-btn" onclick="closeLongExplanation()">×</button>
    <h3 id="long-explanation-title">الشروحات  </h3>
    <div id="long-explanation-text"></div>
  </div>
</div>




  <!-- زر العودة للأعلى -->
  <div class="back-to-top" id="back-to-top">↑</div>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="script.js"></script>
</body>
</html>


















<script>






// بيانات الأسئلة الكاملة
const allQuestions = [




  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°33 U5 2024</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> سيدي بلعباس</span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
  l'épithélium olfactif est :
</div>
`,

    options: [
      " prismatique pseudo stratifié",
      " pavimenteux simple",
      " cubique stratifié",
      " cylindrique simple",
      " polymorphe"
    ],
    correct: [0],
    explanation:  `
<div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>A. ظهارة عمودية كاذبة التطبّق</strong><br>
  ✅ Correct Answer: <strong>A. Pseudostratified Columnar Epithelium</strong><br>
  ✅ Réponse correcte : <strong>A. Épithélium Prismatique Pseudo-stratifié</strong>
  </p>
</div>



<style>
  .option-block {
    border: 1px solid #ccc;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 20px;
    background-color: #f9f9ff;
  }

  .option-block strong {
    font-size: 1.1em;
    color: #4B0082;
  }

  .correct {
    color: green;
    font-weight: bold;
  }

  .incorrect {
    color: #b30000;
    font-weight: bold;
  }

  p {
    margin: 8px 0;
    line-height: 1.6;
  }

  h3 {
    font-family: 'Segoe UI', sans-serif;
    color: #2c3e50;
    margin-bottom: 24px;
  }

  .proposal {
    font-weight: bold;
    color: #222;
    margin-bottom: 6px;
  }

  .translation {
    font-style: italic;
    color: #666;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. ظهارة عمودية كاذبة التطبق<br>
  A. Pseudostratified Columnar Epithelium<br>
  A. Épithélium Prismatique Pseudo-stratifié</p>
  <p class="correct">✅ صحيح – الظهارة الشمية هي ظهارة عمودية كاذبة التطبُّق، تحتوي على خلايا عصبية شمية، خلايا داعمة، وخلايا قاعدية.</p>
  <p class="correct">✅ Correct – The olfactory epithelium is pseudostratified columnar, with olfactory neurons, supporting cells, and basal cells.</p>
  <p class="correct">✅ Correct – L’épithélium olfactif est pseudo-stratifié prismatique, contenant des neurones olfactifs, cellules de soutien et cellules basales.</p>
</div>

<div class="option-block">
  <p class="proposal">B. ظهارة مسطحة بسيطة<br>
  B. Simple Squamous Epithelium<br>
  B. Épithélium Pavimenteux Simple</p>
  <p class="incorrect">❌ خطأ – توجد هذه الظهارة في الأوعية الدموية والصفاق، ولا تشارك في الإحساس الشمي.</p>
  <p class="incorrect">❌ Incorrect – Simple squamous epithelium is found in the endothelium or peritoneum, not in the olfactory mucosa.</p>
  <p class="incorrect">❌ Incorrect – L'épithélium pavimenteux simple se trouve dans l'endothélium ou le péritoine, mais pas dans la muqueuse olfactive.</p>
</div>

<div class="option-block">
  <p class="proposal">C. ظهارة مكعبة مطبقة<br>
  C. Stratified Cuboidal Epithelium<br>
  C. Épithélium Cubique Stratifié</p>
  <p class="incorrect">❌ خطأ – لا يوجد هذا النوع في الظهارة الشمية، بل في بعض القنوات الغدية.</p>
  <p class="incorrect">❌ Incorrect – Stratified cuboidal epithelium is found in glandular ducts, not olfactory tissue.</p>
  <p class="incorrect">❌ Incorrect – L'épithélium cubique stratifié est présent dans certains canaux glandulaires, pas dans la région olfactive.</p>
</div>

<div class="option-block">
  <p class="proposal">D. ظهارة عمودية بسيطة<br>
  D. Simple Columnar Epithelium<br>
  D. Épithélium Cylindrique Simple</p>
  <p class="incorrect">❌ خطأ – يوجد هذا النوع في الجهاز الهضمي وليس في الظهارة الشمية.</p>
  <p class="incorrect">❌ Incorrect – Simple columnar epithelium is typical of the intestine and stomach, not the olfactory area.</p>
  <p class="incorrect">❌ Incorrect – L’épithélium cylindrique simple se trouve dans l’intestin ou l’estomac, pas dans la muqueuse olfactive.</p>
</div>

<div class="option-block">
  <p class="proposal">E. ظهارة متعددة الأشكال (انتقالية)<br>
  E. Transitional (Polymorphic) Epithelium<br>
  E. Épithélium Polymorphe (de Transition)</p>
  <p class="incorrect">❌ خطأ – يشير هذا عادة إلى الظهارة الانتقالية الموجودة في المثانة.</p>
  <p class="incorrect">❌ Incorrect – "Polymorphic" usually refers to bladder transitional epithelium, not olfactory tissue.</p>
  <p class="incorrect">❌ Incorrect – "Polymorphe" fait référence à l’urothélium de la vessie, pas à la zone olfactive.</p>
</div>

    `,

   
    detailedExplanation: `



    `,
    
    timeSpent: 0,
    type: "single"
  },









  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°33 U5 2023</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> سيدي بلعباس</span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
-Concernant l'organe olfacti :
</div>
`,

    options: [
      "l'épithélium est prismatique pseudo stratifié",
      "il existe dans le chorion des glandes de Bowman",
      "il existe un grand nombre de récepteurs spécifiques des odeurs",
      "les cellules sensorielles solubilisent les molécules olfactives",
      "la vésicule olfactive est pourvue de cils"
    ],
    correct: [3],
    explanation:  `
    


    <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>❌ الإجابة الخاطئة:</h2>
  <p><strong>D. les cellules sensorielles solubilisent les molécules olfactives</strong><br>
  ❌ Incorrect Answer: <strong>D. Sensory cells solubilize odorant molecules</strong><br>
  ❌ Mauvaise réponse : <strong>D. Les cellules sensorielles solubilisent les molécules olfactives</strong>
  </p>
</div>






<style>
  .option-block {
    border: 1px solid #ccc;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 20px;
    background-color: #f9f9ff;
  }

  .option-block strong {
    font-size: 1.1em;
    color: #4B0082;
  }

  .correct {
    color: green;
    font-weight: bold;
  }

  .incorrect {
    color: #b30000;
    font-weight: bold;
  }

  p {
    margin: 8px 0;
    line-height: 1.6;
  }

  h3 {
    font-family: 'Segoe UI', sans-serif;
    color: #2c3e50;
    margin-bottom: 24px;
  }

  .proposal {
    font-weight: bold;
    color: #222;
    margin-bottom: 6px;
  }

  .translation {
    font-style: italic;
    color: #666;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. الظهارة عمودية كاذبة التطبق<br>
  A. Pseudostratified Columnar Epithelium<br>
  A. Épithélium Prismatique Pseudo-stratifié</p>
  <p class="correct">✅ صحيح – الظهارة الشمية هي ظهارة عمودية كاذبة التطبُّق، تحتوي على أنواع متعددة من الخلايا.</p>
  <p class="correct">✅ Correct – The olfactory epithelium is pseudostratified columnar, composed of several cell types.</p>
  <p class="correct">✅ Correct – L’épithélium olfactif est prismatique pseudo-stratifié, avec plusieurs types cellulaires.</p>
</div>

<div class="option-block">
  <p class="proposal">B. توجد في الطبقة الخاصة (الكوريون) غدد بومان<br>
  B. Bowman’s glands are present in the lamina propria<br>
  B. Il existe dans le chorion des glandes de Bowman</p>
  <p class="correct">✅ صحيح – تفرز غدد بومان مادة مخاطية تساعد في إذابة الروائح.</p>
  <p class="correct">✅ Correct – Bowman’s glands secrete mucus that helps dissolve odorant molecules.</p>
  <p class="correct">✅ Correct – Les glandes de Bowman sécrètent un mucus qui aide à dissoudre les molécules odorantes.</p>
</div>

<div class="option-block">
  <p class="proposal">C. هناك عدد كبير من المستقبلات الخاصة بالروائح<br>
  C. A large number of specific odorant receptors exist<br>
  C. Il existe un grand nombre de récepteurs spécifiques des odeurs</p>
  <p class="correct">✅ صحيح – يمتلك الإنسان مئات الأنواع المختلفة من مستقبلات الشم.</p>
  <p class="correct">✅ Correct – Humans have hundreds of different olfactory receptors.</p>
  <p class="correct">✅ Correct – L’humain possède des centaines de récepteurs olfactifs différents.</p>
</div>

<div class="option-block">
  <p class="proposal">D. الخلايا الحسية تذيب الجزيئات الشمية<br>
  D. Sensory cells solubilize odorant molecules<br>
  D. Les cellules sensorielles solubilisent les molécules olfactives</p>
  <p class="incorrect">❌ خطأ – ليس دور الخلايا الحسية إذابة الروائح، بل يتم ذلك عبر المخاط المُفرز من غدد بومان.</p>
  <p class="incorrect">❌ Incorrect – Odorant solubilization is done by mucus from Bowman’s glands, not the sensory cells.</p>
  <p class="incorrect">❌ Incorrect – La solubilisation des molécules odorantes est assurée par le mucus des glandes de Bowman, pas par les cellules sensorielles.</p>
</div>

<div class="option-block">
  <p class="proposal">E. الحويصلة الشمية مزودة بأهداب<br>
  E. The olfactory vesicle has cilia<br>
  E. La vésicule olfactive est pourvue de cils</p>
  <p class="correct">✅ صحيح – الحويصلة الشمية هي جزء من الخلية العصبية الشمية وتحتوي على أهداب حسية.</p>
  <p class="correct">✅ Correct – The olfactory vesicle is part of the sensory neuron and bears cilia.</p>
  <p class="correct">✅ Correct – La vésicule olfactive appartient au neurone sensoriel et porte des cils récepteurs.</p>
</div>

  
`,

   
    detailedExplanation: `
    الشروحات المفصلة قريبا 
    قريبا  
    `,
    
    timeSpent: 0,
    type: "single"
  },

  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°34 U5 2022</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> سيدي بلعباس</span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
 Épithélium olfactif est:
</div>
`,

    options: [
      " Prismatique pseudo stratifié",
      " Pavimenteux  simple",
      "Cubique stratifie",
      " Prismatique simple",
      " Aucune réponse précédente n'est juste"
    ],
    correct: [0],
    explanation:  `
    
  









    <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>A. ظهارة عمودية كاذبة التطبّق</strong><br>
  ✅ Correct Answer: <strong>A. Pseudostratified Columnar Epithelium</strong><br>
  ✅ Réponse correcte : <strong>A. Épithélium Prismatique Pseudo-stratifié</strong>
  </p>
</div>

<style>
  .option-block {
    border: 1px solid #ccc;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 20px;
    background-color: #f9f9ff;
  }

  .option-block strong {
    font-size: 1.1em;
    color: #4B0082;
  }

  .correct {
    color: green;
    font-weight: bold;
  }

  .incorrect {
    color: #b30000;
    font-weight: bold;
  }

  p {
    margin: 8px 0;
    line-height: 1.6;
  }

  h3 {
    font-family: 'Segoe UI', sans-serif;
    color: #2c3e50;
    margin-bottom: 24px;
  }

  .proposal {
    font-weight: bold;
    color: #222;
    margin-bottom: 6px;
  }

  .translation {
    font-style: italic;
    color: #666;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. ظهارة عمودية كاذبة التطبّق<br>
  A. Pseudostratified Columnar Epithelium<br>
  A. Épithélium Prismatique Pseudo-stratifié</p>
  <p class="correct">✅ صحيح – الظهارة الشمية هي ظهارة عمودية كاذبة التطبُّق، تحتوي على خلايا عصبية شمية، خلايا داعمة، وخلايا قاعدية.</p>
  <p class="correct">✅ Correct – The olfactory epithelium is pseudostratified columnar, with olfactory neurons, supporting cells, and basal cells.</p>
  <p class="correct">✅ Correct – L’épithélium olfactif est pseudo-stratifié prismatique, contenant des neurones olfactifs, cellules de soutien et cellules basales.</p>
</div>

<div class="option-block">
  <p class="proposal">B. ظهارة مسطحة بسيطة<br>
  B. Simple Squamous Epithelium<br>
  B. Épithélium Pavimenteux Simple</p>
  <p class="incorrect">❌ خطأ – توجد هذه الظهارة في الأوعية الدموية والصفاق، ولا تشارك في الإحساس الشمي.</p>
  <p class="incorrect">❌ Incorrect – Simple squamous epithelium is found in the endothelium or peritoneum, not in the olfactory mucosa.</p>
  <p class="incorrect">❌ Incorrect – L'épithélium pavimenteux simple se trouve dans l'endothélium ou le péritoine, mais pas dans la muqueuse olfactive.</p>
</div>

<div class="option-block">
  <p class="proposal">C. ظهارة مكعبة مطبقة<br>
  C. Stratified Cuboidal Epithelium<br>
  C. Épithélium Cubique Stratifié</p>
  <p class="incorrect">❌ خطأ – لا يوجد هذا النوع في الظهارة الشمية، بل في بعض القنوات الغدية.</p>
  <p class="incorrect">❌ Incorrect – Stratified cuboidal epithelium is found in glandular ducts, not olfactory tissue.</p>
  <p class="incorrect">❌ Incorrect – L'épithélium cubique stratifié est présent dans certains canaux glandulaires, pas dans la région olfactive.</p>
</div>

<div class="option-block">
  <p class="proposal">D. ظهارة عمودية بسيطة<br>
  D. Simple Columnar Epithelium<br>
  D. Épithélium Prismatique Simple</p>
  <p class="incorrect">❌ خطأ – يوجد هذا النوع في الجهاز الهضمي وليس في الظهارة الشمية.</p>
  <p class="incorrect">❌ Incorrect – Simple columnar epithelium is typical of the intestine and stomach, not the olfactory area.</p>
  <p class="incorrect">❌ Incorrect – L’épithélium prismatique simple se trouve dans l’intestin ou l’estomac, pas dans la muqueuse olfactive.</p>
</div>

<div class="option-block">
  <p class="proposal">E. لا شيء مما سبق<br>
  E. None of the Above<br>
  E. Aucune réponse précédente n'est juste</p>
  <p class="incorrect">❌ خطأ – هناك إجابة صحيحة بين الخيارات وهي "ظهارة عمودية كاذبة التطبّق".</p>
  <p class="incorrect">❌ Incorrect – One of the listed answers is correct: "Pseudostratified Columnar Epithelium".</p>
  <p class="incorrect">❌ Incorrect – L’une des réponses proposées est correcte : « Épithélium prismatique pseudo-stratifié ».</p>
</div>

`,

   
    detailedExplanation: `
شروحات مفصلة قريبا 

    `,
    
    timeSpent: 0,
    type: "single"
  },

  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°32 U5 2021</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> سيدي بلعباس</span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
 Concernant l'épithélium olfactif: (cocher la réponse juste):
</div>
`,

    options: [
      " C'est un épithélium prismatique pseudo stratifié.",
      " Les cellules olfactives sont des cellules bipolaires.",
      " C'est un organe de sens secondaire.",
      "Réponses A et B.",
      " Réponses B et C."
    ],
    correct: [3],
    explanation:  `
    


    <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>D. الإجابتان A و B صحيحتان</strong><br>
  ✅ Correct Answer: <strong>D. Answers A and B</strong><br>
  ✅ Réponse correcte : <strong>D. Réponses A et B</strong>
  </p>
</div>

<style>
  .option-block {
    border: 1px solid #ccc;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 20px;
    background-color: #f9f9ff;
  }

  .option-block strong {
    font-size: 1.1em;
    color: #4B0082;
  }

  .correct {
    color: green;
    font-weight: bold;
  }

  .incorrect {
    color: #b30000;
    font-weight: bold;
  }

  p {
    margin: 8px 0;
    line-height: 1.6;
  }

  h3 {
    font-family: 'Segoe UI', sans-serif;
    color: #2c3e50;
    margin-bottom: 24px;
  }

  .proposal {
    font-weight: bold;
    color: #222;
    margin-bottom: 6px;
  }

  .translation {
    font-style: italic;
    color: #666;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. ظهارة عمودية كاذبة التطبّق<br>
  A. Pseudostratified Columnar Epithelium<br>
  A. Épithélium Prismatique Pseudo-stratifié</p>
  <p class="correct">✅ صحيح – هذه هي البنية النسيجية للظهارة الشمية التي تحتوي على خلايا حسية، داعمة، وقاعدية.</p>
  <p class="correct">✅ Correct – This is the histological structure of the olfactory epithelium, containing sensory, supporting, and basal cells.</p>
  <p class="correct">✅ Correct – C’est la structure histologique de l’épithélium olfactif, comprenant des cellules sensorielles, de soutien et basales.</p>
</div>

<div class="option-block">
  <p class="proposal">B. الخلايا الشمية هي خلايا ثنائية القطب<br>
  B. Olfactory cells are bipolar neurons<br>
  B. Les cellules olfactives sont des cellules bipolaires</p>
  <p class="correct">✅ صحيح – الخلايا العصبية الشمية هي خلايا عصبية ثنائية القطب تمتد من السطح إلى الصفيحة الغربالية.</p>
  <p class="correct">✅ Correct – Olfactory neurons are bipolar, with a dendrite to the surface and an axon passing through the cribriform plate.</p>
  <p class="correct">✅ Correct – Les neurones olfactifs sont bipolaires, avec un dendrite vers la surface et un axone passant par la lame criblée.</p>
</div>

<div class="option-block">
  <p class="proposal">C. عضو حسي ثانوي<br>
  C. Secondary sensory organ<br>
  C. C’est un organe de sens secondaire</p>
  <p class="incorrect">❌ خطأ – الظهارة الشمية عضو حسي أولي لأنه يحتوي على مستقبلات عصبية أولية حقيقية.</p>
  <p class="incorrect">❌ Incorrect – The olfactory epithelium is a primary sensory organ since it contains actual sensory neurons.</p>
  <p class="incorrect">❌ Incorrect – L’épithélium olfactif est un organe sensoriel primaire, car il contient de vrais neurones sensoriels.</p>
</div>

<div class="option-block">
  <p class="proposal">D. الإجابتان A و B<br>
  D. Answers A and B<br>
  D. Réponses A et B</p>
  <p class="correct">✅ صحيح – الظهارة الشمية هي ظهارة عمودية كاذبة التطبّق، وتحتوي على خلايا شمية ثنائية القطب.</p>
  <p class="correct">✅ Correct – The olfactory epithelium is pseudostratified columnar and includes bipolar olfactory cells.</p>
  <p class="correct">✅ Correct – L’épithélium olfactif est pseudo-stratifié prismatique et contient des cellules olfactives bipolaires.</p>
</div>

<div class="option-block">
  <p class="proposal">E. الإجابتان B و C<br>
  E. Answers B and C<br>
  E. Réponses B et C</p>
  <p class="incorrect">❌ خطأ – رغم صحة B، فإن C غير صحيحة لأن الظهارة الشمية عضو حسي أولي وليس ثانوي.</p>
  <p class="incorrect">❌ Incorrect – While B is correct, C is not. The olfactory epithelium is a primary sensory organ.</p>
  <p class="incorrect">❌ Incorrect – Bien que B soit correcte, C ne l’est pas : l’épithélium olfactif est un organe sensoriel primaire.</p>
</div>

  
`,

   
    detailedExplanation: `




    `,
    
    timeSpent: 0,
    type: "single"
  },

  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°23 U5 2020</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> سيدي بلعباس</span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
La muqueuse olfactive est tapissée d'un épithélium : 
</div>
`,

    options: [
      "Cubique simple.",
      " Cylindrique cilié.",
      " Prismatique pseudo stratifié.",
      " Pavimenteux simple.",
      " Pluristratifié."
    ],
    correct: [2],
    explanation:  `
    
  <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>C. ظهارة عمودية كاذبة التطبّق</strong><br>
  ✅ Correct Answer: <strong>C. Pseudostratified Columnar Epithelium</strong><br>
  ✅ Réponse correcte : <strong>C. Épithélium Prismatique Pseudo-stratifié</strong>
  </p>
</div>

<style>
  .option-block {
    border: 1px solid #ccc;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 20px;
    background-color: #f9f9ff;
  }

  .option-block strong {
    font-size: 1.1em;
    color: #4B0082;
  }

  .correct {
    color: green;
    font-weight: bold;
  }

  .incorrect {
    color: #b30000;
    font-weight: bold;
  }

  p {
    margin: 8px 0;
    line-height: 1.6;
  }

  h3 {
    font-family: 'Segoe UI', sans-serif;
    color: #2c3e50;
    margin-bottom: 24px;
  }

  .proposal {
    font-weight: bold;
    color: #222;
    margin-bottom: 6px;
  }

  .translation {
    font-style: italic;
    color: #666;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. ظهارة مكعبة بسيطة<br>
  A. Simple Cuboidal Epithelium<br>
  A. Épithélium Cubique Simple</p>
  <p class="incorrect">❌ خطأ – هذا النوع من الظهارة يوجد غالبًا في الأنابيب الكلوية والغدد، وليس في الغشاء الشمي.</p>
  <p class="incorrect">❌ Incorrect – This epithelium type is typically found in renal tubules and glandular ducts, not in olfactory mucosa.</p>
  <p class="incorrect">❌ Incorrect – Ce type d’épithélium se trouve dans les tubules rénaux et les canaux glandulaires, pas dans la muqueuse olfactive.</p>
</div>

<div class="option-block">
  <p class="proposal">B. ظهارة عمودية مهدبة<br>
  B. Ciliated Columnar Epithelium<br>
  B. Épithélium Cylindrique Cilié</p>
  <p class="incorrect">❌ خطأ – هذا النوع يميز الظهارة التنفسية وليس الشمية.</p>
  <p class="incorrect">❌ Incorrect – This is typical of the respiratory epithelium, not the olfactory type.</p>
  <p class="incorrect">❌ Incorrect – Ce type est typique de l’épithélium respiratoire, pas de l’olfactif.</p>
</div>

<div class="option-block">
  <p class="proposal">C. ظهارة عمودية كاذبة التطبّق<br>
  C. Pseudostratified Columnar Epithelium<br>
  C. Épithélium Prismatique Pseudo-stratifié</p>
  <p class="correct">✅ صحيح – الغشاء المخاطي الشمي مُبطّن بهذا النوع من الظهارة الذي يحتوي على خلايا شمية حسية، داعمة، وقاعدية.</p>
  <p class="correct">✅ Correct – The olfactory mucosa is lined with this epithelium, containing sensory, supporting, and basal cells.</p>
  <p class="correct">✅ Correct – La muqueuse olfactive est tapissée de cet épithélium, contenant des cellules sensorielles, de soutien et basales.</p>
</div>

<div class="option-block">
  <p class="proposal">D. ظهارة مسطحة بسيطة<br>
  D. Simple Squamous Epithelium<br>
  D. Épithélium Pavimenteux Simple</p>
  <p class="incorrect">❌ خطأ – هذه الظهارة توجد في الأوعية الدموية والتجاويف المصلية، وليست في الغشاء الشمي.</p>
  <p class="incorrect">❌ Incorrect – Found in blood vessels and serous membranes, not in olfactory tissue.</p>
  <p class="incorrect">❌ Incorrect – Se trouve dans les vaisseaux sanguins et les membranes séreuses, pas dans la muqueuse olfactive.</p>
</div>

<div class="option-block">
  <p class="proposal">E. ظهارة مطبقة (متعددة الطبقات)<br>
  E. Stratified Epithelium<br>
  E. Épithélium Pluristratifié</p>
  <p class="incorrect">❌ خطأ – هذه الظهارة تغطي الجلد وتجويف الفم، ولا تشكل الغشاء الشمي.</p>
  <p class="incorrect">❌ Incorrect – This type covers skin and oral mucosa, not olfactory mucosa.</p>
  <p class="incorrect">❌ Incorrect – Ce type recouvre la peau et la cavité buccale, pas la muqueuse olfactive.</p>
</div>

`,

   
    detailedExplanation: `




    `,
    
    timeSpent: 0,
    type: "single"
  },

  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°31 U5 2020</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> سيدي بلعباس</span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
  Les glandes de Bowman:
</div>
`,

    options: [
      "Sont des glandes tubuleuses droites.",
      " Siègent dans le chorion de la muqueuse tympanique.",
      " Secrètent un film recouvrant l'épithélium olfactif.",
      " Sont séromuqueuses.",
      " Sont muqueuses."
    ],
    correct: [3],
    explanation:  `
    <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>C. تُفرز طبقة تغطي الظهارة الشمية & D. هي غدد مصلية مخاطية</strong><br>
  ✅ Correct Answer: <strong>C. Secrete a film covering the olfactory epithelium & D. Are seromucous glands</strong><br>
  ✅ Réponse correcte : <strong>C. Secrètent un film recouvrant l'épithélium olfactif & D. Sont séromuqueuses</strong>
  </p>
</div>

<style>
  .option-block {
    border: 1px solid #ccc;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 20px;
    background-color: #f9f9ff;
  }

  .option-block strong {
    font-size: 1.1em;
    color: #4B0082;
  }

  .correct {
    color: green;
    font-weight: bold;
  }

  .incorrect {
    color: #b30000;
    font-weight: bold;
  }

  p {
    margin: 8px 0;
    line-height: 1.6;
  }

  h3 {
    font-family: 'Segoe UI', sans-serif;
    color: #2c3e50;
    margin-bottom: 24px;
  }

  .proposal {
    font-weight: bold;
    color: #222;
    margin-bottom: 6px;
  }

  .translation {
    font-style: italic;
    color: #666;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. هي غدد أنبوبية مستقيمة<br>
  A. Are straight tubular glands<br>
  A. Sont des glandes tubuleuses droites</p>
  <p class="incorrect">❌ خطأ – غدد بومان ليست أنبوبية مستقيمة بل غدد أنبوبية ملتفة.</p>
  <p class="incorrect">❌ Incorrect – Bowman's glands are not straight tubular; they are coiled tubular glands.</p>
  <p class="incorrect">❌ Incorrect – Les glandes de Bowman ne sont pas tubuleuses droites, mais tubuleuses contournées.</p>
</div>

<div class="option-block">
  <p class="proposal">B. توجد في نسيج الغشاء الطبلي<br>
  B. Located in the lamina propria of the tympanic mucosa<br>
  B. Siègent dans le chorion de la muqueuse tympanique</p>
  <p class="incorrect">❌ خطأ – توجد غدد بومان في الطبقة الخاصة (chorion) للغشاء المخاطي الشمي، وليس الطبلي.</p>
  <p class="incorrect">❌ Incorrect – Bowman's glands are found in the lamina propria of the olfactory mucosa, not the tympanic mucosa.</p>
  <p class="incorrect">❌ Incorrect – Les glandes de Bowman se trouvent dans le chorion de la muqueuse olfactive, pas tympanique.</p>
</div>

<div class="option-block">
  <p class="proposal">C. تفرز طبقة تغطي الظهارة الشمية<br>
  C. Secrete a film covering the olfactory epithelium<br>
  C. Secrètent un film recouvrant l'épithélium olfactif</p>
  <p class="correct">✅ صحيح – هذه الإفرازات تذيب جزيئات الرائحة مما يسمح بتحفيز المستقبلات العصبية.</p>
  <p class="correct">✅ Correct – Their secretions dissolve odorant molecules, allowing activation of olfactory receptors.</p>
  <p class="correct">✅ Correct – Leurs sécrétions dissolvent les molécules odorantes, permettant l’activation des récepteurs olfactifs.</p>
</div>

<div class="option-block">
  <p class="proposal">D. هي غدد مصلية مخاطية<br>
  D. Are seromucous glands<br>
  D. Sont séromuqueuses</p>
  <p class="correct">✅ صحيح – غدد بومان تفرز مكونات مصلية ومخاطية لتنظيف وحماية الظهارة الشمية.</p>
  <p class="correct">✅ Correct – Bowman's glands secrete both serous and mucous components that cleanse and protect the olfactory surface.</p>
  <p class="correct">✅ Correct – Les glandes de Bowman sont séromuqueuses, elles nettoient et protègent la surface olfactive.</p>
</div>

<div class="option-block">
  <p class="proposal">E. هي غدد مخاطية فقط<br>
  E. Are only mucous glands<br>
  E. Sont muqueuses</p>
  <p class="incorrect">❌ خطأ – غدد بومان ليست مخاطية فقط، بل مصلية مخاطية.</p>
  <p class="incorrect">❌ Incorrect – Bowman's glands are not purely mucous; they are seromucous.</p>
  <p class="incorrect">❌ Incorrect – Les glandes de Bowman ne sont pas purement muqueuses; elles sont séromuqueuses.</p>
</div>

  
`,

   
    detailedExplanation: `


    `,
    
    timeSpent: 0,
    type: "single"
  },

  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°14 U5 2019</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> سيدي بلعباس</span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
   L'organe olfactif:
</div>
`,

    options: [
      " Est le seul organe des sens primaire.",
      "Le prolongement interne des cellules olfactives se termine par une vésicule olfactive",
      "L'épithélium olfactif est prismatique pseudo stratifié.",
      " Les glandes de Bowman secrètent un film liquidien."
    ],

  correct: [2,  3],
      explanation:  `
    <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>C. الظهارة الشمية عمودية كاذبة التطبق & D. غدد بومان تفرز طبقة سائلة</strong><br>
  ✅ Correct Answer: <strong>C. The olfactory epithelium is pseudostratified columnar & D. Bowman's glands secrete a liquid film</strong><br>
  ✅ Réponse correcte : <strong>C. L'épithélium olfactif est prismatique pseudo stratifié & D. Les glandes de Bowman secrètent un film liquidien</strong>
  </p>
</div>

<style>
  .option-block {
    border: 1px solid #ccc;
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 20px;
    background-color: #f9f9ff;
  }

  .option-block strong {
    font-size: 1.1em;
    color: #4B0082;
  }

  .correct {
    color: green;
    font-weight: bold;
  }

  .incorrect {
    color: #b30000;
    font-weight: bold;
  }

  p {
    margin: 8px 0;
    line-height: 1.6;
  }

  h3 {
    font-family: 'Segoe UI', sans-serif;
    color: #2c3e50;
    margin-bottom: 24px;
  }

  .proposal {
    font-weight: bold;
    color: #222;
    margin-bottom: 6px;
  }

  .translation {
    font-style: italic;
    color: #666;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. هو العضو الحسي الوحيد الأساسي<br>
  A. Is the only primary sense organ<br>
  A. Est le seul organe des sens primaire</p>
  <p class="incorrect">❌ خطأ – يوجد عدة أعضاء حسيّة أولية مثل العين (البصر) والأذن (السمع). الشم ليس الوحيد.</p>
  <p class="incorrect">❌ Incorrect – There are several primary sensory organs, such as the eye (vision) and ear (hearing); olfaction is not the only one.</p>
  <p class="incorrect">❌ Incorrect – Il existe plusieurs organes sensoriels primaires (œil, oreille), pas uniquement l’olfactif.</p>
</div>

<div class="option-block">
  <p class="proposal">B. التمدد الداخلي للخلايا الشمية ينتهي بحويصلة شمية<br>
  B. The internal extension of olfactory cells ends in an olfactory vesicle<br>
  B. Le prolongement interne des cellules olfactives se termine par une vésicule olfactive</p>
  <p class="incorrect">❌ خطأ – التمدد *الخارجي* للخلايا الشمية هو الذي ينتهي بحويصلة شمية تحتوي على أهداب.</p>
  <p class="incorrect">❌ Incorrect – It is the *external* process of the olfactory cell that ends in a vesicle with cilia, not the internal one.</p>
  <p class="incorrect">❌ Incorrect – C’est le prolongement *externe* des cellules olfactives qui se termine par une vésicule avec des cils, pas le prolongement interne.</p>
</div>

<div class="option-block">
  <p class="proposal">C. الظهارة الشمية عمودية كاذبة التطبّق<br>
  C. The olfactory epithelium is pseudostratified columnar<br>
  C. L'épithélium olfactif est prismatique pseudo stratifié</p>
  <p class="correct">✅ صحيح – هذا هو النوع البنيوي للظهارة الشمية، ويحتوي على خلايا شمية، داعمة، وقاعدية.</p>
  <p class="correct">✅ Correct – This is the structural type of olfactory epithelium, containing olfactory, supporting, and basal cells.</p>
  <p class="correct">✅ Correct – C’est la structure de l’épithélium olfactif, avec des cellules olfactives, de soutien et basales.</p>
</div>

<div class="option-block">
  <p class="proposal">D. غدد بومان تفرز طبقة سائلة<br>
  D. Bowman's glands secrete a liquid film<br>
  D. Les glandes de Bowman secrètent un film liquidien</p>
  <p class="correct">✅ صحيح – الإفراز السائل من غدد بومان يذيب الروائح ليسمح بالتقاطها من قبل الخلايا الشمية.</p>
  <p class="correct">✅ Correct – The liquid secreted by Bowman's glands dissolves odorants, enabling olfactory detection.</p>
  <p class="correct">✅ Correct – Le liquide sécrété par les glandes de Bowman dissout les molécules odorantes, facilitant leur détection.</p>
</div>

  
`,

   
    detailedExplanation: `
    
    
    `,
    
    timeSpent: 0,
    type: "multi"
  },




  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°15 U5 2018</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> سيدي بلعباس</span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
 Les glandes de Bowman:

  </div>
`,

    options: [
      " Sont des glandes séreuses.",
      " Siègent dans le chorion de la muqueuse conjonctive.",
      " Secrètent un film recouvrant l'épithélium olfactif.",
      " Aucune des réponses précédentes n'est juste."
    ],
  correct: [0,  2], 
     explanation:  `<div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>a. غدد مصلية & c. تفرز طبقة تغطي الظهارة الشمية</strong><br>
  ✅ Correct Answer: <strong>a. Are serous glands & c. Secrete a film covering the olfactory epithelium</strong><br>
  ✅ Réponse correcte : <strong>a. Sont des glandes séreuses & c. Secrètent un film recouvrant l'épithélium olfactif</strong>
  </p>
</div>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">a. هي غدد مصلية<br>a. Are serous glands<br>a. Sont des glandes séreuses</p>
  <p class="correct">✅ صحيح – تُعتبر غدد بومان مصلية، وتفرز سائلاً يساهم في إذابة جزيئات الروائح.</p>
  <p class="correct">✅ Correct – Bowman's glands are serous and produce secretions that help dissolve odorant molecules.</p>
  <p class="correct">✅ Correct – Les glandes de Bowman sont séreuses et produisent une sécrétion qui dissout les substances odorantes.</p>
</div>

<div class="option-block">
  <p class="proposal">b. توجد في نسيج المخاطية الملتحمة<br>b. Located in the connective mucosa (conjunctiva)<br>b. Siègent dans le chorion de la muqueuse conjonctive</p>
  <p class="incorrect">❌ خطأ – توجد غدد بومان في الطبقة الخاصة (chorion) للغشاء المخاطي الشمي، وليس في ملتحمة العين.</p>
  <p class="incorrect">❌ Incorrect – Bowman's glands are located in the lamina propria of the olfactory mucosa, not in the conjunctiva.</p>
  <p class="incorrect">❌ Incorrect – Les glandes de Bowman se trouvent dans le chorion de la muqueuse olfactive, pas conjonctive.</p>
</div>

<div class="option-block">
  <p class="proposal">c. تفرز طبقة تغطي الظهارة الشمية<br>c. Secrete a film covering the olfactory epithelium<br>c. Secrètent un film recouvrant l'épithélium olfactif</p>
  <p class="correct">✅ صحيح – هذا الإفراز ضروري لإذابة الروائح وتمكين استقبالها بواسطة الخلايا الشمية.</p>
  <p class="correct">✅ Correct – This secretion is essential for dissolving odorants and enabling olfactory reception.</p>
  <p class="correct">✅ Correct – Cette sécrétion est essentielle pour dissoudre les molécules odorantes et permettre leur détection.</p>
</div>

<div class="option-block">
  <p class="proposal">d. لا شيء مما سبق صحيح<br>d. None of the above is correct<br>d. Aucune des réponses précédentes n'est juste</p>
  <p class="incorrect">❌ خطأ – الخياران A و C صحيحان، لذا هذا الخيار غير صحيح.</p>
  <p class="incorrect">❌ Incorrect – Since options A and C are correct, this statement is false.</p>
  <p class="incorrect">❌ Incorrect – Les réponses A et C sont correctes, donc cette réponse est incorrecte.</p>
</div>

  
`,


    detailedExplanation: `
    
    
    `,
    
    timeSpent: 0,
   type: "multi"


 }, 


  {
    text: "أي من الهرمونات التالية تفرزها الغدة النخامية؟ (اختر أكثر من إجابة)",
    options: [
      "هرمون النمو",
      "الأوكسيتوسين",
      "الثيروكسين",
      "البرولاكتين"
    ],
    correct: [0, 1, 3],
    explanation: "تفرز الغدة النخامية عدة هرمونات منها هرمون النمو، الأوكسيتوسين والبرولاكتين، بينما يفرز الثيروكسين من الغدة الدرقية.",
    image: "https://via.placeholder.com/600x300?text=الغدة+النخامية",
    timeSpent: 0,
    type: "multi"
  },














































  
  {
    text: "مارايك في المقاومة هل هي واجبة ؟",
    options: [
     " نعم في حالة توفر الامور",
     " نعم ونوفر لها الاسباب",
     " كلا الحياة مهما كانت   افضل ",
     " كلا الحياة مهما كانت   افضل ",
     " ليست خيار جميل "
    ],
    correct: [1],
    explanation:  " قريبا ",

    timeSpent: 0,
    type: "single"
  },







  
  
  {
    text: " ماهو اخر الكتب السماوية الذي انزل على خاتم الرسل والانبياء محمد صلى الله عليه وسلم  ؟",
    options: [
     "الزابور",
     " التوراة ",
     "  صحف ابراهيم  ",
     " الانجيل ",
     " القران الكريم  "
    ],
    correct: [4],
    explanation:  " قريبا ",

    timeSpent: 0,
    type: "single"
  },




  
  {
    text: "في أي عام هجري ولد النبي محمد صلى الله عليه وسلم؟",
    options: [
     "عام 570",
    "عام 510",
     "عام 590",
     "عام 600",
  
    ],
    correct: [1],
    explanation:  " النبي الامين المصطفى الرسول  محمد صلى الله عليه وسلم وُلد في عام 570 ميلادي. ",

    timeSpent: 0,
    type: "single"
  },

  {
    text: "ما هو اسم أطول سورة في القرآن؟",
    options: [
      "سورة البقرة",
      "سورة آل عمران ",
      "سورة النحل",
      "سورة البقرة"
    ],
    correct: [0],
    explanation: "الميلاتونين هو الهرمون المسؤول عن تنظيم دورة النوم والاستيقاظ، حيث يفرز من الغدة الصنوبرية في الدماغ استجابة للظلام.",
    image: "images/melatonin.jpg",
    timeSpent: 0,
    type: "single"
  }

  // يمكن إضافة المزيد من الأسئلة هنا...
];

// متغيرات التطبيق
let currentQuestionIndex = 0;
let selectedAnswers = [];
let timer;
let timeLeft;
let totalTime = 0;
let quizDuration = 0;
let questionStartTime;
let timePerQuestion = [];
let questions = [];
let quizStarted = false;

// عناصر DOM
const startScreen = document.getElementById("start-screen");
const startBtn = document.getElementById("start-btn");
const quickTestBtn = document.getElementById("quick-test-btn");
const questionContainer = document.getElementById("question-container");
const resultSection = document.getElementById("result-section");
const resultsContainer = document.getElementById("results-container");
const scoreDisplay = document.getElementById("score-display");
const progressBar = document.getElementById("progress-bar");
const questionProgress = document.getElementById("question-progress");
const progressIndicator = document.getElementById("progress-indicator");
const timerElement = document.getElementById("timer");
const totalTimeElement = document.getElementById("total-time");
const averageTimeElement = document.getElementById("average-time");
const fastestTimeElement = document.getElementById("fastest-time");
const slowestTimeElement = document.getElementById("slowest-time");
const backToTopBtn = document.getElementById("back-to-top");
const suggestBtn = document.getElementById("suggest-btn");
const showLessonBtn = document.getElementById("show-lesson-btn");
const infoBtn = document.getElementById("info-btn");
const closePanelBtn = document.getElementById("close-panel");

// أحداث
document.addEventListener('DOMContentLoaded', function() {
  startBtn.addEventListener("click", startQuiz);
  quickTestBtn.addEventListener("click", startQuickTest);
  infoBtn.addEventListener("click", toggleInfoPanel);
  closePanelBtn.addEventListener("click", closeInfoPanel);
  showLessonBtn.addEventListener("click", showLessonModal);
  
  // جعل الدوال متاحة عالمياً للاستدعاء من HTML
  window.selectOption = selectOption;
  window.submitAnswer = submitAnswer;
  window.showExplanation = showExplanation;
  window.nextQuestion = nextQuestion;
  window.restartQuiz = restartQuiz;
  window.closeExplanation = closeExplanation;
  window.closeLessonModal = closeLessonModal;
  window.showLessonModal = showLessonModal;
  window.toggleInfoPanel = toggleInfoPanel;
  window.closeInfoPanel = closeInfoPanel;
  window.scrollToTop = scrollToTop;
  
  // التمرير للأعلى
  window.addEventListener('scroll', function() {
    if (window.pageYOffset > 300) {
      backToTopBtn.classList.add('visible');
    } else {
      backToTopBtn.classList.remove('visible');
    }
  });

  backToTopBtn.addEventListener('click', function() {
    scrollToTop();
  });
  
  // إغلاق لوحة المعلومات بالضغط على ESC
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && infoPanel.classList.contains('active')) {
      closeInfoPanel();
    }
  });
  
  // تحميل الصور مسبقاً
  preloadImages();
});

// بدء الاختبار الرئيسي
function startQuiz() {
  const durationInput = parseInt(document.getElementById("custom-duration").value) || 10;
  const questionCount = document.getElementById("question-count").value;
  const shuffleQuestions = document.getElementById("shuffle-questions").checked;
  
  // تحقق من وجود عدد كافي من الأسئلة
  if (questionCount !== "all" && allQuestions.length < parseInt(questionCount)) {
    Swal.fire({
      title: 'خطأ',
      text: `لا يوجد سوى ${allQuestions.length} أسئلة متاحة`,
      icon: 'error'
    });
    return;
  }
  
  quizDuration = durationInput * 60;
  selectedAnswers = [];
  timePerQuestion = [];
  totalTime = 0;
  currentQuestionIndex = 0;
  quizStarted = true;
  
  // اختيار الأسئلة حسب العدد المطلوب
  if (questionCount === "all") {
    questions = [...allQuestions];
    
    // عرض التنبيهات فقط عند اختيار "جميع الأسئلة"
    Swal.fire({
      title: 'تنبيه',
      text: `ستحصل على جميع الأسئلة (${allQuestions.length} سؤالاً)`,
      icon: 'info',
      confirmButtonText: 'حسناً'
    }).then(() => {
      if (shuffleQuestions) {
        questions = shuffleArray(questions);
        Swal.fire("سيتم عرض الأسئلة بترتيب عشوائي");
      }
      startTest();
    });
  } else {
    questions = getRandomQuestions(parseInt(questionCount), shuffleQuestions);
    startTest();
  }

















  // في دالة startQuiz()
if (questionCount === "all") {
  questions = [...allQuestions];
  
  Swal.fire({
    title: 'تنبيه',
    text: `ستحصل على جميع الأسئلة (${allQuestions.length} سؤالاً)`,
    icon: 'info',
    confirmButtonText: 'حسناً'
  }).then(() => {
    if (shuffleQuestions) {
      questions = shuffleArray(questions);
      Swal.fire("سيتم عرض الأسئلة بترتيب عشوائي");
    }
    startTest();
  });
}
}




// بدء اختبار سريع
function startQuickTest() {
  quizDuration = 5 * 60; // 5 دقائق
  selectedAnswers = [];
  timePerQuestion = [];
  totalTime = 0;
  currentQuestionIndex = 0;
  

  // اختيار 5 أسئلة عشوائية
  questions = getRandomQuestions(5, true);
  startTest();
}

// بدء الاختبار الفعلي
function startTest() {
  startScreen.style.display = "none";
  questionContainer.style.display = "block";
  resultSection.style.display = "none";
  progressIndicator.style.display = "block";
  
  loadQuestion();
  startTimer();
  scrollToTop();
}

function getRandomQuestions(count, shuffle = true) {
  // نسخ جميع الأسئلة
  const shuffled = [...allQuestions];
  
  // خلط الأسئلة إذا طلبنا ذلك
  if (shuffle) {
    for (let i = shuffled.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
  }
  
  // إرجاع العدد المطلوب من الأسئلة أو جميعها إذا كان count === "all"
  return count === "all" ? shuffled : shuffled.slice(0, count);
}






// خلط المصفوفة
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// تحميل السؤال
function loadQuestion() {
  if (!questions[currentQuestionIndex]) {
    finishQuiz();
    return;
  }

  const question = questions[currentQuestionIndex];
  questionStartTime = new Date().getTime();
  
  // تحديث شريط التقدم
  const progressPercent = (currentQuestionIndex / questions.length) * 100;
  questionProgress.style.width = `${progressPercent}%`;
  document.getElementById("progress-text").textContent = `السؤال ${currentQuestionIndex + 1} من ${questions.length}`;
  
  // إعداد خيارات الإجابة
  const optionsHTML = question.options.map((option, index) => {
    const isSelected = Array.isArray(selectedAnswers[currentQuestionIndex]) ? 
      selectedAnswers[currentQuestionIndex].includes(index) : 
      selectedAnswers[currentQuestionIndex] === index;
      
    return `
      <li onclick="selectOption(${index})" id="option-${index}" 
          class="${isSelected ? 'selected' : ''}" 
          aria-pressed="${isSelected}"
          tabindex="0"
          role="button">
        ${option}
        ${question.correct.includes(index) ? '<span class="correct-mark" style="display: none;"><i class="fas fa-check"></i></span>' : ''}
      </li>
    `;
  }).join('');

  questionContainer.innerHTML = `
    ${question.image ? `
    <div class="question-image">
      <img src="${question.image}" alt="صورة السؤال" loading="lazy">
    </div>` : ''}
    <div class="question-text">
      <p>${question.text}</p>
    </div>
    <ul class="options">
      ${optionsHTML}
    </ul>
    <div style="text-align: center; margin-top: 1.5rem;">
      <button class="btn" onclick="submitAnswer()" id="submit-btn">إرسال الإجابة</button>
      <button class="btn btn-secondary" onclick="showExplanation()" id="explain-btn" style="display: none;">
        <i class="fas fa-lightbulb"></i> شرح الإجابة
      </button>
    </div>
    <div style="text-align: center; margin-top: 1rem; color: #666;">
      السؤال ${currentQuestionIndex + 1} من ${questions.length}
    </div>
  `;
  
  // إضافة إمكانية الاختيار بالضغط على Enter
  document.querySelectorAll('.options li').forEach(option => {
    option.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        const index = parseInt(option.id.split('-')[1]);
        selectOption(index);
      }
    });
  });
}









  

// اختيار إجابة
function selectOption(optionIndex) {
  if (!quizStarted) return;

  const question = questions[currentQuestionIndex];
  const optionElement = document.getElementById(`option-${optionIndex}`);
  
  // إضافة تأثير اللمس
  optionElement.classList.add("touched");
  setTimeout(() => {
    optionElement.classList.remove("touched");
  }, 200);
  
  if (question.type === "multi") {
    // تبديل التحديد للأسئلة متعددة الإجابات
    optionElement.classList.toggle("selected");
    optionElement.setAttribute("aria-pressed", optionElement.classList.contains("selected"));
    
    // تحديث الإجابات المختارة
    if (!selectedAnswers[currentQuestionIndex]) {
      selectedAnswers[currentQuestionIndex] = [];
    }
    
    const index = selectedAnswers[currentQuestionIndex].indexOf(optionIndex);
    if (index === -1) {
      selectedAnswers[currentQuestionIndex].push(optionIndex);
    } else {
      selectedAnswers[currentQuestionIndex].splice(index, 1);
    }
  } else {
    // المنطق للأسئلة ذات الإجابة الواحدة
    const options = document.querySelectorAll(".options li");
    options.forEach((option, index) => {
      if (index === optionIndex) {
        option.classList.add("selected");
        option.setAttribute("aria-pressed", "true");
      } else {
        option.classList.remove("selected");
        option.setAttribute("aria-pressed", "false");
      }
    });
    selectedAnswers[currentQuestionIndex] = optionIndex;
  }
}

































// عرض جميع الشروحات
function showAllExplanations() {
  let allExplanations = '<div style="text-align: center; margin-bottom: 1.5rem;">';
  
  questions.forEach((question, index) => {
    allExplanations += `
      <div style="background: white; border-radius: 8px; padding: 1rem; margin-bottom: 1.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <h3 style="color: var(--primary-color);">السؤال ${index + 1}: ${question.text}</h3>
        <p><strong>الإجابة الصحيحة:</strong> ${question.correct.map(i => question.options[i]).join("، ")}</p>
        <div style="background-color: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
          <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">شرح مفصل:</h4>
          ${question.explanation}
          ${question.detailedExplanation || '<p>هذا السؤال يتعلق بمفهوم الهرمونات وكيفية عملها في الجسم.</p>'}
        </div>
        <p><strong>الوقت المستغرق:</strong> ${formatTime(question.timeSpent)}</p>
      </div>
    `;
  });
  
  allExplanations += '</div>';
  
  document.getElementById("long-explanation-title").textContent = "جميع الشروحات المفصلة";
  document.getElementById("long-explanation-text").innerHTML = allExplanations;
  document.getElementById("long-explanation-modal").classList.add("active");
}

window.showAllExplanations = showAllExplanations;
// عرض الشرح الطويل
function showLongExplanation(questionIndex) {
  const question = questions[questionIndex];
  
  document.getElementById("long-explanation-title").textContent = "شرح مفصل للسؤال " + (questionIndex + 1);
  document.getElementById("long-explanation-text").innerHTML = `
    <p><strong>السؤال:</strong> ${question.text}</p>
    <p><strong>الإجابة الصحيحة:</strong> ${question.correct.map(i => question.options[i]).join("، ")}</p>
    <div style="background-color: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
      <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">شرح مفصل:</h4>
      ${question.explanation}
      ${question.detailedExplanation || '<p>هذا السؤال يتعلق بمفهوم الهرمونات وكيفية عملها في الجسم.</p>'}
    </div>
    <p><strong>الوقت المستغرق:</strong> ${formatTime(question.timeSpent)}</p>
  `;
  
  document.getElementById("long-explanation-modal").classList.add("active");
}

// إغلاق الشرح الطويل
function closeLongExplanation() {
  document.getElementById("long-explanation-modal").classList.remove("active");
}

// جعل الدوال متاحة عالمياً
window.showLongExplanation = showLongExplanation;
window.closeLongExplanation = closeLongExplanation;

// إرسال الإجابة
function submitAnswer() {
  const question = questions[currentQuestionIndex];
  const endTime = new Date().getTime();
  const timeSpent = Math.floor((endTime - questionStartTime) / 1000);
  
  question.timeSpent = timeSpent;
  timePerQuestion.push(timeSpent);
  totalTime += timeSpent;
  
  if (question.type === "multi") {
    // التحقق من الإجابات المتعددة
    const isCorrect = arraysEqual(selectedAnswers[currentQuestionIndex], question.correct);
    
    // عرض النتائج
    showMultiAnswerResult(isCorrect, question.correct);
  } else {
    // المنطق الأصلي للأسئلة ذات الإجابة الواحدة
    showCorrectAnswer();
  }
  
  // تعطيل جميع الخيارات
  const options = document.querySelectorAll(".options li");
  options.forEach(option => {
    option.style.pointerEvents = "none";
    option.setAttribute("tabindex", "-1");
  });
  
  // تغيير زر الإرسال إلى زر التالي
  const submitBtn = document.getElementById("submit-btn");
  submitBtn.style.display = "none";
  
  // عرض زر الشرح
  const explainBtn = document.getElementById("explain-btn");
  explainBtn.style.display = "inline-block";
}

// التقدم إلى السؤال التالي
function nextQuestion() {
  currentQuestionIndex++;
  
  if (currentQuestionIndex < questions.length) {
    loadQuestion();
  } else {
    finishQuiz();
  }
}

// إنهاء الاختبار
function finishQuiz() {
  clearInterval(timer);
  questionContainer.style.display = "none";
  resultSection.style.display = "block";
  progressIndicator.style.display = "none";
  
  displayResults();
  scrollToTop();
}





















// عرض النتائج
function displayResults() {
  let correctAnswersCount = 0;
  resultsContainer.innerHTML = "";
  
  questions.forEach((question, index) => {
    let isCorrect;
    
    if (question.type === "multi") {
      isCorrect = arraysEqual(selectedAnswers[index], question.correct);
    } else {
      isCorrect = selectedAnswers[index] === question.correct[0];
    }
    
    if (isCorrect) correctAnswersCount++;
    
    const reviewClass = isCorrect ? "correct" : "incorrect";
    const reviewText = isCorrect ? "إجابة صحيحة" : "إجابة خاطئة";
    
    // إعداد عرض الإجابات للمستخدم
    let userAnswerText;
    if (question.type === "multi" && selectedAnswers[index] && selectedAnswers[index].length > 0) {
      userAnswerText = selectedAnswers[index].map(i => question.options[i]).join("، ");
    } else if (selectedAnswers[index] !== undefined) {
      userAnswerText = question.options[selectedAnswers[index]];
    } else {
      userAnswerText = "لم يتم الإجابة";
    }
    
    // إعداد الإجابات الصحيحة
    let correctAnswerText = question.correct.map(i => question.options[i]).join("، ");
    resultsContainer.innerHTML += `
  <div class="question-review ${reviewClass}">
    <h3>السؤال ${index + 1}: ${question.text}</h3>
    <p class="user-answer">إجابتك: ${userAnswerText}</p>
    ${!isCorrect ? `<p class="correct-answer">الإجابة الصحيحة: ${correctAnswerText}</p>` : ''}
    <div class="explanation">
      <p><strong>الشرح:</strong> ${question.explanation}</p>
      <p><strong>الوقت المستغرق:</strong> ${formatTime(question.timeSpent)}</p>
      <button class="long-explanation-btn" onclick="showLongExplanation(${index})">
        <i class="fas fa-book-open"></i> عرض شرح مفصل
      </button>





      <button class="btn" style="background: #0004ec; z-index: 100022;" 
        id="eldarsBtn" aria-label="فتح ملخص الدرس">
    <i class="fas fa-book"></i>
    <span>فتح ملخص الدرس</span>
</button>

    </div>
  </div>
`;
  });
  
  // حساب النسبة المئوية
  const percentage = Math.round((correctAnswersCount / questions.length) * 100);
  
  // عرض النتيجة
  scoreDisplay.textContent = `${correctAnswersCount} / ${questions.length} (${percentage}%)`;
  progressBar.style.width = `${percentage}%`;
  
  // عرض إحصائيات الوقت
  totalTimeElement.textContent = formatTime(totalTime);
  
  const averageTime = Math.round(totalTime / questions.length);
  averageTimeElement.textContent = formatTime(averageTime);
  
  const fastestTime = Math.min(...timePerQuestion);
  fastestTimeElement.textContent = formatTime(fastestTime);
  
  const slowestTime = Math.max(...timePerQuestion);
  slowestTimeElement.textContent = formatTime(slowestTime);
  
  // عرض الرسم البياني
  renderResultsChart(correctAnswersCount, questions.length - correctAnswersCount);
}

// عرض الإجابة الصحيحة
function showCorrectAnswer() {
  const question = questions[currentQuestionIndex];
  const options = document.querySelectorAll(".options li");
  
  options.forEach((option, index) => {
    if (question.correct.includes(index)) {
      option.classList.add("correct");
      const correctMark = option.querySelector(".correct-mark");
      if (correctMark) correctMark.style.display = "block";
    } else if ((Array.isArray(selectedAnswers[currentQuestionIndex]) && 
               selectedAnswers[currentQuestionIndex].includes(index)) || 
               selectedAnswers[currentQuestionIndex] === index) {
      option.classList.add("incorrect");
    }
  });
}

// عرض نتائج الأسئلة متعددة الإجابات
function showMultiAnswerResult(isCorrect, correctAnswers) {
  const options = document.querySelectorAll(".options li");
  
  options.forEach((option, index) => {
    if (correctAnswers.includes(index)) {
      option.classList.add("correct");
      const correctMark = option.querySelector(".correct-mark");
      if (correctMark) correctMark.style.display = "block";
    }
    
    if (selectedAnswers[currentQuestionIndex] && 
        selectedAnswers[currentQuestionIndex].includes(index) && 
        !correctAnswers.includes(index)) {
      option.classList.add("incorrect");
    }
  });
}

// دالة مساعدة لمقارنة المصفوفات
function arraysEqual(a, b) {
  if (!a || !b) return false;
  if (a.length !== b.length) return false;
  
  const sortedA = [...a].sort();
  const sortedB = [...b].sort();
  
  return sortedA.every((val, index) => val === sortedB[index]);
}

// عرض شرح السؤال
function showExplanation() {
  const question = questions[currentQuestionIndex];
  
  document.getElementById("modal-title").textContent = "شرح السؤال";
  document.getElementById("explanation-text").innerHTML = `
    <p><strong>السؤال:</strong> ${question.text}</p>
    <p><strong>الإجابة الصحيحة:</strong> ${question.correct.map(i => question.options[i]).join("، ")}</p>
    <p><strong>الشرح:</strong> ${question.explanation}</p>
    <p><strong>الوقت المستغرق:</strong> ${formatTime(question.timeSpent)}</p>
  `;
  
  document.getElementById("explanation-modal").classList.add("active");
}

// إغلاق نافذة الشرح
function closeExplanation() {
  document.getElementById("explanation-modal").classList.remove("active");
  nextQuestion();
}

// عرض نافذة الدرس التعليمي
function showLessonModal() {
  document.getElementById("lesson-modal").classList.add("active");
}

// إغلاق نافذة الدرس التعليمي
function closeLessonModal() {
  document.getElementById("lesson-modal").classList.remove("active");
}

// عرض/إخفاء لوحة المعلومات
function toggleInfoPanel() {
  infoPanel.classList.toggle("active");
}

// إغلاق لوحة المعلومات
function closeInfoPanel() {
  infoPanel.classList.remove("active");
}

// عرض الرسم البياني للنتائج
function renderResultsChart(correct, incorrect) {
  const ctx = document.getElementById('results-chart').getContext('2d');
  
  // إذا كان هناك رسم بياني موجود، قم بتدميره أولاً
  if (window.resultsChart) {
    window.resultsChart.destroy();
  }
  
  window.resultsChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: ['الإجابات الصحيحة', 'الإجابات الخاطئة'],
      datasets: [{
        data: [correct, incorrect],
        backgroundColor: [
          'rgba(46, 204, 113, 0.8)',
          'rgba(231, 76, 60, 0.8)'
        ],
        borderColor: [
          'rgba(46, 204, 113, 1)',
          'rgba(231, 76, 60, 1)'
        ],
        borderWidth: 1
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'bottom',
          rtl: true,
          labels: {
            usePointStyle: true,
            padding: 20,
            font: {
              family: 'Tajawal',
              size: 14
            }
          }
        }
      },
      cutout: '70%'
    }
  });
}

// بدء المؤقت
function startTimer() {
  timeLeft = quizDuration;
  updateTimerDisplay();
  
  timer = setInterval(function() {
    if (timeLeft <= 0) {
      clearInterval(timer);
      finishQuiz();
      
      // تنبيه بانتهاء الوقت
      Swal.fire({
        title: 'انتهى الوقت!',
        text: 'لقد انتهى الوقت المخصص للاختبار',
        icon: 'warning',
        confirmButtonText: 'حسناً'
      });
    } else {
      timeLeft--;
      updateTimerDisplay();
      
      // تنبيه عند اقتراب انتهاء الوقت
      if (timeLeft === 60) {
        Swal.fire({
          title: 'تنبيه!',
          text: 'تبقى دقيقة واحدة فقط لإنهاء الاختبار',
          icon: 'warning',
          confirmButtonText: 'حسناً'
        });
      }
    }
  }, 1000);
}

// تحديث عرض المؤقت
function updateTimerDisplay() {
  timerElement.textContent = formatTime(timeLeft);
  
  // تغيير لون المؤقت عند اقتراب النهاية
  if (timeLeft <= 60) {
    timerElement.style.color = '#ff6b6b';
  } else {
    timerElement.style.color = 'white';
  }
}

// تنسيق الوقت
function formatTime(seconds) {
  const mins = Math.floor(seconds / 60);
  const secs = seconds % 60;
  return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
}

// إعادة الاختبار
function restartQuiz() {
  Swal.fire({
    title: 'هل تريد إعادة الاختبار؟',
    text: "سيتم حذف جميع النتائج الحالية",
    icon: 'warning',
    showCancelButton: true,
    confirmButtonColor: '#3085d6',
    cancelButtonColor: '#d33',
    confirmButtonText: 'نعم، أعد الاختبار',
    cancelButtonText: 'إلغاء'
  }).then((result) => {
    if (result.isConfirmed) {
      startQuiz();
    }
  });
}

// اقتراح تحسينات
suggestBtn.addEventListener('click', function() {
  Swal.fire({
    title: 'اقترح تحسينات للاختبار',
    input: 'textarea',
    inputPlaceholder: 'أدخل اقتراحاتك هنا...',
    showCancelButton: true,
    confirmButtonText: 'إرسال',
    cancelButtonText: 'إلغاء',
    inputValidator: (value) => {
      if (!value) {
        return 'يجب إدخال اقتراح!';
      }
    }
  }).then((result) => {
    if (result.isConfirmed) {
      Swal.fire(
        'شكراً لك!',
        'تم استلام اقتراحك بنجاح وسيتم دراسته.',
        'success'
      );
    }
  });
});

// التمرير للأعلى
window.addEventListener('scroll', function() {
  if (window.pageYOffset > 300) {
    backToTopBtn.classList.add('visible');
  } else {
    backToTopBtn.classList.remove('visible');
  }
});

backToTopBtn.addEventListener('click', function() {
  scrollToTop();
});

function scrollToTop() {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
}

// تحميل الصور مسبقاً
function preloadImages() {
  const images = [];
  allQuestions.forEach(question => {
    if (question.image) {
      const img = new Image();
      img.src = question.image;
      images.push(img);
    }
  });
}

// الانتقال إلى الأعلى عند تحميل الصفحة
window.addEventListener('load', function() {
  scrollToTop();
  preloadImages();
  
  // إضافة إمكانية إغلاق لوحة المعلومات بالضغط على ESC
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && infoPanel.classList.contains('active')) {
      closeInfoPanel();
    }
  });
});

// جعل الدوال متاحة عالمياً للاستدعاء من HTML
window.selectOption = selectOption;
window.submitAnswer = submitAnswer;
window.showExplanation = showExplanation;
window.nextQuestion = nextQuestion;
window.restartQuiz = restartQuiz;
window.closeExplanation = closeExplanation;
window.closeLessonModal = closeLessonModal;
window.showLessonModal = showLessonModal;
window.toggleInfoPanel = toggleInfoPanel;
window.closeInfoPanel = closeInfoPanel;
window.scrollToTop = scrollToTop;

</script>


























<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام الأزرار داخل القائمة الجانبية</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* ألوان رئيسية */
            --primary-color: #4CAF50;
            --eldars-color: #8e44ad;
            --search-color: #2980b9;
            --speech-color: #e91e63;
            --contact-color: #f48fb1;
            --flashcard-color: #d5a6e5;
            --warning-color: #e91e63;
            --success-color: #2ecc71;
            --light-bg: #f5f5f5;
            --white: #fff;
            --shadow: 0 3px 6px rgba(0, 0, 0, 0.16);
            --transition: all 0.3s ease;
        }

        /* التنسيق العام */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--light-bg);
            transition: margin-right 0.3s ease;
        }
        
        /* لوحة المعلومات الجانبية */
        .info-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            max-width: 90%;
            height: 100vh;
            background-color: var(--white);
            box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            overflow-y: auto;
            z-index: 1000;
            transition: var(--transition);
        }
        
        .info-panel.show {
            right: 0;
        }
        
        .close-panel {
            position: absolute;
            left: 15px;
            top: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #555;
        }
        
        .info-panel h3 {
            color: #333;
            margin: 15px 0 10px;
            font-size: 18px;
        }
        
        .info-panel ul {
            list-style: none;
            padding-right: 15px;
        }
        
        .info-panel li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        /* نظام الأزرار داخل اللوحة */
        .button-system {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0;
        }
        
        .panel-btn {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: 8px;
            background-color: #f8f8f8;
            border: 1px solid #e0e0e0;
            cursor: pointer;
            transition: var(--transition);
            text-align: right;
            width: 100%;
        }
        
        .panel-btn:hover {
            background-color: #f0f0f0;
            transform: translateX(-5px);
        }
        
        .panel-btn i {
            margin-left: 10px;
            font-size: 20px;
            width: 25px;
            text-align: center;
        }
        
        /* تخصيص ألوان الأزرار */
        .eldars-btn { color: var(--eldars-color); border-right: 3px solid var(--eldars-color); }
        .search-btn { color: var(--search-color); border-right: 3px solid var(--search-color); }
        .speech-btn { color: var(--speech-color); border-right: 3px solid var(--speech-color); }
        .contact-btn { color: var(--contact-color); border-right: 3px solid var(--contact-color); }
        .flashcard-btn { color: var(--flashcard-color); border-right: 3px solid var(--flashcard-color); }
        
        /* زر فتح اللوحة الجانبية */
        .toggle-panel-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            font-size: 20px;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: var(--transition);
        }
        
        .toggle-panel-btn:hover {
            transform: scale(1.1);
        }
        
        /* نافذة البحث */
        .search-bubble {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 500px;
            background: var(--white);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            padding: 15px;
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.8);
            transform-origin: center;
            transition: var(--transition);
            z-index: 1001;
            display: none;
        }
        
        .search-bubble.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            display: block;
        }
        
        .search-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        
        .search-results {
            max-height: 200px;
            overflow-y: auto;
        }
        
        /* نافذة التواصل */
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--white);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            width: 90%;
            max-width: 400px;
        }
        
        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .popup-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
        }
        
        /* نافذة الدرس */
        .eldars-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 1000px;
            height: 100vh;
            background: var(--white);
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            overflow: hidden;
        }
        
        .eldars-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: var(--eldars-color);
            color: var(--white);
        }
        
        .eldars-title {
            font-size: 18px;
            font-weight: bold;
        }
        
        .close-eldars {
            background: none;
            border: none;
            color: var(--white);
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .eldars-content {
            height: calc(100% - 53px);
            overflow: hidden;
        }
        
        .eldars-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* نصائح للاختبار */
        .tips-section {
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .tips-section li {
            margin-bottom: 5px;
        }
        
        .btn-primary {
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .btn-primary:hover {
            background-color: #3e8e41;
        }
        
        /* التكيف مع الشاشات الصغيرة */
        @media (max-width: 768px) {
            .info-panel {
                width: 90%;
            }
            
            .panel-btn {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .panel-btn i {
                font-size: 18px;
            }
            
            .eldars-popup {
                height: 70vh;
            }
        }
    </style>
</head>
<body>
    <!-- زر فتح اللوحة الجانبية -->


    <button class="toggle-panel-btn" id="togglePanelBtn" aria-label="فتح/إغلاق لوحة المعلومات">
      <i class="fas fa-info-circle"></i>
  </button>
    
    <!-- لوحة المعلومات الجانبية -->
    <aside class="info-panel" id="infoPanel" aria-hidden="true">
      <button class="btn-primary" style="float: left;" onclick="closeInfoPanel()" id="closePanel" aria-label="إغلاق اللوحة">&times;</button>
        
        <h3>
            <i class="fas fa-exclamation-triangle" style="color: var(--warning-color); background-color: yellow; padding: 4px; border-radius: 4px;"></i>
            زر التحذير يرجى عدم تفويته من طرف أي مسلم
        </h3>
        
        <!-- نظام الأزرار داخل اللوحة -->
        <div class="button-system">
            <button class="panel-btn eldars-btn" id="eldarsBtn" aria-label="فتح ملخص الدرس">
                <i class="fas fa-book"></i>
                <span>فتح ملخص الدرس</span>
            </button>
            
            <button class="panel-btn search-btn" id="searchBtn" aria-label="البحث الذكي">
                <i class="fas fa-search"></i>
                <span>البحث الذكي</span>
            </button>
            
            <button class="panel-btn speech-btn" id="speechBtn" aria-label="تفعيل القلم الناطق">
                <i class="fas fa-microphone-alt"></i>
                <span>تفعيل القلم الناطق</span>
            </button>
            
            <button class="panel-btn contact-btn" id="contactBtn" aria-label="الدعم الفني">
                <i class="fas fa-headset"></i>
                <span>الدعم الفني</span>
            </button>
            
         <a href="FLASHCARD_MED02_U5_HISTOLOGY_حاسة الشم.html"    style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 20px; background-color: #4B0082; color: white; border: none; border-radius: 8px; text-decoration: none; font-size: 16px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease;"
 class="panel-btn flashcard-btn" aria-label="البطاقات التعليمية">
    <i class="far fa-copy"></i>
    <span>البطاقات التعليمية الخاص بالدرس </span>
</a>



<a href="FLASHCARD_PAGE_MED_02.html"
   aria-label="انتقل لموقع البطاقات التعليمية"
   style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 20px; background-color: #110a9c; color: white; border: none; border-radius: 8px; text-decoration: none; font-size: 16px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease;"
   onmouseover="this.style.backgroundColor='#36005c';"
   onmouseout="this.style.backgroundColor='#4B0082';">
  <i class="fas fa-clone" style="font-size: 18px;"></i>
  <span>انتقل لموقع البطاقات التعليمية</span>
</a>


        </div>
        
        <h3>
            <i class="fas fa-plus" style="color: var(--flashcard-color);"></i>
            وظائف الأزرار:
        </h3>
        <ul>
            <li><i class="fas fa-book" style="color: var(--eldars-color);"></i> أيقونة الدرس: تفتح ملخصًا مصغرًا للدرس.</li>
            <li><i class="fas fa-search" style="color: var(--search-color);"></i> أيقونة البحث الذكي: تفتح نافذة بحث بثلاث لغات (العربية، الفرنسية، الإنجليزية).</li>
            <li><i class="fas fa-microphone-alt" style="color: var(--speech-color);"></i> أيقونة الميكروفون: لتفعيل القلم الناطق، اضغط مرة أخرى لإيقافه.</li>
            <li><i class="fas fa-headset" style="color: var(--contact-color);"></i> أيقونة الدعم الفني: تعرض وسائل التواصل معنا.</li>
            <li><i class="far fa-copy" style="color: var(--flashcard-color);"></i> أيقونة البطاقات: تنقلك إلى الفلاش كارد (تتطلب دخول منطقة الدرس لتفعيلها).</li>
<li>
  <i class="far fa-copy" style="color: #110a9c;"></i>
  أيقونة البطاقات: تنقلك إلى موقع الفلاش كارد (تتطلب دخول منطقة الدرس لتفعيلها).
</li>


          </ul>
        
        <!-- نصائح للاختبار -->
        <div class="tips-section">
            <h3>
      
              <div style="background-color: #e8f5e9; padding: 15px; border-radius: 8px; font-family: Arial, sans-serif; font-size: 14px;">
                <h3>
                  <i class="fas fa-lightbulb" style="color: #f1c40f; margin-right: 5px;"></i>
                  نصائح للاختبار:
                </h3>
                <ul style="list-style: none; padding-left: 0;">
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> توكل على الله وقل بسم الله.</li>
                  
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> اقرأ الأسئلة بعناية وتمعّن قبل الإجابة.</li>
              
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> ركّز على الفروقات الدقيقة بين الخيارات المتشابهة.</li>
              
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> 
                    لا تلجأ للغش لكونه 
                    <span style="color: red; font-weight: bold;">حرامًا</span>، لأن علينا أن ننظر لمن عصينا لا لحجم المعصية.
                    <br><br>
                    واعلم أنّك إذا سمعت إجابة شيء من أسئلة الامتحان دون قصد، فلا حرج عليك في كتابة هذا الجواب، ولا يكون ذلك داخلاً في الغش المحرم.
                    <br><br>
                    وقد سئل الشيخ ابن عثيمين -رحمه الله- عن الطالب في قاعة الاختبار، يسمع بلا قصد منه إجابة سؤال ممن حوله من الطلبة لم يكن يعرفه، فهل يجوز له كتابته أم لا؟
                    <br>
                    فأجاب، بأن ذلك <span style="color: green; font-weight: bold;">جائز</span>، لأنه لم يتعمد الإثم والمخالفة.
                    <br>
                    <a href="https://www.islamweb.net/ar/fatwa/367432" target="_blank" style="color: #3498db;">المصدر - إسلام ويب</a>
                    <br><br>
                    ومن فتاوى ابن باز -رحمه الله-:
                    <br>
                    الغش في الامتحان <span style="color: red; font-weight: bold;">محرم</span> ومنكر كالغش في المعاملات، وقد يكون أعظم لأنه قد يحصل به على مناصب لا يستحقها.
                    <br><br>
                    قال ﷺ: <em>"من غشنا فليس منا"</em> (رواه مسلم).
                    <br>
                    وقال تعالى: 
                    <em>﴿يَا أَيُّهَا الَّذِينَ آمَنُوا لا تَخُونُوا اللَّهَ وَالرَّسُولَ وَتَخُونُوا أَمَانَاتِكُمْ وَأَنتُمْ تَعْلَمُونَ﴾</em> [الأنفال: 27]
                    <br>
                    <a href="https://binbaz.org.sa/fatwas/18288" target="_blank" style="color: #3498db;">المصدر - موقع ابن باز</a>
          
          
                    <h4 style="font-family: 'Tahoma', sans-serif; color: #333;">
                      <i class="fas fa-volume-up" style="color: #9b59b6; margin-right: 5px;"></i>
                      استمع إلى فتوى الشيخ ابن باز رحمه الله حول الغش:
                    </h4>
                    
                    <audio controls style="width: 100%; margin-top: 10px; border-radius: 8px;">
                      <source src="ghish_ibn_baz.mp3" type="audio/mpeg">
                      متصفحك لا يدعم تشغيل الملفات الصوتية.
                    </audio>
                    
                    
                    <br><br>
                    <a href="https://www.islamweb.net/ar/fatwa/345952" target="_blank" style="color: #3498db;">المزيد - إسلام ويب</a>
                   
                   
                    <div style="background-color: #fefbe9; border-left: 4px solid #f1c40f; padding: 15px; border-radius: 6px; font-family: 'Arial', sans-serif; font-size: 14px; margin-top: 20px;">
                      <i class="fas fa-quote-left" style="color: #f39c12; margin-right: 5px;"></i>
                      <strong>حديث عن الغش:</strong>
                      <br><br>
                      أنَّ رَسولَ اللهِ صَلَّى اللَّهُ عليه وسلَّمَ مَرَّ علَى صُبْرَةِ طَعامٍ فأدْخَلَ يَدَهُ فيها، فَنالَتْ أصابِعُهُ بَلَلًا فقالَ: ما هذا يا صاحِبَ الطَّعامِ؟ قالَ أصابَتْهُ السَّماءُ يا رَسولَ اللهِ، قالَ: أفَلا جَعَلْتَهُ فَوْقَ الطَّعامِ كَيْ يَراهُ النَّاسُ، مَن غَشَّ فليسَ مِنِّي.
                      <br><br>
                      الراوي : أبو هريرة | المحدث : مسلم | المصدر : صحيح مسلم<br>
                      الصفحة أو الرقم: 102 | خلاصة حكم المحدث : [صحيح]<br>
                      التخريج : من أفراد مسلم على البخاري
                      <br><br>
                      <a href="https://dorar.net/hadith/sharh/60453" target="_blank" style="color: #2980b9;">المصدر: dorar.net</a>
                    </div>
                    <br><br>
                    فالفشل أحيانًا بداية للتعلّم الحقيقي كما يمكنك البحث اكثر في الموضوع .  
                  </li>
                  <br>
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> خذ نفسًا عميقًا قبل البدء، وابقَ هادئًا طوال الوقت.</li>
              
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> إذا لم تعرف الإجابة، انتقل للسؤال التالي ثم عد لاحقًا.</li>
              
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> استعن بالله، وابذل جهدك، والباقي على الله.</li>
                </ul>
              </div>
              
              
              
          
        
        <div style="text-align: center; margin-top: 20px;">
            <button class="btn-primary" onclick="closeInfoPanel()">
                حسناً، فهمت
            </button>
        </div>
    </aside>
    
    <!-- نافذة البحث -->
    <div class="search-bubble" id="searchBubble" aria-hidden="true">
        <div class="popup-header">
            <h4 style="margin: 0;">البحث في الموقع</h4>
            <button class="popup-close" id="closeBubble" aria-label="إغلاق نافذة البحث">&times;</button>
        </div>
        <input type="text" class="search-input" id="searchInput" placeholder="اكتب كلمة البحث...">
        <div class="search-results" id="searchResults"></div>
    </div>
    
    <!-- نافذة التواصل -->
    <div class="popup" id="popupCONTACT" aria-hidden="true">
        <button class="popup-close" id="closeContactBtn" aria-label="إغلاق نافذة التواصل">&times;</button>
        <h3 style="text-align: center; margin-bottom: 15px;">📩 تواصل معنا</h3>
        <p style="text-align: center; margin-bottom: 20px;">في حالة توفر مشكلة أو لديك اقتراح سواء حول اختبار أو غيره تواصل معنا</p>
        
        <div style="display: flex; flex-direction: column; gap: 10px;">
            <a href="http://t.me/ADATEALM_bot" target="_blank" rel="noopener noreferrer" style="display: block; padding: 10px; background-color: #0088cc; color: white; text-align: center; border-radius: 5px; text-decoration: none;">
                <i class="fab fa-telegram"></i> بوت تيليغرام
            </a>
            
            <a href="https://t.me/adatealm" target="_blank" rel="noopener noreferrer" style="display: block; padding: 10px; background-color: #0088cc; color: white; text-align: center; border-radius: 5px; text-decoration: none;">
                <i class="fab fa-telegram"></i> تيليغرام
            </a>
            
            <a href="https://www.facebook.com/share/1BFTe2mWNL/" target="_blank" rel="noopener noreferrer" style="display: block; padding: 10px; background-color: #3b5998; color: white; text-align: center; border-radius: 5px; text-decoration: none;">
                <i class="fab fa-facebook"></i> فيسبوك
            </a>
            
            <a href="https://www.instagram.com/adat_ealm?igsh=djg1eXlwMTJvM2xw" target="_blank" rel="noopener noreferrer" style="display: block; padding: 10px; background-color: #e4405f; color: white; text-align: center; border-radius: 5px; text-decoration: none;">
                <i class="fab fa-instagram"></i> إنستغرام
            </a>
        </div>
    </div>
    
    <!-- نافذة الدرس -->
    <div class="eldars-popup" id="eldarsPopup" aria-hidden="true">
        <div class="eldars-header">
            <div class="eldars-title">ملخص الدرس</div>
            <button class="close-eldars" id="closeEldars" aria-label="إغلاق نافذة الدرس">×</button>
        </div>
        <div class="eldars-content">
            <iframe class="eldars-iframe" src="🔻EL MOLAKHS_MED02_U5_HISTOLOGY_حاسة الشم.html" title="ملخص الدرس"></iframe>
        </div>
    </div>
 

    <script>
        // كائن التطبيق الرئيسي
        const app = {
            // حالة التطبيق
            state: {
                isPanelOpen: false,
                isSearchOpen: false,
                isContactOpen: false,
                isEldarsOpen: false,
                isSpeechActive: false
            },
            
            // تهيئة التطبيق
            init() {
                this.cacheElements();
                this.bindEvents();
            },
            
            // تخزين عناصر DOM
            cacheElements() {
                this.elements = {
                    togglePanelBtn: document.getElementById('togglePanelBtn'),
                    infoPanel: document.getElementById('infoPanel'),
                    closePanel: document.getElementById('closePanel'),
                    searchBtn: document.getElementById('searchBtn'),
                    speechBtn: document.getElementById('speechBtn'),
                    contactBtn: document.getElementById('contactBtn'),
                    flashcardBtn: document.getElementById('flashcardBtn'),
                    eldarsBtn: document.getElementById('eldarsBtn'),
                    searchBubble: document.getElementById('searchBubble'),
                    closeBubble: document.getElementById('closeBubble'),
                    popupCONTACT: document.getElementById('popupCONTACT'),
                    closeContactBtn: document.getElementById('closeContactBtn'),
                    eldarsPopup: document.getElementById('eldarsPopup'),
                    closeEldars: document.getElementById('closeEldars'),
                    searchInput: document.getElementById('searchInput'),
                    searchResults: document.getElementById('searchResults')
                };
            },
            
            // ربط الأحداث
            bindEvents() {
                // استخدام تفويض الأحداث للحد من عدد معالجات الأحداث
                document.body.addEventListener('click', (e) => {
                    const { target } = e;
                    
                    // فتح/إغلاق اللوحة الجانبية
                    if (target === this.elements.togglePanelBtn || target.closest('#togglePanelBtn')) {
                        this.togglePanel();
                    } else if (target === this.elements.closePanel || target.closest('#closePanel')) {
                        this.closePanel();
                    }
                    
                    // معالجة أزرار اللوحة الجانبية
                    else if (target === this.elements.searchBtn || target.closest('#searchBtn')) {
                        this.toggleSearch();
                    } else if (target === this.elements.speechBtn || target.closest('#speechBtn')) {
                        this.toggleSpeech();
                    } else if (target === this.elements.contactBtn || target.closest('#contactBtn')) {
                        this.toggleContact();
                    } else if (target === this.elements.flashcardBtn || target.closest('#flashcardBtn')) {
                        this.goToFlashCard();
                    } else if (target === this.elements.eldarsBtn || target.closest('#eldarsBtn')) {
                        this.toggleEldarsPopup();
                    }
                    
                    // إغلاق النوافذ المنبثقة
                    else if (target === this.elements.closeBubble || target.closest('#closeBubble')) {
                        this.closeSearch();
                    } else if (target === this.elements.closeContactBtn || target.closest('#closeContactBtn')) {
                        this.closeContact();
                    } else if (target === this.elements.closeEldars || target.closest('#closeEldars')) {
                        this.closeEldarsPopup();
                    }
                    
                    // إغلاق النوافذ عند النقر خارجها
                    else if (this.state.isSearchOpen && target === this.elements.searchBubble) {
                        this.closeSearch();
                    } else if (this.state.isContactOpen && target === this.elements.popupCONTACT) {
                        this.closeContact();
                    } else if (this.state.isEldarsOpen && target === this.elements.eldarsPopup) {
                        this.closeEldarsPopup();
                    }
                });
                
                // البحث عند الكتابة
                this.elements.searchInput.addEventListener('input', this.handleSearch.bind(this));
            },
            
            // وظائف التطبيق
            togglePanel() {
                this.state.isPanelOpen = !this.state.isPanelOpen;
                this.elements.infoPanel.classList.toggle('show', this.state.isPanelOpen);
                this.elements.infoPanel.setAttribute('aria-hidden', !this.state.isPanelOpen);
            },
            
            closePanel() {
                this.state.isPanelOpen = false;
                this.elements.infoPanel.classList.remove('show');
                this.elements.infoPanel.setAttribute('aria-hidden', true);
            },
            
            toggleSearch() {
                this.state.isSearchOpen = !this.state.isSearchOpen;
                
                if (this.state.isSearchOpen) {
                    this.elements.searchBubble.classList.add('show');
                    this.elements.searchBubble.setAttribute('aria-hidden', false);
                    this.elements.searchInput.focus();
                } else {
                    this.closeSearch();
                }
            },
            
            closeSearch() {
                this.state.isSearchOpen = false;
                this.elements.searchBubble.classList.remove('show');
                this.elements.searchBubble.setAttribute('aria-hidden', true);
            },
            
            toggleSpeech() {
                this.state.isSpeechActive = !this.state.isSpeechActive;
                alert(`تم ${this.state.isSpeechActive ? 'تفعيل' : 'إيقاف'} القلم الناطق`);
            },
            
            toggleContact() {
                this.state.isContactOpen = !this.state.isContactOpen;
                this.elements.popupCONTACT.style.display = this.state.isContactOpen ? 'block' : 'none';
                this.elements.popupCONTACT.setAttribute('aria-hidden', !this.state.isContactOpen);
            },
            
            closeContact() {
                this.state.isContactOpen = false;
                this.elements.popupCONTACT.style.display = 'none';
                this.elements.popupCONTACT.setAttribute('aria-hidden', true);
            },
            
            goToFlashCard() {
                document.getElementById('flashcard-section').scrollIntoView({ 
                    behavior: 'smooth' 
                });
                this.closePanel();
            },
            
            toggleEldarsPopup() {
                this.closePanel();
                this.state.isEldarsOpen = true;
                this.elements.eldarsPopup.style.display = 'block';
                this.elements.eldarsPopup.setAttribute('aria-hidden', false);
            },
            
            closeEldarsPopup() {
                this.state.isEldarsOpen = false;
                this.elements.eldarsPopup.style.display = 'none';
                this.elements.eldarsPopup.setAttribute('aria-hidden', true);
            },
            
            handleSearch() {
                const query = this.elements.searchInput.value.trim();
                
                if (query.length < 2) {
                    this.elements.searchResults.innerHTML = '';
                    return;
                }
                
                // هنا يمكنك إضافة منطق البحث الفعلي
                this.elements.searchResults.innerHTML = `
                    <div style="padding: 10px; text-align: center;">
                        نتائج البحث عن: "${query}"
                    </div>
                `;
            }
        };
        
        // بدء تشغيل التطبيق
        document.addEventListener('DOMContentLoaded', () => app.init());
    </script>
</body>
</html>






































































































































































































































































































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مواقيت الصلاة وأذكار الاستغفار</title>
    <style>
        :root {
        
            --secondary-color: #2196F3;
            --accent-color: #FF9800;
            --dark-color: #333;
            --light-color: #f5f5f5;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f9f9f9;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        /* تنسيق الأزرار العائمة */
        .floating-btn {
          position: fixed;
            width: 60px;
            height: 60px;
    
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transition: all 0.3s ease;
            font-size: 24px;
            color: white;
            border: none;
            user-select: none;
        }
        
        .floating-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        
        /* زر الاستغفار */
        .istighfar-btn {
            bottom: 90px;
            left: 15px; /* تغيير من right إلى left */
            background-color: var(--secondary-color);
        }
        
        /* زر الصلاة */
        .prayer-btn {
            bottom: 155px;
            left: 13px; /* تغيير من right إلى left */
            background-color: var(--primary-color);
        }
        
        /* زر الإعدادات */
        .settings-btn {
            bottom: 20px;
            right: 10px; /* تغيير من left إلى right */
            background-color: var(--accent-color);
        }
        
        /* النوافذ المنبثقة */
        .popup {
            position: fixed;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            display: none;
            animation: fadeIn 0.3s ease-in-out;
            max-width: 95%;
            width: 350px;
            padding: 20px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -45%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }
        
        .popup-header {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }
        
        .popup-title {
            font-size: 1.3rem;
            color: var(--dark-color);
            font-weight: bold;
        }
        
        .popup-content {
            margin: 15px 0;
        }
        
        .popup-footer {
            text-align: center;
            margin-top: 15px;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .btn-accent {
            background-color: var(--accent-color);
            color: white;
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        /* تنسيق مواقيت الصلاة */
        .prayer-times-container {
            margin: 15px 0;
        }
        
        .city-selector {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ddd;
            margin-bottom: 15px;
            font-size: 16px;
        }
        
        .prayer-time {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            margin: 5px 0;
            background-color: #f5f5f5;
            border-radius: 8px;
        }
        
        .prayer-name {
            font-weight: bold;
        }
        
        .next-prayer {
            background-color: var(--primary-color);
            color: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            margin: 10px 0;
            font-weight: bold;
        }
        
        /* تنسيق الاستغفار */
        .istighfar-text {
            text-align: center;
            font-size: 1.5rem;
            margin: 15px 0;
            padding: 15px;
            background-color: #e3f2fd;
            border-radius: 10px;
            color: #0d47a1;
            font-weight: bold;
        }
        
        .ayah {
            text-align: center;
            padding: 10px;
            background: #e8f5e9;
            color: #2e7d32;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Amiri', serif;
            font-size: 1.1rem;
        }
        
        .hadith {
            text-align: center;
            padding: 10px;
            background: #fff3e0;
            color: #e65100;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Amiri', serif;
            font-size: 1rem;
        }
        
        /* تنسيق الإعدادات */
        .settings-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group input, .form-group select {
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        
        /* فقاعات الأذكار */
        .dhikr-bubble {
            position: fixed;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            padding: 15px;
            z-index: 999;
            opacity: 0;
            transition: opacity 0.3s ease;
            max-width: 250px;
            display: none;
        }
        
        .bubble-content {
            position: relative;
        }
        
        .close-bubble {
            position: absolute;
            top: -10px;
            left: -10px;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background-color: #ff4444;
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
        }
        
        /* للشاشات الصغيرة */
        @media (max-width: 480px) {
            .floating-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .popup {
                width: 90%;
                padding: 15px;
            }
        }
    </style>
</head>
<body>

<!-- الأزرار العائمة -->
<button class="floating-btn istighfar-btn" onclick="togglePopup('istighfarPopup')">📿</button>
<button class="floating-btn prayer-btn" onclick="togglePopup('prayerPopup')">🕌</button>
<button class="floating-btn settings-btn" onclick="togglePopup('settingsPopup')">⚙️</button>

<!-- نافذة الاستغفار -->
<div id="istighfarPopup" class="popup">
    <div class="popup-header">
        <h2 class="popup-title">أذكار الاستغفار والتسبيح</h2>
    </div>
    <div class="popup-content">
        <div class="istighfar-text" id="istighfarText">استغفر الله العظيم</div>
        
        <div class="ayah">
            <p>﴿ وَمَن يَعْمَلْ سُوءًا أَوْ يَظْلِمْ نَفْسَهُ ثُمَّ يَسْتَغْفِرِ اللَّهَ يَجِدِ اللَّهَ غَفُورًا رَّحِيمًا ﴾</p>
            <p>[ النساء: 110 ]</p>
        </div>
        
        <div class="hadith">
            <p>عنِ ابْنِ عَبَّاسٍ رضِي اللَّه عنْهُما قَال: قالَ رَسولُ اللَّهِ ﷺ: منْ لَزِم الاسْتِغْفَار، جَعَلَ اللَّه لَهُ مِنْ كُلِّ ضِيقٍ مخْرجًا، ومنْ كُلِّ هَمٍّ فَرجًا، وَرَزَقَهُ مِنْ حيْثُ لاَ يَحْتَسِبُ</p>
            <p style="font-size: 0.8rem; margin-top: 5px;">رواه أبو داود</p>
        </div>
        
        <div id="counterContainer" style="text-align: center; margin: 15px 0;">
            <p>عدد التسبيحات: <span id="tasbeehCounter">0</span></p>
            <button class="btn btn-accent" onclick="incrementTasbeeh()">+1</button>
            <button class="btn btn-secondary" onclick="resetTasbeeh()">إعادة تعيين</button>
        </div>
    </div>
    <div class="popup-footer">
        <button class="btn btn-primary" onclick="changeDhikr()">تغيير الذكر</button>
        <button class="btn btn-secondary" onclick="togglePopup('istighfarPopup')">إغلاق</button>
    </div>
</div>

<!-- نافذة الصلاة -->
<div id="prayerPopup" class="popup">
    <div class="popup-header">
        <h2 class="popup-title">مواقيت الصلاة اليومية</h2>
        <h2 class="popup-title" style="color: red; text-shadow: 0 0 10px red;">تحذير هذه المواقيت غير دقيقة</h2>
    </div>
    <div class="popup-content">
        <select id="citySelector" class="city-selector" onchange="fetchPrayerTimes()">
            <option value="algiers">الجزائر العاصمة</option>
            <option value="oran">وهران</option>
            <option value="constantine">قسنطينة</option>
            <option value="annaba">عنابة</option>
            <option value="batna">باتنة</option>
            <option value="setif">سطيف</option>
            <option value="blida">البليدة</option>
            <option value="tlemcen">تلمسان</option>
            <option value="bejaia">بجاية</option>
            <option value="sidi_bel_abbes">سيدي بلعباس</option>
        </select>
        
        <div id="prayerDate" style="text-align: center; margin-bottom: 10px; font-weight: bold;"></div>
        
        <div id="nextPrayerTime" class="next-prayer"></div>
        
        <div class="prayer-times-container" id="prayerTimesContainer">
            <!-- سيتم ملؤها بواسطة الجافاسكريبت -->
        </div>
        
        <div class="ayah">
            <p>﴿ فَإِذَا قَضَيْتُمُ الصَّلَاةَ فَاذْكُرُوا اللَّهَ قِيَامًا وَقُعُودًا وَعَلَىٰ جُنُوبِكُمْ ۚ فَإِذَا اطْمَأْنَنتُمْ فَأَقِيمُوا الصَّلَاةَ ۚ إِنَّ الصَّلَاةَ كَانَتْ عَلَى الْمُؤْمِنِينَ كِتَابًا مَّوْقُوتًا ﴾</p>
            <p>[ النساء: 103 ]</p>
        </div>
    </div>
    <div class="popup-footer">
        <button class="btn btn-primary" onclick="togglePopup('prayerPopup')">إغلاق</button>
    </div>
</div>

<!-- نافذة الإعدادات -->
<div id="settingsPopup" class="popup">
    <div class="popup-header">
        <h2 class="popup-title">إعدادات التطبيق</h2>
    </div>
    <div class="popup-content">
        <div class="settings-form">
            <div class="form-group">
                <label for="autoOpenInterval">فترة الظهور التلقائي:</label>
                <div style="display: flex; gap: 10px;">
                    <input type="number" id="autoOpenMinutes" min="1" max="120" value="30" style="flex: 1;">
                    <span style="align-self: center;">دقائق</span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="dhikrType">نوع الأذكار:</label>
                <select id="dhikrType">
                    <option value="istighfar">استغفار فقط</option>
                    <option value="tasbeeh">تسبيح فقط</option>
                    <option value="mixed" selected>مختلط (استغفار وتسبيح)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="notificationSound">صوت التنبيه:</label>
                <select id="notificationSound">
                    <option value="none">بدون صوت</option>
                    <option value="adhan">أذان</option>
                    <option value="bell" selected>جرس</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="showNotifications" checked> 
                    عرض التنبيهات
                </label>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="enableBubbles" checked> 
                    تمكين فقاعات الأذكار
                </label>
            </div>
        </div>
    </div>
    
    <div class="popup-footer">
        <button class="btn btn-primary" onclick="saveSettings()">حفظ الإعدادات</button>
        <button class="btn btn-secondary" onclick="togglePopup('settingsPopup')">إلغاء</button>
    </div>
</div>

<script>
    // بيانات الأذكار
    const dhikrList = {
        istighfar: [
            "استغفر الله العظيم",
            "أستغفر الله الذي لا إله إلا هو الحي القيوم وأتوب إليه",
            "رب اغفر لي وتب علي إنك أنت التواب الرحيم",
            "اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك، وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك علي وأبوء بذنبي فاغفر لي فإنه لا يغفر الذنوب إلا أنت"
        ],
        tasbeeh: [
            "سبحان الله وبحمده",
            "سبحان الله العظيم",
            "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير",
            "سبحان الله والحمد لله ولا إله إلا الله والله أكبر",
            "لا حول ولا قوة إلا بالله العلي العظيم"
        ],
        mixed: [
            "الحمد الله",
            "استغفر الله العظيم",
            "سبحان الله وبحمده",
            "أستغفر الله الذي لا إله إلا هو الحي القيوم وأتوب إليه",
            "سبحان الله العظيم",
            "رب اغفر لي وتب علي إنك أنت التواب الرحيم",
            "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير"
        ]
    };

    // بيانات المدن
    const citiesMap = {
        algiers: "algeria/algiers",
        oran: "algeria/oran",
        constantine: "algeria/constantine",
        annaba: "algeria/annaba",
        batna: "algeria/batna",
        setif: "algeria/setif",
        blida: "algeria/blida",
        tlemcen: "algeria/tlemcen",
        bejaia: "algeria/bejaia",
        sidi_bel_abbes: "algeria/sidi-bel-abbes"
    };

    // متغيرات التطبيق
    let settings = {
        autoOpenMinutes: 30,
        dhikrType: "mixed",
        notificationSound: "bell",
        showNotifications: true,
        enableBubbles: true
    };

    let tasbeehCounter = 0;
    let prayerTimes = {};
    let activeNotifications = [];
    let autoDhikrInterval;

    // تهيئة التطبيق عند التحميل
    window.onload = function() {
        loadSettings();
        fetchPrayerTimes();
        setupAutoDhikr();
        
        // طلب إذن الإشعارات
        if (Notification.permission !== "granted" && Notification.permission !== "denied") {
            Notification.requestPermission();
        }
    };

    // تبديل النوافذ المنبثقة
    function togglePopup(popupId) {
        const popup = document.getElementById(popupId);
        if (popup.style.display === "block") {
            popup.style.display = "none";
        } else {
            // إغلاق جميع النوافذ الأخرى أولاً
            document.querySelectorAll('.popup').forEach(p => {
                if (p.id !== popupId) p.style.display = "none";
            });
            popup.style.display = "block";
        }
    }

    // تغيير الذكر المعروض
    function changeDhikr() {
        const dhikrType = settings.dhikrType;
        const dhikrArray = dhikrList[dhikrType];
        const randomIndex = Math.floor(Math.random() * dhikrArray.length);
        document.getElementById("istighfarText").textContent = dhikrArray[randomIndex];
    }

    // زيادة عداد التسبيح
    function incrementTasbeeh() {
        tasbeehCounter++;
        document.getElementById("tasbeehCounter").textContent = tasbeehCounter;
    }

    // إعادة تعيين عداد التسبيح
    function resetTasbeeh() {
        tasbeehCounter = 0;
        document.getElementById("tasbeehCounter").textContent = tasbeehCounter;
    }

    // جلب مواقيت الصلاة
    function fetchPrayerTimes() {
        const city = document.getElementById("citySelector").value;
        const cityPath = citiesMap[city];
        
        // هنا يجب استبدال هذا الجزء بطلب حقيقي لمواقيت الصلاة من API
        // هذا مجرد مثال للبيانات الوهمية
        const today = new Date();
        const fakePrayerTimes = {
            Fajr: "05:30",
            Sunrise: "06:45",
            Dhuhr: "12:45",
            Asr: "15:30",
            Maghrib: "18:20",
            Isha: "19:45"
        };
        
        prayerTimes = fakePrayerTimes;
        updatePrayerTimesDisplay();
        updateNextPrayerTime();
        
        // تحديث التاريخ المعروض
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById("prayerDate").textContent = today.toLocaleDateString('ar-AR', options);
    }

    // تحديث عرض مواقيت الصلاة
    function updatePrayerTimesDisplay() {
        const container = document.getElementById("prayerTimesContainer");
        container.innerHTML = "";
        
        for (const [prayer, time] of Object.entries(prayerTimes)) {
            const prayerTimeDiv = document.createElement("div");
            prayerTimeDiv.className = "prayer-time";
            
            const prayerNameSpan = document.createElement("span");
            prayerNameSpan.className = "prayer-name";
            prayerNameSpan.textContent = prayer;
            
            const prayerTimeSpan = document.createElement("span");
            prayerTimeSpan.className = "prayer-time";
            prayerTimeSpan.textContent = time;
            
            prayerTimeDiv.appendChild(prayerNameSpan);
            prayerTimeDiv.appendChild(prayerTimeSpan);
            container.appendChild(prayerTimeDiv);
        }
    }

    // تحديث وقت الصلاة التالي
    function updateNextPrayerTime() {
        const now = new Date();
        const currentHour = now.getHours();
        const currentMinute = now.getMinutes();
        
        let nextPrayer = "";
        let nextTime = "";
        
        // هذا مثال مبسط، في التطبيق الحقيقي يجب تحويل الأوقات إلى دقائق للمقارنة
        if (currentHour < 5 || (currentHour === 5 && currentMinute < 30)) {
            nextPrayer = "الفجر";
            nextTime = prayerTimes.Fajr;
        } else if (currentHour < 12 || (currentHour === 12 && currentMinute < 45)) {
            nextPrayer = "الظهر";
            nextTime = prayerTimes.Dhuhr;
        } else if (currentHour < 15 || (currentHour === 15 && currentMinute < 30)) {
            nextPrayer = "العصر";
            nextTime = prayerTimes.Asr;
        } else if (currentHour < 18 || (currentHour === 18 && currentMinute < 20)) {
            nextPrayer = "المغرب";
            nextTime = prayerTimes.Maghrib;
        } else {
            nextPrayer = "العشاء";
            nextTime = prayerTimes.Isha;
        }
        
        document.getElementById("nextPrayerTime").textContent = `الصلاة القادمة: ${nextPrayer} ${nextTime}`;
    }

    // إعداد الأذكار التلقائية
    function setupAutoDhikr() {
        // إلغاء أي فاصل زمني موجود
        if (autoDhikrInterval) {
            clearInterval(autoDhikrInterval);
        }
        
        // تحديد الفاصل الزمني من الإعدادات
        const intervalMinutes = settings.autoOpenMinutes || 30;
        
        // تعيين فاصل زمني جديد
        autoDhikrInterval = setInterval(() => {
            if (settings.enableBubbles) {
                showDhikrBubble();
            }
        }, intervalMinutes * 60000);
    }

    // عرض فقاعة الأذكار
    function showDhikrBubble() {
        // إغلاق أي فقاعات موجودة
        closeAllBubbles();
        
        const bubble = document.createElement("div");
        bubble.className = "dhikr-bubble";
        
        // اختيار ذكر عشوائي
        const dhikrType = settings.dhikrType;
        const dhikrArray = dhikrList[dhikrType];
        const randomIndex = Math.floor(Math.random() * dhikrArray.length);
        
        bubble.innerHTML = `
            <div class="bubble-content">
                <p>${dhikrArray[randomIndex]}</p>
                <button class="close-bubble" onclick="this.parentElement.parentElement.style.display='none'">✕</button>
            </div>
        `;
        
        document.body.appendChild(bubble);
        
        // وضع عشوائي على الشاشة
        const maxX = window.innerWidth - 250;
        const maxY = window.innerHeight - 150;
        bubble.style.left = `${Math.random() * maxX}px`;
        bubble.style.top = `${Math.random() * maxY}px`;
        bubble.style.display = 'block';
        
        // إضافة تأثير الظهور
        setTimeout(() => bubble.style.opacity = '1', 10);
        
        // تشغيل الصوت إذا كان مفعلًا
        if (settings.notificationSound !== 'none') {
            playNotificationSound();
        }
        
        // إرسال إشعار إذا كان مفعلًا
        if (settings.showNotifications && Notification.permission === "granted") {
            const notification = new Notification('تذكير بالأذكار', {
                body: dhikrArray[randomIndex],
                icon: 'icon.png'
            });
            activeNotifications.push(notification);
        }
    }

    // إغلاق جميع الفقاعات
    function closeAllBubbles() {
        const bubbles = document.querySelectorAll('.dhikr-bubble');
        bubbles.forEach(bubble => bubble.remove());
        
        // إغلاق جميع الإشعارات النشطة
        activeNotifications.forEach(notification => notification.close());
        activeNotifications = [];
    }

    // تشغيل صوت الإشعار
    function playNotificationSound() {
        const audio = new Audio();
        audio.src = settings.notificationSound === 'bell' ? 'bell.mp3' : 'adhan.mp3';
        audio.play().catch(e => console.log("لا يمكن تشغيل الصوت: ", e));
    }

    // حفظ الإعدادات
    function saveSettings() {
        settings = {
            autoOpenMinutes: parseInt(document.getElementById("autoOpenMinutes").value) || 30,
            dhikrType: document.getElementById("dhikrType").value,
            notificationSound: document.getElementById("notificationSound").value,
            showNotifications: document.getElementById("showNotifications").checked,
            enableBubbles: document.getElementById("enableBubbles").checked
        };
        
        localStorage.setItem("dhikrAppSettings", JSON.stringify(settings));
        
        // إعادة تهيئة الأذكار التلقائية
        setupAutoDhikr();
        
        togglePopup('settingsPopup');
        showDhikrBubble(); // عرض فقاعة تأكيد الحفظ
    }

    // تحميل الإعدادات
    function loadSettings() {
        const savedSettings = localStorage.getItem("dhikrAppSettings");
        if (savedSettings) {
            settings = JSON.parse(savedSettings);
            
            document.getElementById("autoOpenMinutes").value = settings.autoOpenMinutes || 30;
            document.getElementById("dhikrType").value = settings.dhikrType;
            document.getElementById("notificationSound").value = settings.notificationSound;
            document.getElementById("showNotifications").checked = settings.showNotifications !== false;
            document.getElementById("enableBubbles").checked = settings.enableBubbles !== false;
        }
    }
</script>
</body>
</html>





























































































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>تنبيه طبي - INFATM</title>
    <style>
        /* تهيئة عامة */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-text-size-adjust: 100%;
            touch-action: manipulation;
        }

        /* زر الخطر العائم - تصميم جديد */
        ._x1 {
            position: fixed;
       
               top: 120px; /* تغيير من bottom إلى top */
            left: 15px;
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, #ff0000, #c00000);
            color: white;
            font-size: 21px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.3), 
                        inset 0 2px 4px rgba(255, 255, 255, 0.3);
            transition: all 0.2s ease;
            z-index: 1000;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            animation: _a1 2s infinite;
        }

        @keyframes _a1 {
            0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 0, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); }
        }

        ._x1:hover {
            transform: scale(1.1);
            background: linear-gradient(135deg, #ff3333, #d10000);
        }

        ._x1:active {
            transform: scale(0.95);
            animation: none;
        }

        /* طبقة التعتيم */
        ._x2 {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1001;
            display: none;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        /* نافذة المحتوى */
        ._x3 {
            position: fixed;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            display: flex;
            flex-direction: column;
            z-index: 10012;
            display: none;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            background: white;
        }

        ._x4 {
          background: linear-gradient(to right, #e74c3c, #c0392b);
          color: white;
          padding: 18px;
          text-align: center;
          position: relative;
          flex-shrink: 0;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      ._x4 h2 {
          font-size: 1.3rem;
          font-weight: 600;
          text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
      }

        ._x5 {
            flex-grow: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            background-color: #f5f5f5;
        }

        /* زر الإغلاق الجديد */
        ._x6 {
            position: absolute;
            top: 12px;
            left: 12px;
            background: white;
            color: #e74c3c;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: all 0.2s;
        }

        ._x6:hover {
            transform: rotate(90deg);
            background: #ffebee;
        }

        /* مؤشر التحميل */
        ._x7 {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 20px;
        }

        ._x8 {
            width: 45px;
            height: 45px;
            border: 5px solid rgba(231, 76, 60, 0.2);
            border-top: 5px solid #e74c3c;
            border-radius: 50%;
            animation: _a2 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes _a2 {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        ._x7 p {
            color: #7f8c8d;
            font-size: 1.1rem;
            margin-top: 10px;
        }

        /* المحتوى المعروض */
        ._x9 {
            padding: 18px;
            line-height: 1.7;
            font-size: 1rem;
            color: #333;
        }

        /* التكيف مع الشاشات الصغيرة */
        @media (max-width: 480px) {
            ._x1 {
                width: 30px;
                height: 30px;
                font-size: 16px;
                bottom: 20px;
            }
            
            ._x4 {
                padding: 15px;
            }
            
            ._x4 h2 {
                font-size: 1.1rem;
            }
            
            ._x6 {
                width: 28px;
                height: 28px;
                font-size: 1rem;
            }
        }

        /* تحسينات لللمس على الهواتف */
        @media (hover: none) {
            ._x1:hover {
                transform: scale(1);
                background: linear-gradient(135deg, #ff0000, #c00000);
            }
            
            ._x6:hover {
                transform: rotate(0deg);
                background: white;
            }
        }
    </style>
</head>
<body>

<!-- زر الخطر العائم الجديد -->
<button class="_x1" onclick="_f1()">⚠️</button>

<!-- طبقة التعتيم -->
<div class="_x2" id="_d1"></div>

<!-- نافذة المحتوى -->
<div class="_x3" id="_d2">
    <div class="_x4">
        <button class="_x6" onclick="_f1()">×</button>
        <h2 >⚠️  محتوى زر التنبيه  الخطر   ⚠️   </h2>
    </div>
    <div class="_x5" id="_d3">
        <div class="_x7">
            <div class="_x8"></div>
            <p>جاري تحميل المحتوى ...</p>
        </div>
    </div>
</div>

<script>
    // متغيرات التطبيق
    let _v1 = false;
    const _u1 = "https://s22mcs.github.io/S22MCS02-/MEDECINE_EXAM_NOTE.html";
    
    // عناصر DOM
    const _d2 = document.getElementById('_d2');
    const _d1 = document.getElementById('_d1');
    const _d3 = document.getElementById('_d3');
    const _b1 = document.querySelector('._x1');
    
    // تبديل عرض/إخفاء النافذة
    function _f1() {
        if (_d2.style.display === 'flex') {
            _f2();
        } else {
            _f3();
        }
    }
    
    function _f3() {
        // إيقاف تأثير النبض عند الفتح
        _b1.style.animation = 'none';
        
        _d1.style.display = 'block';
        _d2.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        
        if (!_v1) {
            _f4();
        }
    }
    
    function _f2() {
        // إعادة تشغيل تأثير النبض عند الإغلاق
        _b1.style.animation = '_a1 2s infinite';
        
        _d1.style.display = 'none';
        _d2.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
    
    // تحميل المحتوى
    async function _f4() {
        try {
            // استخدام iframe كحل أساسي
            _f5();
            _v1 = true;
        } catch (error) {
            _f6(error);
        }
    }
    
    // عرض المحتوى باستخدام iframe
    function _f5() {
        _d3.innerHTML = `
            <iframe src="${_u1}" 
                    style="width:100%; height:100%; border:none;"
                    sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
                    loading="lazy">
            </iframe>
        `;
    }
    
    // عرض رسالة الخطأ
    function _f6(_e1) {
        _d3.innerHTML = `
            <div class="_x7">
                <div style="color: #e74c3c; margin-bottom: 15px; font-size: 1.2rem;">⚠️ خطأ في تحميل المحتوى</div>
                <p style="margin-bottom: 20px; color: #555;">${_e1.message}</p>
                <button onclick="_f7()" 
                        style="padding: 10px 20px; 
                               background: linear-gradient(to right, #e74c3c, #c0392b); 
                               color: white; 
                               border: none; 
                               border-radius: 30px;
                               font-size: 1rem;
                               box-shadow: 0 3px 10px rgba(231, 76, 60, 0.3);
                               transition: all 0.2s;">
                    إعادة المحاولة
                </button>
            </div>
        `;
    }
    
    // إعادة تحميل المحتوى
    function _f7() {
        _d3.innerHTML = `
            <div class="_x7">
                <div class="_x8"></div>
                <p>جاري تحميل المحتوى الطبي...</p>
            </div>
        `;
        _f4();
    }
    
    // إغلاق النافذة عند النقر خارجها
    _d1.addEventListener('click', _f2);
    
    // منع إغلاق النافذة عند النقر داخلها
    _d2.addEventListener('click', (e) => {
        e.stopPropagation();
    });
    
    // تحسين الأداء للهواتف
    if ('connection' in navigator) {
        if (navigator.connection.saveData || navigator.connection.effectiveType.includes('2g')) {
            // تحسينات لشبكات الجيل الثاني
            _b1.style.animation = 'none';
        }
    }
    
    // إضافة اهتزاز عند النقر (للهواتف)
    function _f8() {
        if ('vibrate' in navigator) {
            navigator.vibrate(10);
        }
    }
    
    // إضافة الاهتزاز للأزرار
    document.querySelector('._x1').addEventListener('click', _f8);
    document.querySelector('._x6')?.addEventListener('click', _f8);
</script>

</body>
</html>



  






































































































<style>
  /* أنماط الوضع الداكن */
  .dark-mode {
    --primary-color: #3498db;
    --secondary-color: #2980b9;
    --success-color: #2ecc71;
    --danger-color: #e74c3c;
    --warning-color: #f39c12;
    --light-color: #2c3e50;
    --dark-color: #000000;
    --text-color: #ecf0f1;
    --white: #2c3e50;
    background-color: #1e1e1e;
  }
  
  body {
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  
  .dark-mode body {
    background-color: #000; /* خلفية سوداء كاملة */
    color: var(--text-color);
  }
  
  .dark-mode .container,
  .dark-mode .question-text,
  .dark-mode .quiz-settings,
  .dark-mode .question-review,
  .dark-mode .modal-content,
  .dark-mode .long-explanation-content,
  .dark-mode .info-panel {
    background-color: #1e1e1e;
    color: var(--text-color);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
  }
  
  .dark-mode .options li,
  .dark-mode .stat-box,
  .dark-mode .explanation {
    background-color: #2a2a2a;
    color: var(--text-color);
    border-color: #3d566e;
  }
  
  .dark-mode .options li:hover {
    background-color: #3d566e;
  }
  
  .dark-mode .options li.selected {
    background-color: var(--primary-color);
    color: white;
  }
  
  .dark-mode .options li.correct {
    background-color: var(--success-color);
    color: white;
  }
  
  .dark-mode .options li.incorrect {
    background-color: var(--danger-color);
    color: white;
  }
  
  .dark-mode table th {
    background-color: var(--primary-color);
  }
  
  .dark-mode table tr:nth-child(even) {
    background-color: #3d566e;
  }
  
  .dark-mode table tr:hover {
    background-color: #4a6b8a;
  }
  
  /* زر التبديل */
  .theme-toggle {
    position: fixed;
    top: 12rem;
    left: 2rem;
    background-color: var(--primary-color);
    color: var(--white);
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    transition: all 0.3s ease;
  }
  
  .theme-toggle:hover {
    background-color: var(--secondary-color);
    transform: scale(1.1);
  }
  
  .theme-toggle i {
    font-size: 1.5rem;
  }
  
  @media (max-width: 480px) {
    .theme-toggle {
      width: 50px;
      height: 50px;
      bottom: 10rem;
      right: 1.5rem;
    }
  }
  </style>
  
  <!-- زر التبديل بين الوضع الداكن والفاتح -->
  <div class="theme-toggle" id="theme-toggle">
    <i class="fas fa-moon"></i>
  </div>
  
  <script>
    const themeToggle = document.getElementById('theme-toggle');
    const darkModeIcon = themeToggle.querySelector('i');
  
    if (localStorage.getItem('darkMode') === 'enabled') {
      document.body.classList.add('dark-mode');
      darkModeIcon.classList.replace('fa-moon', 'fa-sun');
    }
  
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const darkModeEnabled = document.body.classList.contains('dark-mode');
      
      darkModeIcon.classList.replace(
        darkModeEnabled ? 'fa-moon' : 'fa-sun',
        darkModeEnabled ? 'fa-sun' : 'fa-moon'
      );
      localStorage.setItem('darkMode', darkModeEnabled ? 'enabled' : 'disabled');
    });
  </script>
  