<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<br>
<br>
  <title>اختبار    حَاسَّةُ الشَّمِّ  علم الانسجة  - كلية عنابة</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 
 
  <link rel="stylesheet" href="styles.css">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<style>
    /* أنماط عامة */
:root {
  --primary-color: #3498db;
  --secondary-color: #2980b9;
  --success-color: #2ecc71;
  --danger-color: #e74c3c;
  --warning-color: #f39c12;
  --light-color: #ecf0f1;
  --dark-color: #2c3e50;
  --text-color: #333;
  --white: #fff;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Tajawal', sans-serif;
  background-color: #f5f7fa;
  color: var(--text-color);
  line-height: 1.6;
  direction: rtl;
}

/* تصميم الهيدر */
header {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: var(--white);
  padding: 1.5rem;
  text-align: center;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-bottom: 4px solid var(--secondary-color);
  position: relative;
  overflow: hidden;
}

header h1 {
  font-size: 1.8rem;
  margin-bottom: 0.5rem;
  position: relative;
  z-index: 1;
}

header::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url('https://via.placeholder.com/1920x1080') center/cover;
  opacity: 0.1;
  z-index: 0;
}

/* شريط الوقت */
.timer-container {
  background-color: var(--dark-color);
  color: var(--white);
  padding: 0.8rem 0;
  text-align: center;
  font-size: 1.78rem;
  font-weight: bold;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1000;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  display: flex;
  justify-content: center;
  align-items: center;
}

.timer-container i {
  margin-left: 10px;
}

/* الحاوية الرئيسية */
.container {
  max-width: 800px;
  margin: 5rem auto 2rem;
  padding: 1.5rem;
  background-color: var(--white);
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  position: relative;
}

/* شريط التقدم */
.progress-indicator {
  width: 100%;
  height: 6px;
  background-color: #e0e0e0;
  border-radius: 3px;
  margin-bottom: 1rem;
  overflow: hidden;
  position: relative;
}

.progress-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
  border-radius: 3px;
  transition: width 0.5s ease;
}

.progress-text {
  text-align: center;
  font-size: 0.9rem;
  color: var(--dark-color);
  margin-top: 0.5rem;
}

/* إعدادات البداية */
.start-screen {
  text-align: center;
  padding: 2rem;
}

.start-screen img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
}

.start-screen img:hover {
  transform: scale(1.02);
}

/* اختيار المدة وعدد الأسئلة */
.quiz-settings {
  background-color: var(--light-color);
  padding: 1.5rem;
  border-radius: 10px;
  margin: 1rem 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.setting-group {
  margin-bottom: 1.5rem;
}

.setting-group label {
  display: block;
  margin-bottom: 0.8rem;
  font-weight: bold;
  font-size: 1.1rem;
  color: var(--dark-color);
}

.setting-group input, .setting-group select {
  width: 100%;
  padding: 0.8rem;
  border: 2px solid #ddd;
  border-radius: 8px;
  font-size: 1rem;
  text-align: center;
  margin-bottom: 1rem;
  transition: border-color 0.3s ease;
  font-family: 'Tajawal', sans-serif;
}

.setting-group input:focus, .setting-group select:focus {
  border-color: var(--primary-color);
  outline: none;
}

/* حاوية الأسئلة */
.question-container {
  margin-bottom: 1.5rem;
  display: none;
}

/* إطار الصورة */
.question-image {
  width: 100%;
  max-height: 300px;
  overflow: hidden;
  border-radius: 10px;
  margin-bottom: 1.5rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  position: relative;
}

.question-image img {
  width: 100%;
  height: auto;
  object-fit: cover;
  transition: transform 0.5s ease;
}

.question-image:hover img {
  transform: scale(1.05);
}

/* نص السؤال */
.question-text {
  background-color: var(--light-color);
  padding: 1.5rem;
  border-radius: 10px;
  margin-bottom: 1.5rem;
  font-size: 1.2rem;
  font-weight: 500;
  line-height: 1.5;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

/* خيارات الإجابة */
.options {
  list-style: none;
  margin: 0;
  padding: 0;
}

.options li {
  padding: 1rem 1.5rem;
  background-color: var(--white);
  margin: 0.5rem 0;
  cursor: pointer;
  border-radius: 8px;
  border: 2px solid #ddd;
  transition: all 0.3s ease;
  font-size: 1.1rem;
  display: flex;
  align-items: center;
  position: relative;
  user-select: none;
}

.options li:hover {
  background-color: #f8f9fa;
  border-color: var(--primary-color);
  transform: translateX(-5px);
}

.options li.selected {
  background-color: var(--primary-color);
  color: var(--white);
  border-color: var(--primary-color);
}

.options li.correct {
  background-color: var(--success-color);
  color: var(--white);
  border-color: var(--success-color);
}

.options li.incorrect {
  background-color: var(--danger-color);
  color: var(--white);
  border-color: var(--danger-color);
}

.options li.touched {
  transform: scale(0.98);
  opacity: 0.9;
}

/* علامة الإجابة الصحيحة */
.correct-mark {
  position: absolute;
  left: 10px;
  color: var(--white);
  font-weight: bold;
}

/* أزرار التحكم */
.btn {
  display: inline-block;

  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: var(--white);
  padding: 0.8rem 1.8rem;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1rem;
  font-weight: bold;
  margin: 0.5rem;
  transition: all 0.3s ease;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  text-decoration: none;
}

.btn:hover {
  background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  transform: translateY(-2px);
}

.btn:active {
  transform: translateY(1px);
  box-shadow: none;
}

.btn-secondary {
  background: linear-gradient(135deg, #6c757d, #5a6268);
}

.btn-success {
  background: linear-gradient(135deg, var(--success-color), #27ae60);
}

.btn-danger {
  background: linear-gradient(135deg, var(--danger-color), #c0392b);
}

.btn-warning {
  background: linear-gradient(135deg, var(--warning-color), #e67e22);
}

.btn-info {
  background: linear-gradient(135deg, #17a2b8, #138496);
}

/* قسم النتائج */
.result-section {
  display: none;
  text-align: center;
  padding: 2rem;
}

.result-section h2 {
  font-size: 2rem;
  color: var(--primary-color);
  margin-bottom: 1.5rem;
}

.score-display {
  font-size: 2.5rem;
  font-weight: bold;
  color: var(--dark-color);
  margin: 1.5rem 0;
}

.progress-container {
  width: 100%;
  height: 30px;
  background-color: #e0e0e0;
  border-radius: 15px;
  margin: 1.5rem 0;
  overflow: hidden;
}

.time-stats {
  display: flex;
  justify-content: space-around;
  margin: 1.5rem 0;
  flex-wrap: wrap;
}

.stat-box {
  background-color: var(--light-color);
  padding: 1rem;
  border-radius: 8px;
  min-width: 150px;
  margin: 0.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.stat-box h3 {
  color: var(--dark-color);
  margin-bottom: 0.5rem;
}

.stat-box p {
  font-size: 1.2rem;
  font-weight: bold;
}

/* الرسوم البيانية */
.chart-container {
  width: 100%;
  max-width: 600px;
  margin: 2rem auto;
}

/* مراجعة الأسئلة */
.question-review {
  background-color: var(--white);
  border-radius: 8px;
  padding: 1.5rem;
  margin: 1rem 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  text-align: right;
  border-left: 4px solid #ddd;
}

.question-review.correct {
  border-left-color: var(--success-color);
}

.question-review.incorrect {
  border-left-color: var(--danger-color);
}

.question-review h3 {
  margin-bottom: 0.8rem;
  color: var(--dark-color);
}

.question-review p {
  margin-bottom: 0.8rem;
}

.question-review .user-answer {
  font-weight: bold;
}

.question-review .correct-answer {
  font-weight: bold;
  color: var(--success-color);
}

.question-review .explanation {
  background-color: var(--light-color);
  padding: 1rem;
  border-radius: 8px;
  margin-top: 1rem;
}

/* النافذة المنبثقة للشرح */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.modal.active {
  opacity: 1;
  visibility: visible;
}

.modal-content {
  background-color: var(--white);
  border-radius: 12px;
  width: 90%;
  max-width: 600px;
  max-height: 80vh;
  overflow-y: auto;
  padding: 2rem;
  position: relative;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}


.close-btn {
  position: fixed;
  top: 1rem; /* مسافة من الأعلى */
  left: 50%; /* المنتصف أفقياً */
  transform: translateX(-50%); /* توسيط دقيق */
  background-color: var(--danger-color);
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 3.2rem;
  height: 3.2rem;
  font-size: 1.6rem;
  cursor: pointer;
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  z-index: 9999;
}

.close-btn:hover {
  transform: translateX(-50%) translateY(-3px) scale(1.05);
  box-shadow: 0 10px 18px rgba(0, 0, 0, 0.3);
}

/* تحسينات للشاشات الصغيرة */
@media (max-width: 480px) {
  .close-btn {
    width: 2.8rem;
    height: 2.8rem;
    font-size: 1.4rem;
    top: 0.8rem;
  }
}









/* زر المعلومات العائم */
.info-btn {
  position: fixed;
  bottom: 9rem;
  right: 2rem;
  background-color: var(--primary-color);
  color: var(--white);
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 1000;
  transition: all 0.3s ease;
}

.info-btn:hover {
  background-color: var(--secondary-color);
  transform: scale(1.1);
}

.info-btn i {
  font-size: 1.5rem;
}

/* لوحة المعلومات الجانبية */
.info-panel {
  position: fixed;
  top: 0;
  right: -350px;
  width: 350px;
  height: 100%;
  background-color: var(--white);
  box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
  z-index: 1500;
  transition: right 0.3s ease;
  padding: 1.5rem;
  overflow-y: auto;
}

.info-panel.active {
  right: 0;
}

.info-panel h3 {
  color: var(--primary-color);
  margin-bottom: 1rem;
  border-bottom: 2px solid var(--primary-color);
  padding-bottom: 0.5rem;
}

.info-panel p {
  margin-bottom: 1rem;
}

.info-panel ul {
  margin-right: 1.5rem;
  margin-bottom: 1.5rem;
}

.info-panel li {
  margin-bottom: 0.5rem;
}

.close-panel {
  position: absolute;
  top: 1rem;
  left: 1rem;
  background: none;
  border: none;
  font-size: 1.2rem;
  cursor: pointer;
  color: var(--danger-color);
}

/* زر العودة للأعلى */
.back-to-top {
  position: fixed;
  bottom: 20rem;
  left: 2rem;
  background-color: var(--primary-color);
  color: var(--white);
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  z-index: 1000;
}

.back-to-top.visible {
  opacity: 1;
  visibility: visible;
}

.back-to-top:hover {
  background-color: var(--secondary-color);
  transform: translateY(-3px);
}

/* الجداول */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0;
}

th, td {
  padding: 0.8rem;
  text-align: right;
  border-bottom: 1px solid #ddd;
}

th {
  background-color: var(--primary-color);
  color: white;
}

tr:nth-child(even) {
  background-color: #f2f2f2;
}

tr:hover {
  background-color: #e9e9e9;
}

/* التكيف مع الشاشات الصغيرة */
@media (max-width: 768px) {
  header h1 {
    font-size: 1.5rem;
  }
  
  .container {
    margin: 4rem auto 1rem;
    padding: 1rem;
  }
  
  .question-text {
    font-size: 1.1rem;
    padding: 1rem;
  }
  
  .options li {
    padding: 0.8rem 1rem;
    font-size: 1rem;
  }
  
  .btn {
    padding: 0.7rem 1.5rem;
    font-size: 0.9rem;
  }
  
  .result-section h2 {
    font-size: 1.8rem;
  }
  
  .score-display {
    font-size: 2rem;
  }
  
  .info-panel {
    width: 300px;
    right: -300px;
  }
  
  .info-btn {
    width: 50px;
    height: 50px;
    bottom: 1.5rem;
    right: 1.5rem;
  }
  
  th, td {
    padding: 0.6rem;
    font-size: 0.9rem;
  }
}

@media (max-width: 480px) {
  header h1 {
    font-size: 1.3rem;
  }
  
  .timer-container {
    font-size: 1.2rem;
  }
  
  .question-text {
    font-size: 1rem;
  }
  
  .options li {
    padding: 0.7rem;
    font-size: 0.9rem;
  }
  
  .btn {
    width: 100%;
    margin: 0.3rem 0;
  }
  
  .time-stats {
    flex-direction: column;
  }
  
  .info-panel {
    width: 85%;
    right: -85%;
  }
  
  .info-btn {
    width: 45px;
    height: 45px;
    bottom: 12rem;
    right: 1rem;
  }
  
  .back-to-top {
    width: 45px;
    height: 45px;
    bottom: 14rem;
    left: 1rem;
  }
  
  .question-image {
    max-height: 200px;
  }
  
  th, td {
    padding: 0.5rem;
    font-size: 0.8rem;
  }
  
  .hormones-table {
    overflow-x: auto;
    display: block;
  }
}




















































/* نافذة الشروحات الطويلة */
.long-explanation-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.long-explanation-modal.active {
  opacity: 1;
  visibility: visible;
}

.long-explanation-content {
  background-color: var(--white);
  border-radius: 12px;
  width: 90%;
  max-width: 800px;
  max-height: 80vh;
  overflow-y: auto;
  padding: 2rem;
  position: relative;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

.long-explanation-content h3 {
  color: var(--primary-color);
  margin-bottom: 1rem;
}

.long-explanation-content p {
  margin-bottom: 1rem;
  line-height: 1.8;
}

.long-explanation-btn {
  background: linear-gradient(135deg, #9b59b6, #8e44ad);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  margin: 0.5rem;
  font-size: 0.9rem;
}

.long-explanation-btn:hover {
  background: linear-gradient(135deg, #8e44ad, #9b59b6);
}
</style>





<body>
  <!-- شريط الوقت -->
  <div class="timer-container">
    <i class="fas fa-clock"></i>
    <span id="timer">00:00</span>
  </div>
  

  
  <!-- الهيدر -->
  <header>




    <h1>    اختبار    حَاسَّةُ الشَّمِّ  علم الانسجة  - كلية عنابة</h1>
  </header>
  









  <!-- الحاوية الرئيسية -->
  <div class="container">
    <!-- شاشة البداية -->
    <div class="start-screen" id="start-screen">
  
      <h2>مرحباً بك في اختبار   أداة علم </h2>
      <p>هذا الاختبار مصمم لقياس معرفتك  حول  </p>
      
      <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 5vh; padding: 12px; text-align: center; background: #f4f4f4; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05); margin: 8px;">
        <h1 style="font-size: clamp(1.1rem, 2.5vw, 1.4rem); color: #2e3b4e; margin-bottom: 10px; font-weight: 600;">
    اختبار    حَاسَّةُ الشَّمِّ  علم الانسجة  - كلية عنابة
        </h1>
        <h2 style="font-size: clamp(0.85rem, 2vw, 1.1rem); color: #445566; margin: 4px 0; font-weight: 500;">
          🔻 TEST DE L’OLFACTION  – HISTOLOGIE – FACULTÉ D’ANNABA 🔻
        </h2>
        <h2 style="font-size: clamp(0.85rem, 2vw, 1.1rem); color: #445566; margin: 4px 0; font-weight: 500;">
          🔻 SMELL TEST – HISTOLOGY – FACULTY OF ANNABA 🔻
        </h2>
      </div>
      
      


      <!-- اختيار إعدادات الاختبار -->
      <div class="quiz-settings">
        <div class="setting-group">
          <label for="custom-duration">اختر مدة الاختبار (بالدقائق):</label>
          <input type="number" id="custom-duration" min="1" max="60" value="10">
        </div>
        
        <div class="setting-group">
          <label for="question-count">عدد الأسئلة:</label>
          <select id="question-count">
            <option value="5">5 أسئلة</option>
            <option value="10">10 أسئلة</option>
            <option value="15">15 أسئلة</option>
            <option value="20">20 أسئلة</option>
            <option value="all">جميع الأسئلة</option> <!-- الخيار الجديد -->

          </select>
        </div>
        



        
    <!-- زر المعلومات العائم -->
    <div class="info-btn" id="info-btn">
      <i class="fas fa-info"></i>
    </div>
    

        
      <style>
   
        /* تصميم خاص فقط بعنصر الإعداد */
        .quiz-setting {
          max-width: 280px;
          margin: 30px auto;
        }
    
        .quiz-setting .setting-group {
          display: flex;
          align-items: center;
          background-color: #ffffff;
          border: 1px solid #ddd;
          padding: 10px 14px;
          border-radius: 12px;
          box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
          transition: all 0.3s ease;
          cursor: pointer;
        }
    
        .quiz-setting .setting-group:hover {
          background-color: #f0f8ff;
        }
    
        .quiz-setting input[type="checkbox"] {
          appearance: none;
          width: 18px;
          height: 18px;
          border: 2px solid #999;
          border-radius: 4px;
          margin-left: 10px;
          position: relative;
          transition: all 0.2s ease;
        }
    
        .quiz-setting input[type="checkbox"]:checked {
          border-color: #28a745;
          background-color: #28a745;
        }
    
        .quiz-setting input[type="checkbox"]:checked::after {
          content: "✓";
          position: absolute;
          top: -2px;
          left: 3px;
          font-size: 14px;
          color: #fff;
        }
    
        .quiz-setting label {
          display: flex;
          align-items: center;
          color: #333;
          font-size: 15px;
        }
    
        .quiz-setting label i {
          margin-left: 6px;
          color: #007bff;
          font-size: 16px;
        }




/* نافذة الشروحات الطويلة */
.long-explanation-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
}

.long-explanation-modal.active {
  opacity: 1;
  visibility: visible;
}

.long-explanation-content {
  background-color: var(--white);
  border-radius: 12px;
  width: 90%;
  max-width: 800px;
  max-height: 80vh;
  overflow-y: auto;
  padding: 2rem;
  position: relative;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

.long-explanation-content h3 {
  color: var(--primary-color);
  margin-bottom: 1rem;
}

.long-explanation-content p {
  margin-bottom: 1rem;
  line-height: 1.8;
}

.long-explanation-btn {
  background: linear-gradient(135deg, #9b59b6, #8e44ad);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  margin: 0.5rem;
  font-size: 0.9rem;
}

.long-explanation-btn:hover {
  background: linear-gradient(135deg, #8e44ad, #9b59b6);
}
</style>




    
      <div class="quiz-setting">
        <div class="setting-group">
          <input type="checkbox" id="shuffle-questions" checked>
          <label for="shuffle-questions">
            <i class="fas fa-random"></i>
            

            <div style="padding: 0.5rem; border: 1px solid #ccc; border-radius: 8px; background-color: #f9f9f9; max-width: 300px; font-size: 0.875rem;">
              <h4 style="color: #2c3e50; margin-bottom: 0.5rem; font-size: 1rem;">
                <strong>🔀 خلط الأسئلة</strong>
              </h4>
              <p style="color: #555; line-height: 1.5; margin: 0;">
                عند تفعيل هذه الميزة، تُعرض الأسئلة من الأحدث إلى الأقدم لضمان تنويع وتوزيع عادل بين السنوات.
              </p>
            </div>
            


          </label>
        </div>
      </div>
    
        <div style="text-align: center;">
          <button class="btn" id="start-btn">بدء الاختبار</button>
          <button class="btn btn-secondary" id="quick-test-btn">اختبار سريع (5 أسئلة - 5 دقائق)</button>
        </div>
      </div>
      
      <div class="tips">
        <h3>نصائح قبل البدء:</h3>
        <ul style="text-align: right; margin-right: 1.5rem;">
          <li>اقرأ كل سؤال بعناية قبل الإجابة</li>
          <li>يمكنك تغيير إجابتك قبل الضغط على زر الإرسال</li>
          <li>سيتم احتساب الوقت المستغرق لكل سؤال</li>
          <li>اضغط على زر المعلومات (<i class="fas fa-info"></i>) للحصول على مساعدة</li>


        </ul>
      </div>
    </div>
    
    <!-- شريط التقدم -->
    <div class="progress-indicator" id="progress-indicator" style="display: none;">
      <div class="progress-bar" id="question-progress"></div>
      <div class="progress-text" id="progress-text">السؤال 1 من 10</div>
    </div>
    
    <!-- حاوية الأسئلة -->
    <div id="question-container" class="question-container">
      <!-- سيتم تعبئتها ديناميكياً -->
    </div>
    
    <!-- قسم النتائج -->
    <div id="result-section" class="result-section">
      <h2>نتيجة الاختبار</h2>
      <div class="score-display" id="score-display"></div>
      
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
      
      <div class="chart-container">
        <canvas id="results-chart"></canvas>
      </div>
      
      <div class="time-stats">
        <div class="stat-box">
          <h3>الوقت المستغرق</h3>
          <p id="total-time"></p>
        </div>
        <div class="stat-box">
          <h3>متوسط الوقت لكل سؤال</h3>
          <p id="average-time"></p>
        </div>
        <div class="stat-box">
          <h3>أسرع إجابة</h3>
          <p id="fastest-time"></p>
        </div>
        <div class="stat-box">
          <h3>أبطأ إجابة</h3>
          <p id="slowest-time"></p>
        </div>
      </div>
      
      <h3>مراجعة الأسئلة:</h3>
      <div id="results-container"></div>
      
      <div class="actions">
        <button class="btn btn-success" onclick="restartQuiz()">إعادة الاختبار</button>
        <button class="btn btn-secondary" onclick="window.location.href='index.html';">العودة للرئيسية</button>

        
      
    
        <button class="btn" style="background: #9b59b6;" onclick="showAllExplanations()">
          <i class="fas fa-book"></i> عرض جميع الشروحات
        </button>




        
    
        


          <button class="btn" style="background: #0004ec;" 
          
          id="eldarsBtn" aria-label="فتح ملخص الدرس">
                <i class="fas fa-book"></i>
                <span>فتح ملخص الدرس</span>
            </button>
      </div>
    </div>
  </div>
  



  <!-- النافذة المنبثقة للشرح -->
  <div id="explanation-modal" class="modal">
    <div class="modal-content">
      <button class="close-btn" onclick="closeExplanation()">×</button>
      <h3 id="modal-title">الشرح  المختصر </h3>
      <div id="explanation-text"></div>
    </div>
  </div>
  










  <!-- نافذة الشروحات الطويلة -->
<div id="long-explanation-modal" class="long-explanation-modal">
  <div class="long-explanation-content">
    <button class="close-btn" onclick="closeLongExplanation()">×</button>
    <h3 id="long-explanation-title">الشروحات  </h3>
    <div id="long-explanation-text"></div>
  </div>
</div>




  <!-- زر العودة للأعلى -->
  <div class="back-to-top" id="back-to-top">↑</div>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="script.js"></script>
</body>
</html>


















<script>






// بيانات الأسئلة الكاملة
const allQuestions = [




  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°47 U5 2024</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> عنابة  </span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
Le prolongement axonal des cellules neurosensorielles olfactives:

</div>
`,




    options: [
      "  Est appelé le Prolongement central cellulifuge",
      " Est appelé Prolongement périphérique cellulipète",
      " Est appelé le Prolongement central cellulipète",
      "  Est appelé le Prolongement périphérique cellulifuge",
      " Constitue les fibres nerveuses myélínísées groupées dans le chorion en faisceaux (origine du nerf olfactif)"
    ],
    correct: [0],
    explanation:  `<div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>A. يُسمى الامتداد المركزي الخلوي الطارد (Prolongement central cellulifuge)</strong><br>
  ✅ Correct Answer: <strong>A. Is called the central cellulifugal process</strong><br>
  ✅ Réponse correcte : <strong>A. Est appelé le Prolongement central cellulifuge</strong>
  </p>
</div>

<style>
  .quiz-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .question-header {
    color: #2c3e50;
    font-size: 1.4em;
    margin-bottom: 25px;
    padding-bottom: 12px;
    border-bottom: 2px solid #eaecef;
    font-weight: 600;
  }

  .option-block {
    border: 1px solid #e0e3eb;
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 22px;
    background-color: #ffffff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .option-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #c7d0e4;
  }

  .option-block strong {
    font-size: 1.15em;
    color: #5e35b1;
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  .correct {
    color: #2e7d32;
    font-weight: 600;
    background-color: #e8f5e9;
    border-left: 4px solid #2e7d32;
    padding-left: 12px;
  }

  .incorrect {
    color: #c62828;
    font-weight: 600;
    background-color: #ffebee;
    border-left: 4px solid #c62828;
    padding-left: 12px;
  }

  .explanation {
    margin-top: 12px;
    padding: 12px;
    background-color: #f0f4f8;
    border-radius: 8px;
    font-size: 0.95em;
    color: #455a64;
  }

  p {
    margin: 10px 0;
    line-height: 1.7;
    color: #37474f;
  }

  .proposal {
    font-weight: 600;
    color: #263238;
    margin-bottom: 8px;
    font-size: 1.05em;
  }

  .translation {
    font-style: italic;
    color: #607d8b;
    margin-top: 4px;
    font-size: 0.95em;
  }

  .feedback-icon {
    margin-right: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
</style>


<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. يُسمى الامتداد المركزي الخلوي الطارد<br>
  A. Is called the central cellulifugal process<br>
  A. Est appelé le Prolongement central cellulifuge</p>
  <p class="correct">✅ صحيح – الامتداد المركزي (axone) للخلايا العصبية الشمية يُدعى "cellulifuge" لأنه يتجه بعيداً عن جسم الخلية نحو الجهاز العصبي المركزي.</p>
  <p class="correct">✅ Correct – The central process (axon) of the olfactory sensory neuron is called "cellulifugal" as it moves away from the cell body toward the CNS.</p>
  <p class="correct">✅ Correct – Le prolongement central (axone) des cellules olfactives est dit "cellulifuge" car il s’éloigne du soma vers le système nerveux central.</p>
</div>

<div class="option-block">
  <p class="proposal">B. يُسمى الامتداد المحيطي الخلوي الجاذب<br>
  B. Is called the peripheral cellulipetal process<br>
  B. Est appelé Prolongement périphérique cellulipète</p>
  <p class="incorrect">❌ خطأ – هذا الوصف ينطبق على الامتداد الذي يستقبل الروائح من البيئة، وليس على المحور العصبي (axone).</p>
  <p class="incorrect">❌ Incorrect – This applies to the dendritic process receiving odorants, not the axonal projection.</p>
  <p class="incorrect">❌ Incorrect – Cela désigne le prolongement dendritique vers les molécules odorantes, pas l’axone central.</p>
</div>

<div class="option-block">
  <p class="proposal">C. يُسمى الامتداد المركزي الخلوي الجاذب<br>
  C. Is called the central cellulipetal process<br>
  C. Est appelé le Prolongement central cellulipète</p>
  <p class="incorrect">❌ خطأ – المصطلح "cellulipète" يُستخدم للاتجاه نحو جسم الخلية، وهذا لا ينطبق على المحور المركزي.</p>
  <p class="incorrect">❌ Incorrect – "Cellulipetal" refers to movement toward the soma, which is not the direction of the central axon.</p>
  <p class="incorrect">❌ Incorrect – "Cellulipète" signifie vers le corps cellulaire, donc inadapté à un axone projeté vers le SNC.</p>
</div>

<div class="option-block">
  <p class="proposal">D. يُسمى الامتداد المحيطي الخلوي الطارد<br>
  D. Is called the peripheral cellulifugal process<br>
  D. Est appelé le Prolongement périphérique cellulifuge</p>
  <p class="incorrect">❌ خطأ – الامتداد المحيطي يتجه نحو سطح الظهارة ويُعتبر "cellulipète"، وليس "cellulifuge".</p>
  <p class="incorrect">❌ Incorrect – The peripheral process is considered "cellulipetal", not "cellulifugal".</p>
  <p class="incorrect">❌ Incorrect – Le prolongement périphérique est cellulipète, se dirigeant vers les cils sensoriels.</p>
</div>

<div class="option-block">
  <p class="proposal">E. يُكوّن أليافًا عصبية مغمورة بالميالين ضمن الحُريبات في الطبقة الخاصة<br>
  E. Forms myelinated nerve fibers in bundles in the lamina propria<br>
  E. Constitue les fibres nerveuses myélinisées groupées dans le chorion en faisceaux</p>
  <p class="incorrect">❌ خطأ – الألياف العصبية الشمية غير مغمورة بالميالين (unmyelinated)، وهذا يميزها عن العديد من الأعصاب الأخرى.</p>
  <p class="incorrect">❌ Incorrect – Olfactory nerve fibers are unmyelinated, unlike what is suggested here.</p>
  <p class="incorrect">❌ Incorrect – Les fibres olfactives sont non myélinisées, donc cette affirmation est fausse.</p>
</div>

    `,

   
    detailedExplanation: `

<div class="lesson-summary" style="text-align: center; padding: 20px; margin-bottom: 20px;">
    <div id="animated-box" style="
        display: inline-block;
        padding: 15px 25px;
        background-color: #4CAF50;
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 1.2em;
        font-weight: bold;
        animation: pulse 2s infinite;
    ">
        <span>🔻 شروحات مفصلة قريبا 🔻</span>
    </div>
</div>

<!-- نضيف الـ keyframes بشكل مستقل -->
<style>
@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
</style>


    `,
    
    timeSpent: 0,
    type: "single"
  },





  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°50 U5 2023</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i>  عنابة </span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
Une des propositions suivantes ne correspond pas au bâtonnet olfactif, laquelle ?
</div>
`,


    options: [
      "Le bâtonnet olfactif se termine par une vésicule olfactive portant 5 à 8 cils olfactifs",
      "Ces cils sont les véritables organites récepteurs",
      " Les cils sont capables de s'orienter dans l'espace pour une meilleure perception des signaux",
      " D'un point de vu blochimique, les cils sont riches en lipides",
      " Le bâtonnet olfactif traverse la vitrée et s'enfonce dans le chorion"
    ],
    correct: [4],
    explanation:  `
    

<div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة (الخاطئة الوحيدة):</h2>
  <p><strong>E. العُصيّة الشمية تخترق الطبقة الزجاجية وتغوص في الطبقة الخاصة (الخطأ الوحيد)</strong><br>
  ✅ Correct Answer (the only incorrect statement): <strong>E. The olfactory rod traverses the vitrea and penetrates the lamina propria</strong><br>
  ✅ Réponse correcte : <strong>E. Le bâtonnet olfactif traverse la vitrée et s'enfonce dans le chorion</strong>
  </p>
</div>




<style>
  .quiz-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .question-header {
    color: #2c3e50;
    font-size: 1.4em;
    margin-bottom: 25px;
    padding-bottom: 12px;
    border-bottom: 2px solid #eaecef;
    font-weight: 600;
  }

  .option-block {
    border: 1px solid #e0e3eb;
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 22px;
    background-color: #ffffff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .option-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #c7d0e4;
  }

  .option-block strong {
    font-size: 1.15em;
    color: #5e35b1;
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  .correct {
    color: #2e7d32;
    font-weight: 600;
    background-color: #e8f5e9;
    border-left: 4px solid #2e7d32;
    padding-left: 12px;
  }

  .incorrect {
    color: #c62828;
    font-weight: 600;
    background-color: #ffebee;
    border-left: 4px solid #c62828;
    padding-left: 12px;
  }

  .explanation {
    margin-top: 12px;
    padding: 12px;
    background-color: #f0f4f8;
    border-radius: 8px;
    font-size: 0.95em;
    color: #455a64;
  }

  p {
    margin: 10px 0;
    line-height: 1.7;
    color: #37474f;
  }

  .proposal {
    font-weight: 600;
    color: #263238;
    margin-bottom: 8px;
    font-size: 1.05em;
  }

  .translation {
    font-style: italic;
    color: #607d8b;
    margin-top: 4px;
    font-size: 0.95em;
  }

  .feedback-icon {
    margin-right: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. ينتهي العُصيّ الشمي بحويصلة شمية تحمل من 5 إلى 8 أهداب<br>
  A. The olfactory rod ends in an olfactory vesicle bearing 5–8 cilia<br>
  A. Le bâtonnet olfactif se termine par une vésicule olfactive portant 5 à 8 cils olfactifs</p>
  <p class="correct">✅ صحيح – العُصيّة الشمية تنتهي بحويصلة شمية تحمل الأهداب التي تلتقط الروائح.</p>
  <p class="correct">✅ Correct – The olfactory rod terminates in a vesicle with sensory cilia responsible for odor detection.</p>
  <p class="correct">✅ Correct – Le bâtonnet olfactif porte une vésicule avec des cils qui reçoivent les stimuli olfactifs.</p>
</div>

<div class="option-block">
  <p class="proposal">B. هذه الأهداب هي العضيات المستقبلات الحقيقية<br>
  B. These cilia are the actual receptor organelles<br>
  B. Ces cils sont les véritables organites récepteurs</p>
  <p class="correct">✅ صحيح – الأهداب الشمية تحتوي على مستقبلات الرائحة وهي التي تستجيب مباشرة للمؤثرات الكيميائية.</p>
  <p class="correct">✅ Correct – Olfactory cilia house receptors that directly respond to odorants.</p>
  <p class="correct">✅ Correct – Les cils olfactifs portent les récepteurs sensoriels à l'origine de la perception des odeurs.</p>
</div>

<div class="option-block">
  <p class="proposal">C. الأهداب تستطيع التوجّه في الفضاء لتحسين استقبال الإشارات<br>
  C. The cilia can orient themselves in space for better signal detection<br>
  C. Les cils sont capables de s'orienter dans l'espace pour une meilleure perception des signaux</p>
  <p class="correct">✅ صحيح – الأهداب الشمية لها مرونة حركية طفيفة تسمح بتحسين التقاط الروائح في البيئة.</p>
  <p class="correct">✅ Correct – Olfactory cilia can adjust their spatial orientation slightly to enhance detection.</p>
  <p class="correct">✅ Correct – Les cils peuvent se réorienter légèrement pour optimiser la détection des molécules odorantes.</p>
</div>

<div class="option-block">
  <p class="proposal">D. الأهداب غنية بالدهون من ناحية كيميائية حيوية<br>
  D. Biochemically, the cilia are rich in lipids<br>
  D. D'un point de vue biochimique, les cils sont riches en lipides</p>
  <p class="correct">✅ صحيح – غشاء الأهداب غني بالدهون ويحتوي على بروتينات غشائية حساسة للرائحة.</p>
  <p class="correct">✅ Correct – The ciliary membrane is lipid-rich, hosting odorant receptor proteins.</p>
  <p class="correct">✅ Correct – Les membranes ciliaires contiennent beaucoup de lipides et de récepteurs sensoriels.</p>
</div>

<div class="option-block">
  <p class="proposal">E. العُصيّة الشمية تخترق الطبقة الزجاجية وتغوص في الطبقة الخاصة<br>
  E. The olfactory rod traverses the vitrea and penetrates the lamina propria<br>
  E. Le bâtonnet olfactif traverse la vitrée et s'enfonce dans le chorion</p>
  <p class="incorrect">❌ خطأ – العُصيّة الشمية تتجه نحو السطح المخاطي ولا تخترق إلى الطبقات العميقة؛ المحور العصبي هو الذي يذهب إلى الطبقة الخاصة.</p>
  <p class="incorrect">❌ Incorrect – The olfactory rod extends toward the surface, not downward into the lamina propria; the axon projects centrally.</p>
  <p class="incorrect">❌ Incorrect – Le bâtonnet olfactif se dirige vers la lumière nasale, ce sont les axones qui plongent dans le chorion, pas les cils.</p>
</div>




  
`,

   
    detailedExplanation: `
<div class="lesson-summary" style="text-align: center; padding: 20px; margin-bottom: 20px;">
    <div id="animated-box" style="
        display: inline-block;
        padding: 15px 25px;
        background-color: #4CAF50;
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 1.2em;
        font-weight: bold;
        animation: pulse 2s infinite;
    ">
        <span>🔻 شروحات مفصلة قريبا 🔻</span>
    </div>
</div>

<!-- نضيف الـ keyframes بشكل مستقل -->
<style>
@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
</style>

    `,
    
    timeSpent: 0,
    type: "single"
  },

  

  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°31 U5 2022</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> عنابة </span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
 Une des propositions ne correspond pas à la classification des organes des sens, laquelle ?

 </div>
`,

    options: [
      "  Elle comporte des organes des sens: primaires, secondaires ou tertiaires.",
      "Elle peut comporter des cellules sensorielles qui transmettent l'influx nerveux à des dendrites.",
      " Elle peut comporter des organes secondaires où la cellule sensorielle est un neurone.",
      "  Elle identifie la rétine comme organe tertiaire.",
      "  L'organe de l'olfaction est le seul organe de sens primaire."
    ],
    correct: [2],
    explanation:  `
    
  

<div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة (الخاطئة الوحيدة):</h2>
  <p><strong>C. يمكن أن تشمل الأعضاء الثانوية حيث تكون الخلية الحسية عصبوناً (❌ غير صحيحة)</strong><br>
  ✅ Correct Answer (the only incorrect statement): <strong>C. It may include secondary organs where the sensory cell is a neuron</strong><br>
  ✅ Réponse correcte : <strong>C. Elle peut comporter des organes secondaires où la cellule sensorielle est un neurone</strong>
  </p>
</div>
<style>
  .quiz-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .question-header {
    color: #2c3e50;
    font-size: 1.4em;
    margin-bottom: 25px;
    padding-bottom: 12px;
    border-bottom: 2px solid #eaecef;
    font-weight: 600;
  }

  .option-block {
    border: 1px solid #e0e3eb;
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 22px;
    background-color: #ffffff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .option-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #c7d0e4;
  }

  .option-block strong {
    font-size: 1.15em;
    color: #5e35b1;
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  .correct {
    color: #2e7d32;
    font-weight: 600;
    background-color: #e8f5e9;
    border-left: 4px solid #2e7d32;
    padding-left: 12px;
  }

  .incorrect {
    color: #c62828;
    font-weight: 600;
    background-color: #ffebee;
    border-left: 4px solid #c62828;
    padding-left: 12px;
  }

  .explanation {
    margin-top: 12px;
    padding: 12px;
    background-color: #f0f4f8;
    border-radius: 8px;
    font-size: 0.95em;
    color: #455a64;
  }

  p {
    margin: 10px 0;
    line-height: 1.7;
    color: #37474f;
  }

  .proposal {
    font-weight: 600;
    color: #263238;
    margin-bottom: 8px;
    font-size: 1.05em;
  }

  .translation {
    font-style: italic;
    color: #607d8b;
    margin-top: 4px;
    font-size: 0.95em;
  }

  .feedback-icon {
    margin-right: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
</style>




<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. تحتوي التصنيف على أعضاء حسية أولية، ثانوية أو ثالثية<br>
  A. It includes sensory organs: primary, secondary or tertiary<br>
  A. Elle comporte des organes des sens: primaires, secondaires ou tertiaires</p>
  <p class="correct">✅ صحيح – التصنيف الكلاسيكي يُقسم الأعضاء الحسية إلى أولية، ثانوية وثالثية حسب موقع وخصائص الخلايا الحسية.</p>
  <p class="correct">✅ Correct – The classification distinguishes sensory organs based on the position and nature of the sensory cells.</p>
  <p class="correct">✅ Correct – La classification distingue les organes selon le type et la localisation des cellules sensorielles.</p>
</div>

<div class="option-block">
  <p class="proposal">B. يمكن أن تحتوي على خلايا حسية تنقل السيالة العصبية إلى تغصنات عصبية<br>
  B. May include sensory cells that transmit nerve impulses to dendrites<br>
  B. Elle peut comporter des cellules sensorielles qui transmettent l'influx nerveux à des dendrites</p>
  <p class="correct">✅ صحيح – في الأعضاء الحسية الثانوية والثالثية، الخلايا الحسية تنقل الإشارة إلى العصبونات عبر المشابك.</p>
  <p class="correct">✅ Correct – In secondary or tertiary sensory organs, sensory cells synapse with afferent neurons.</p>
  <p class="correct">✅ Correct – Les cellules sensorielles peuvent transmettre l’influx aux dendrites des neurones afférents.</p>
</div>

<div class="option-block">
  <p class="proposal">C. يمكن أن تحتوي الأعضاء الثانوية على خلايا حسية عصبية<br>
  C. Secondary organs may contain sensory neurons<br>
  C. Elle peut comporter des organes secondaires où la cellule sensorielle est un neurone</p>
  <p class="incorrect">❌ خطأ – في الأعضاء الحسية الثانوية، الخلية الحسية ليست عصبونًا بل خلية متخصصة تتواصل مع عصبون؛ العصبونات توجد في الأعضاء الأولية فقط.</p>
  <p class="incorrect">❌ Incorrect – In secondary sensory organs, the sensory cell is not a neuron but a specialized receptor cell synapsing with a neuron.</p>
  <p class="incorrect">❌ Incorrect – Dans les organes secondaires, la cellule sensorielle n’est pas un neurone mais une cellule épithéliale spécialisée.</p>
</div>

<div class="option-block">
  <p class="proposal">D. تُصنّف الشبكية كعضو حسي ثالثي<br>
  D. The retina is classified as a tertiary sensory organ<br>
  D. Elle identifie la rétine comme organe tertiaire</p>
  <p class="correct">✅ صحيح – الشبكية تحتوي على عدة طبقات من الخلايا وتُعتبر من الأعضاء الحسية المعقدة (الثالثية).</p>
  <p class="correct">✅ Correct – The retina is a complex structure involving multiple cell layers, qualifying it as tertiary.</p>
  <p class="correct">✅ Correct – La rétine est un organe complexe avec plusieurs couches, classée comme tertiaire.</p>
</div>

<div class="option-block">
  <p class="proposal">E. عضو الشم هو العضو الحسي الأولي الوحيد<br>
  E. The olfactory organ is the only primary sensory organ<br>
  E. L'organe de l'olfaction est le seul organe de sens primaire</p>
  <p class="correct">✅ صحيح – في عضو الشم، الخلية الحسية نفسها هي عصبون حسي، ما يجعله العضو الحسي الأولي الوحيد.</p>
  <p class="correct">✅ Correct – In olfaction, the sensory cell is itself a neuron, making it the only primary sensory organ.</p>
  <p class="correct">✅ Correct – Dans l’olfaction, la cellule sensorielle est un neurone, ce qui en fait l’unique organe sensoriel primaire.</p>
</div>


`,

    detailedExplanation: `

<div class="lesson-summary" style="text-align: center; padding: 20px; margin-bottom: 20px;">
    <div id="animated-box" style="
        display: inline-block;
        padding: 15px 25px;
        background-color: #4CAF50;
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 1.2em;
        font-weight: bold;
        animation: pulse 2s infinite;
    ">
        <span>🔻 شروحات مفصلة قريبا 🔻</span>
    </div>
</div>

<!-- نضيف الـ keyframes بشكل مستقل -->
<style>
@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
</style>


    `,
    
    
    timeSpent: 0,
    type: "single"
  },

  





  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°32 U5 2022</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> عنابة </span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
 Concernant l'organe olfactif:</div>
`,

    options: [
      "  L'organe de l'olfaction est d'origine entoblastique.",
      "  Le chorion de l'épithélium olfactif est aglandulaire.",
      "Les cellules sensorielles possèdent des récepteurs qui captent les molécules odorantes.",
      " Il existe un seul récepteur aux différentes odeurs.",
      "  Sa paroi supéro-interne est représentée par la membrane de Reissner qui le sépare de la rampe vestibulaire"
    ],
    correct: [2],
    explanation:  `
    <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة (الخاطئة الوحيدة):</h2>
  <p><strong>C. الخلايا الحسية تمتلك مستقبلات تلتقط الجزيئات الشمية</strong><br>
  ✅ Correct Answer: <strong>C. Sensory cells have receptors that detect odorant molecules</strong><br>
  ✅ Réponse correcte : <strong>C. Les cellules sensorielles possèdent des récepteurs qui captent les molécules odorantes</strong>
  </p>
</div>

<style>
  .quiz-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .question-header {
    color: #2c3e50;
    font-size: 1.4em;
    margin-bottom: 25px;
    padding-bottom: 12px;
    border-bottom: 2px solid #eaecef;
    font-weight: 600;
  }

  .option-block {
    border: 1px solid #e0e3eb;
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 22px;
    background-color: #ffffff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .option-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #c7d0e4;
  }

  .option-block strong {
    font-size: 1.15em;
    color: #5e35b1;
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  .correct {
    color: #2e7d32;
    font-weight: 600;
    background-color: #e8f5e9;
    border-left: 4px solid #2e7d32;
    padding-left: 12px;
  }

  .incorrect {
    color: #c62828;
    font-weight: 600;
    background-color: #ffebee;
    border-left: 4px solid #c62828;
    padding-left: 12px;
  }

  .explanation {
    margin-top: 12px;
    padding: 12px;
    background-color: #f0f4f8;
    border-radius: 8px;
    font-size: 0.95em;
    color: #455a64;
  }

  p {
    margin: 10px 0;
    line-height: 1.7;
    color: #37474f;
  }

  .proposal {
    font-weight: 600;
    color: #263238;
    margin-bottom: 8px;
    font-size: 1.05em;
  }

  .translation {
    font-style: italic;
    color: #607d8b;
    margin-top: 4px;
    font-size: 0.95em;
  }

  .feedback-icon {
    margin-right: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
</style>



<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. عضو الشم ذو أصل أديمي داخلي<br>
  A. The olfactory organ is of endodermal origin<br>
  A. L'organe de l'olfaction est d'origine entoblastique</p>
  <p class="incorrect">❌ خطأ – عضو الشم ينشأ من الأديم الظاهر (ectoderme)، وليس الأديم الباطن (entoblaste).</p>
  <p class="incorrect">❌ Incorrect – The olfactory organ derives from ectoderm, not endoderm.</p>
  <p class="incorrect">❌ Incorrect – L’organe olfactif dérive de l’ectoderme, pas de l’entoblaste.</p>
</div>

<div class="option-block">
  <p class="proposal">B. الكوريون في الظهارة الشمية خالٍ من الغدد<br>
  B. The chorion of the olfactory epithelium is aglandular<br>
  B. Le chorion de l'épithélium olfactif est aglandulaire</p>
  <p class="incorrect">❌ خطأ – الكوريون يحتوي على غدد بومان (glandes de Bowman) التي تفرز سائلاً يغسل السطح الحسي.</p>
  <p class="incorrect">❌ Incorrect – The chorion contains Bowman’s glands which secrete mucus over the olfactory surface.</p>
  <p class="incorrect">❌ Incorrect – Le chorion contient les glandes de Bowman, qui sécrètent un produit sur l'épithélium.</p>
</div>

<div class="option-block">
  <p class="proposal">C. الخلايا الحسية تمتلك مستقبلات تلتقط الجزيئات الشمية<br>
  C. Sensory cells have receptors that detect odorant molecules<br>
  C. Les cellules sensorielles possèdent des récepteurs qui captent les molécules odorantes</p>
  <p class="correct">✅ صحيح – الخلايا الشمية هي خلايا عصبية تمتلك مستقبلات بروتينية نوعية على أهدابها تتعرف على الجزيئات الشمية.</p>
  <p class="correct">✅ Correct – Olfactory sensory neurons have specific receptors on their cilia that bind odorant molecules.</p>
  <p class="correct">✅ Correct – Les neurones olfactifs portent des récepteurs spécifiques sur leurs cils pour détecter les molécules odorantes.</p>
</div>

<div class="option-block">
  <p class="proposal">D. يوجد مستقبل واحد فقط للروائح المختلفة<br>
  D. There is only one receptor for all odors<br>
  D. Il existe un seul récepteur aux différentes odeurs</p>
  <p class="incorrect">❌ خطأ – توجد مئات من المستقبلات الشمية المختلفة، كل منها يتعرف على مجموعة من الروائح.</p>
  <p class="incorrect">❌ Incorrect – There are hundreds of different olfactory receptors, each detecting different odorants.</p>
  <p class="incorrect">❌ Incorrect – Il existe des centaines de récepteurs olfactifs différents, chacun sensible à certains odorants.</p>
</div>

<div class="option-block">
  <p class="proposal">E. الجزيئات الشمية تذوب في إفراز تصنعه الخلايا الحسية<br>
  E. Odorant molecules are dissolved in secretion produced by sensory cells<br>
  E. Les molécules olfactives sont dissoutes dans le produit de sécrétion synthétisé par les cellules sensorielles</p>
  <p class="incorrect">❌ خطأ – الإفراز الذي يذيب الجزيئات الشمية يُنتج بواسطة غدد بومان وليس الخلايا الحسية.</p>
  <p class="incorrect">❌ Incorrect – The mucus dissolving odorants is secreted by Bowman’s glands, not sensory cells.</p>
  <p class="incorrect">❌ Incorrect – Le produit de sécrétion provient des glandes de Bowman, pas des cellules sensorielles.</p>
</div>

`,

    detailedExplanation: `

<div class="lesson-summary" style="text-align: center; padding: 20px; margin-bottom: 20px;">
    <div id="animated-box" style="
        display: inline-block;
        padding: 15px 25px;
        background-color: #4CAF50;
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 1.2em;
        font-weight: bold;
        animation: pulse 2s infinite;
    ">
        <span>🔻 شروحات مفصلة قريبا 🔻</span>
    </div>
</div>

<!-- نضيف الـ keyframes بشكل مستقل -->
<style>
@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
</style>


    `,
    
    
    timeSpent: 0,
    type: "single"
  },

  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°30 U5 2021</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> عنابة </span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
A propos de l'organe olfactif:
</div>
`,


    options: [
      "Il est formé par un építhélium malpighlen situé sur la partie supérieure des fosses nasales",
      " C'est un organe de sens tertiaire",
      " C'est un organe de sens secondaire",
      " La cellule sensorielle possède un axone qui se termine par des cils",
      " Le prolongement externe des cellules sensorielles se termine par une vésicule olfactive"
    ],
    correct: [4],
    explanation:  `
    
    <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة (الخاطئة الوحيدة):</h2>
  <p><strong>E. التمدد الخارجي للخلايا الحسية ينتهي بحويصلة شمية</strong><br>
  ✅ Correct Answer: <strong>E. The external process of sensory cells ends by an olfactory vesicle</strong><br>
  ✅ Réponse correcte : <strong>E. Le prolongement externe des cellules sensorielles se termine par une vésicule olfactive</strong>
  </p>
</div>
<style>
  .quiz-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .question-header {
    color: #2c3e50;
    font-size: 1.4em;
    margin-bottom: 25px;
    padding-bottom: 12px;
    border-bottom: 2px solid #eaecef;
    font-weight: 600;
  }

  .option-block {
    border: 1px solid #e0e3eb;
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 22px;
    background-color: #ffffff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .option-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #c7d0e4;
  }

  .option-block strong {
    font-size: 1.15em;
    color: #5e35b1;
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  .correct {
    color: #2e7d32;
    font-weight: 600;
    background-color: #e8f5e9;
    border-left: 4px solid #2e7d32;
    padding-left: 12px;
  }

  .incorrect {
    color: #c62828;
    font-weight: 600;
    background-color: #ffebee;
    border-left: 4px solid #c62828;
    padding-left: 12px;
  }

  .explanation {
    margin-top: 12px;
    padding: 12px;
    background-color: #f0f4f8;
    border-radius: 8px;
    font-size: 0.95em;
    color: #455a64;
  }

  p {
    margin: 10px 0;
    line-height: 1.7;
    color: #37474f;
  }

  .proposal {
    font-weight: 600;
    color: #263238;
    margin-bottom: 8px;
    font-size: 1.05em;
  }

  .translation {
    font-style: italic;
    color: #607d8b;
    margin-top: 4px;
    font-size: 0.95em;
  }

  .feedback-icon {
    margin-right: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
</style>


<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. يتكون عضو الشم من ظهارة مالبيغ تقع في الجزء العلوي من تجاويف الأنف<br>
  A. It is formed by Malpighian epithelium located in the superior part of nasal fossae<br>
  A. Il est formé par un épithélium malpighien situé sur la partie supérieure des fosses nasales</p>
  <p class="incorrect">❌ خطأ – الظهارة الشمية ليست مالبيغية بل ظهارة عمودية كاذبة التطبّق.</p>
  <p class="incorrect">❌ Incorrect – The olfactory epithelium is pseudostratified columnar, not Malpighian.</p>
  <p class="incorrect">❌ Incorrect – L'épithélium olfactif est prismatique pseudo-stratifié, pas malpighien.</p>
</div>

<div class="option-block">
  <p class="proposal">B. عضو الشم هو عضو حساسي ثالثي<br>
  B. It is a tertiary sensory organ<br>
  B. C'est un organe de sens tertiaire</p>
  <p class="incorrect">❌ خطأ – عضو الشم هو عضو حساسي أولي لأن الخلية الحسية نفسها هي عصبون.</p>
  <p class="incorrect">❌ Incorrect – The olfactory organ is primary because the sensory cell is itself a neuron.</p>
  <p class="incorrect">❌ Incorrect – L'organe de l'olfaction est un organe primaire, pas tertiaire.</p>
</div>

<div class="option-block">
  <p class="proposal">C. عضو الشم هو عضو حساسي ثانوي<br>
  C. It is a secondary sensory organ<br>
  C. C'est un organe de sens secondaire</p>
  <p class="incorrect">❌ خطأ – العضو الأولي هو الذي تمتلك خلاياه الحسية عصبونات، وهذا هو الحال في عضو الشم.</p>
  <p class="incorrect">❌ Incorrect – It is not a secondary sensory organ since the sensory cells are neurons themselves.</p>
  <p class="incorrect">❌ Incorrect – Ce n'est pas un organe secondaire car les cellules sensorielles sont des neurones.</p>
</div>

<div class="option-block">
  <p class="proposal">D. الخلية الحسية تمتلك محورا ينتهي بأهداب<br>
  D. The sensory cell has an axon ending with cilia<br>
  D. La cellule sensorielle possède un axone qui se termine par des cils</p>
  <p class="incorrect">❌ خطأ – الأهداب ليست نهاية المحور، بل هي امتدادات خاصة بخلية حسية منفصلة (الامتداد الخارجي).</p>
  <p class="incorrect">❌ Incorrect – Cilia do not terminate the axon; cilia are sensory extensions on the dendritic end.</p>
  <p class="incorrect">❌ Incorrect – Les cils sont des expansions du prolongement dendritique, pas de l’axone.</p>
</div>

<div class="option-block">
  <p class="proposal">E. التمدد الخارجي للخلايا الحسية ينتهي بحويصلة شمية<br>
  E. The external process of sensory cells ends by an olfactory vesicle<br>
  E. Le prolongement externe des cellules sensorielles se termine par une vésicule olfactive</p>
  <p class="correct">✅ صحيح – التمدد الخارجي (الدندريت) ينتهي بحويصلة شمية تحمل أهداباً مستقبلة.</p>
  <p class="correct">✅ Correct – The external dendritic process ends in an olfactory vesicle with cilia.</p>
  <p class="correct">✅ Correct – Le prolongement dendritique externe se termine par une vésicule olfactive portant des cils.</p>
</div>

`,

    detailedExplanation: `

<div class="lesson-summary" style="text-align: center; padding: 20px; margin-bottom: 20px;">
    <div id="animated-box" style="
        display: inline-block;
        padding: 15px 25px;
        background-color: #4CAF50;
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 1.2em;
        font-weight: bold;
        animation: pulse 2s infinite;
    ">
        <span>🔻 شروحات مفصلة قريبا 🔻</span>
    </div>
</div>

<!-- نضيف الـ keyframes بشكل مستقل -->
<style>
@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
</style>


    `,
    
    
    timeSpent: 0,
    type: "single"
  },

  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°29 S3 2019</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> عنابة </span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
 Une des propositions suivantes correspond à la description d'un organe de sens primaire. Laquelle :
</div>
`,




    options: [
      " Les prolongements dendritiques des neurones récepteurs sont placés au niveau de l'épithélium et font synapse avec une cellule sensorielle, les corps cellulaires des neurones sensoriels sont placé dans un ganglion cérébro-spinal",
      " La structure nerveuse est en continuité avec une structure encéphalique",
      " Le neurone sensoriel récepteur est placé au niveau d'un építhélium. Exemple: l'épithélium olfactif.",
      "  L'organe de la vision est le seul organe de sens primaire ",
      " Aucune des propositions sus-citées n'est juste"
    ],
    correct: [2],
    explanation:  `

    <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>C. العصبون الحسي المستقبل يقع في مستوى ظهارة، مثل: الظهارة الشمية</strong><br>
  ✅ Correct Answer: <strong>C. The sensory receptor neuron is located at the level of an epithelium. Example: olfactory epithelium</strong><br>
  ✅ Réponse correcte : <strong>C. Le neurone sensoriel récepteur est placé au niveau d'un épithélium. Exemple: l'épithélium olfactif</strong>
  </p>
</div>



<style>
  .quiz-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .question-header {
    color: #2c3e50;
    font-size: 1.4em;
    margin-bottom: 25px;
    padding-bottom: 12px;
    border-bottom: 2px solid #eaecef;
    font-weight: 600;
  }

  .option-block {
    border: 1px solid #e0e3eb;
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 22px;
    background-color: #ffffff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .option-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #c7d0e4;
  }

  .option-block strong {
    font-size: 1.15em;
    color: #5e35b1;
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  .correct {
    color: #2e7d32;
    font-weight: 600;
    background-color: #e8f5e9;
    border-left: 4px solid #2e7d32;
    padding-left: 12px;
  }

  .incorrect {
    color: #c62828;
    font-weight: 600;
    background-color: #ffebee;
    border-left: 4px solid #c62828;
    padding-left: 12px;
  }

  .explanation {
    margin-top: 12px;
    padding: 12px;
    background-color: #f0f4f8;
    border-radius: 8px;
    font-size: 0.95em;
    color: #455a64;
  }

  p {
    margin: 10px 0;
    line-height: 1.7;
    color: #37474f;
  }

  .proposal {
    font-weight: 600;
    color: #263238;
    margin-bottom: 8px;
    font-size: 1.05em;
  }

  .translation {
    font-style: italic;
    color: #607d8b;
    margin-top: 4px;
    font-size: 0.95em;
  }

  .feedback-icon {
    margin-right: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. الامتدادات التغصنية للعصبونات المستقبلات توضع على مستوى ظهارة وتتصل بخلايا حسية، وأجسام العصبونات الحسية توجد في عقدة دماغية شوكية<br>
  A. Dendritic processes of receptor neurons are located in the epithelium and synapse with sensory cells; their cell bodies are in a cerebrospinal ganglion<br>
  A. Les prolongements dendritiques des neurones récepteurs sont placés au niveau de l'épithélium et font synapse avec une cellule sensorielle, les corps cellulaires des neurones sensoriels sont placés dans un ganglion cérébro-spinal</p>
  <p class="incorrect">❌ خطأ – هذا يصف عضو حس ثانوي، حيث الخلية الحسية ليست هي العصبون بل تنقل الإشارة إلى عصبون آخر.</p>
  <p class="incorrect">❌ Incorrect – This describes a secondary sense organ, where the sensory cell is not the neuron but relays to one.</p>
  <p class="incorrect">❌ Incorrect – Cela décrit un organe sensoriel secondaire, où la cellule sensorielle transmet à un neurone situé ailleurs.</p>
</div>

<div class="option-block">
  <p class="proposal">B. البنية العصبية في تواصل مباشر مع بنية دماغية<br>
  B. The neural structure is continuous with a brain structure<br>
  B. La structure nerveuse est en continuité avec une structure encéphalique</p>
  <p class="incorrect">❌ خطأ – هذه خاصية عامة للأعضاء الحسية لكنها لا تُحدد ما إذا كان العضو من النوع الأولي.</p>
  <p class="incorrect">❌ Incorrect – This is a general trait of sensory systems, not specific to primary sensory organs.</p>
  <p class="incorrect">❌ Incorrect – C’est une caractéristique générale, pas une définition d’un organe sensoriel primaire.</p>
</div>

<div class="option-block">
  <p class="proposal">C. العصبون الحسي المستقبل يقع على مستوى ظهارة مثل الظهارة الشمية<br>
  C. The receptor sensory neuron is located in an epithelium like the olfactory epithelium<br>
  C. Le neurone sensoriel récepteur est placé au niveau d'un épithélium. Exemple: l'épithélium olfactif</p>
  <p class="correct">✅ صحيح – هذا هو تعريف العضو الحسي الأولي حيث الخلية الحسية هي نفسها العصبون كما في الشم.</p>
  <p class="correct">✅ Correct – This defines a primary sense organ: the sensory cell is the neuron, as in olfaction.</p>
  <p class="correct">✅ Correct – Ceci définit un organe de sens primaire : la cellule sensorielle est elle-même un neurone.</p>
</div>

<div class="option-block">
  <p class="proposal">D. عضو الرؤية هو العضو الحسي الأولي الوحيد<br>
  D. The organ of vision is the only primary sensory organ<br>
  D. L'organe de la vision est le seul organe de sens primaire</p>
  <p class="incorrect">❌ خطأ – عضو الشم أيضاً عضو حسي أولي، لذا هذا الادعاء غير دقيق.</p>
  <p class="incorrect">❌ Incorrect – Olfaction is also a primary sense organ; vision is not the only one.</p>
  <p class="incorrect">❌ Incorrect – L’olfaction est aussi un organe primaire, pas seulement la vision.</p>
</div>

<div class="option-block">
  <p class="proposal">E. لا شيء مما سبق صحيح<br>
  E. None of the above is correct<br>
  E. Aucune des propositions sus-citées n'est juste</p>
  <p class="incorrect">❌ خطأ – الإجابة C صحيحة كما أنها تعريف دقيق لعضو حسي أولي.</p>
  <p class="incorrect">❌ Incorrect – Option C is accurate and defines a primary sensory organ.</p>
  <p class="incorrect">❌ Incorrect – La réponse C est correcte et décrit bien un organe sensoriel primaire.</p>
</div>


  
`,

   
   detailedExplanation: `

<div class="lesson-summary" style="text-align: center; padding: 20px; margin-bottom: 20px;">
    <div id="animated-box" style="
        display: inline-block;
        padding: 15px 25px;
        background-color: #4CAF50;
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 1.2em;
        font-weight: bold;
        animation: pulse 2s infinite;
    ">
        <span>🔻 شروحات مفصلة قريبا 🔻</span>
    </div>
</div>

<!-- نضيف الـ keyframes بشكل مستقل -->
<style>
@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
</style>


    `,
    
    timeSpent: 0,
    type: "single"
  },

  






 
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°33 S3 2019</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> عنابة  </span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
. La muqueuse olfactive est constituée d'un építhélium:


</div>
`,

    options: [
      " Epais, pseudostratifié",
      " Epais, pavimenteux-stratifié",
      "Cubique simple",
      " Cylindrique simple",
   " Malpighien"
      
    ],

  correct: [0],
      explanation:  `
 <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>A. سميك، كاذب التطبق</strong><br>
  ✅ Correct Answer: <strong>A. Thick, pseudostratified</strong><br>
  ✅ Réponse correcte : <strong>A. Épais, pseudostratifié</strong>
  </p>
</div><style>
  .quiz-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .question-header {
    color: #2c3e50;
    font-size: 1.4em;
    margin-bottom: 25px;
    padding-bottom: 12px;
    border-bottom: 2px solid #eaecef;
    font-weight: 600;
  }

  .option-block {
    border: 1px solid #e0e3eb;
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 22px;
    background-color: #ffffff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .option-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #c7d0e4;
  }

  .option-block strong {
    font-size: 1.15em;
    color: #5e35b1;
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  .correct {
    color: #2e7d32;
    font-weight: 600;
    background-color: #e8f5e9;
    border-left: 4px solid #2e7d32;
    padding-left: 12px;
  }

  .incorrect {
    color: #c62828;
    font-weight: 600;
    background-color: #ffebee;
    border-left: 4px solid #c62828;
    padding-left: 12px;
  }

  .explanation {
    margin-top: 12px;
    padding: 12px;
    background-color: #f0f4f8;
    border-radius: 8px;
    font-size: 0.95em;
    color: #455a64;
  }

  p {
    margin: 10px 0;
    line-height: 1.7;
    color: #37474f;
  }

  .proposal {
    font-weight: 600;
    color: #263238;
    margin-bottom: 8px;
    font-size: 1.05em;
  }

  .translation {
    font-style: italic;
    color: #607d8b;
    margin-top: 4px;
    font-size: 0.95em;
  }

  .feedback-icon {
    margin-right: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
</style>


 
<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. سميك، كاذب التطبّق<br>
  A. Thick, pseudostratified<br>
  A. Épais, pseudostratifié</p>
  <p class="correct">✅ صحيح – الظهارة الشمية هي ظهارة عمودية كاذبة التطبّق، غنية بالخلايا العصبية الشمية، الداعمة، والقاعدية.</p>
  <p class="correct">✅ Correct – The olfactory epithelium is thick and pseudostratified, containing olfactory, supporting, and basal cells.</p>
  <p class="correct">✅ Correct – L'épithélium olfactif est épais et pseudostratifié, avec des cellules olfactives, de soutien et basales.</p>
</div>

<div class="option-block">
  <p class="proposal">B. سميك، حرشفي مطبّق<br>
  B. Thick, stratified squamous<br>
  B. Épais, pavimenteux-stratifié</p>
  <p class="incorrect">❌ خطأ – هذا النوع يوجد في مناطق كالفم والمريء، وليس في الظهارة الشمية.</p>
  <p class="incorrect">❌ Incorrect – This epithelium is typical of areas like the mouth and esophagus, not the olfactory mucosa.</p>
  <p class="incorrect">❌ Incorrect – Ce type d’épithélium se trouve dans la bouche ou l’œsophage, pas dans la muqueuse olfactive.</p>
</div>

<div class="option-block">
  <p class="proposal">C. مكعب بسيط<br>
  C. Simple cuboidal<br>
  C. Cubique simple</p>
  <p class="incorrect">❌ خطأ – لا يوجد هذا النوع في الظهارة الشمية، بل في بعض القنوات الغدية الصغيرة.</p>
  <p class="incorrect">❌ Incorrect – Not found in olfactory mucosa, but in some small glandular ducts.</p>
  <p class="incorrect">❌ Incorrect – On le trouve dans des petits canaux glandulaires, pas dans l’épithélium olfactif.</p>
</div>

<div class="option-block">
  <p class="proposal">D. عمودي بسيط<br>
  D. Simple columnar<br>
  D. Cylindrique simple</p>
  <p class="incorrect">❌ خطأ – هذا يوجد غالباً في الجهاز الهضمي، مثل الأمعاء.</p>
  <p class="incorrect">❌ Incorrect – Typically found in the gastrointestinal tract, such as intestines.</p>
  <p class="incorrect">❌ Incorrect – Typique de l’appareil digestif, comme l’intestin, pas de la muqueuse olfactive.</p>
</div>

<div class="option-block">
  <p class="proposal">E. مالبيني (حرشفي طبقي كيراتيني أو غير كيراتيني)<br>
  E. Malpighian (stratified squamous, keratinized or not)<br>
  E. Malpighien</p>
  <p class="incorrect">❌ خطأ – هذا النوع من الظهارة يوجد في الجلد أو في الفم، وليس في الظهارة الشمية.</p>
  <p class="incorrect">❌ Incorrect – This is found in skin or oral mucosa, not the olfactory mucosa.</p>
  <p class="incorrect">❌ Incorrect – On le trouve dans la peau ou la bouche, pas dans la muqueuse olfactive.</p>
</div>

`,

    detailedExplanation: `

<div class="lesson-summary" style="text-align: center; padding: 20px; margin-bottom: 20px;">
    <div id="animated-box" style="
        display: inline-block;
        padding: 15px 25px;
        background-color: #4CAF50;
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 1.2em;
        font-weight: bold;
        animation: pulse 2s infinite;
    ">
        <span>🔻 شروحات مفصلة قريبا 🔻</span>
    </div>
</div>

<!-- نضيف الـ keyframes بشكل مستقل -->
<style>
@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
</style>


    `,
    
    timeSpent: 0,
    type: "single"
  },




  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°34 S3 2019</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> عنابة  </span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
 A propos de la cellule olfactive:
  </div>
`,



    options: [
      "  Le filet olfactif a une valeur dendritique.",
      " Le filet olfactif se termine par une vésicule olfactive portant 5 à 8 cils olfactifs.",
      "Elle présente un prolongement superficiel, à valeur dendritique : Le bâtonnet olfactif.",
      " Elle assure un rôle de soutien et de nutrition.",
      "Dans le chorion les filets olfactifs restent démyélinisés"
    ],
    correct: [2],



     explanation:  `<div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>C. لديها امتداد سطحي ذو قيمة شجرية: العصية الشمية</strong><br>
  ✅ Correct Answer: <strong>C. It presents a superficial process with dendritic function: the olfactory rod</strong><br>
  ✅ Réponse correcte : <strong>C. Elle présente un prolongement superficiel, à valeur dendritique : Le bâtonnet olfactif</strong>
  </p>
</div>


<style>
  .quiz-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .question-header {
    color: #2c3e50;
    font-size: 1.4em;
    margin-bottom: 25px;
    padding-bottom: 12px;
    border-bottom: 2px solid #eaecef;
    font-weight: 600;
  }

  .option-block {
    border: 1px solid #e0e3eb;
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 22px;
    background-color: #ffffff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .option-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #c7d0e4;
  }

  .option-block strong {
    font-size: 1.15em;
    color: #5e35b1;
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  .correct {
    color: #2e7d32;
    font-weight: 600;
    background-color: #e8f5e9;
    border-left: 4px solid #2e7d32;
    padding-left: 12px;
  }

  .incorrect {
    color: #c62828;
    font-weight: 600;
    background-color: #ffebee;
    border-left: 4px solid #c62828;
    padding-left: 12px;
  }

  .explanation {
    margin-top: 12px;
    padding: 12px;
    background-color: #f0f4f8;
    border-radius: 8px;
    font-size: 0.95em;
    color: #455a64;
  }

  p {
    margin: 10px 0;
    line-height: 1.7;
    color: #37474f;
  }

  .proposal {
    font-weight: 600;
    color: #263238;
    margin-bottom: 8px;
    font-size: 1.05em;
  }

  .translation {
    font-style: italic;
    color: #607d8b;
    margin-top: 4px;
    font-size: 0.95em;
  }

  .feedback-icon {
    margin-right: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
</style>


<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. للملف العصبي الشمي قيمة شجرية<br>
  A. The olfactory fila have dendritic function<br>
  A. Le filet olfactif a une valeur dendritique</p>
  <p class="incorrect">❌ خطأ – الملف العصبي الشمي هو تجمع محاور عصبية وليس امتدادًا شجريًا؛ يحمل الإشارات نحو البصلة الشمية.</p>
  <p class="incorrect">❌ Incorrect – Olfactory fila are axonal bundles, not dendritic; they carry impulses to the olfactory bulb.</p>
  <p class="incorrect">❌ Incorrect – Le filet olfactif est un faisceau d’axones, non dendritique; il transmet les influx vers le bulbe olfactif.</p>
</div>

<div class="option-block">
  <p class="proposal">B. ينتهي الملف العصبي الشمي بحويصلة شمية بها 5–8 أهداب<br>
  B. The olfactory fila end in a vesicle with 5–8 cilia<br>
  B. Le filet olfactif se termine par une vésicule olfactive portant 5 à 8 cils olfactifs</p>
  <p class="incorrect">❌ خطأ – الحويصلة الشمية توجد في الامتداد الشجري (السطحي) للخلايا الشمية، وليس في الملف العصبي (المحاور).</p>
  <p class="incorrect">❌ Incorrect – The olfactory vesicle is part of the dendritic end of the olfactory cell, not the olfactory fila (axons).</p>
  <p class="incorrect">❌ Incorrect – La vésicule olfactive est liée au pôle dendritique de la cellule olfactive, pas au filet olfactif (axones).</p>
</div>

<div class="option-block">
  <p class="proposal">C. لديها امتداد سطحي ذو قيمة شجرية: العصية الشمية<br>
  C. It presents a superficial process with dendritic function: the olfactory rod<br>
  C. Elle présente un prolongement superficiel, à valeur dendritique : Le bâtonnet olfactif</p>
  <p class="correct">✅ صحيح – يحتوي الجزء السطحي من الخلية الشمية على عصية شمية تنتهي بحويصلة وأهداب تستشعر الروائح.</p>
  <p class="correct">✅ Correct – The superficial pole of the olfactory cell has a dendrite called the olfactory rod, ending in a vesicle with cilia that detect odors.</p>
  <p class="correct">✅ Correct – Le pôle apical de la cellule olfactive porte un bâtonnet olfactif avec une vésicule et des cils sensibles aux odeurs.</p>
</div>

<div class="option-block">
  <p class="proposal">D. تقوم بدور في الدعم والتغذية<br>
  D. It provides support and nutrition<br>
  D. Elle assure un rôle de soutien et de nutrition</p>
  <p class="incorrect">❌ خطأ – هذا الدور تقوم به الخلايا الداعمة، وليس الخلايا الشمية العصبية.</p>
  <p class="incorrect">❌ Incorrect – Support and nutrition are provided by supporting (sustentacular) cells, not olfactory neurons.</p>
  <p class="incorrect">❌ Incorrect – Ce rôle est assuré par les cellules de soutien, pas par les cellules olfactives elles-mêmes.</p>
</div>

<div class="option-block">
  <p class="proposal">E. تبقى الملفات الشمية غير مغلفة بالنخاع في المخاطية<br>
  E. Olfactory fila remain unmyelinated in the chorion<br>
  E. Dans le chorion les filets olfactifs restent démyélinisés</p>
  <p class="incorrect">❌ خطأ – الألياف الشمية تصبح مغمدة بالنخاع بعد خروجها من المخاطية لتدخل في البصلة الشمية.</p>
  <p class="incorrect">❌ Incorrect – Olfactory fibers are unmyelinated in the epithelium but may become myelinated as they approach the olfactory bulb.</p>
  <p class="incorrect">❌ Incorrect – Les filets olfactifs peuvent être myélinisés en s'approchant du bulbe olfactif, bien qu’ils soient initialement amyélinisés.</p>
</div>


`,

 detailedExplanation: `

<div class="lesson-summary" style="text-align: center; padding: 20px; margin-bottom: 20px;">
    <div id="animated-box" style="
        display: inline-block;
        padding: 15px 25px;
        background-color: #4CAF50;
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 1.2em;
        font-weight: bold;
        animation: pulse 2s infinite;
    ">
        <span>🔻 شروحات مفصلة قريبا 🔻</span>
    </div>
</div>

<!-- نضيف الـ keyframes بشكل مستقل -->
<style>
@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
</style>


    `,
    
   
    timeSpent: 0,
    type: "single"
  },














  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°18 S3 2018</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> عنابة  </span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
  A propos de l'organe olfactif:
  
  </div>
`,



    options: [
      "   Il est formé par un épithélium malpighien situé sur la partie supérieure des fosses nasales.",
      " C'est un organe de sens tertiaire .",
      " C'est un organe de sens secondaire.",
      " La cellule sensorielle possède un axone qui se termine par des cils.",
      " Le prolongement externe des cellules sensorielles se termine par une vésicule olfactive"
    ],
    correct: [4],



     explanation:  `




<div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>E. الامتداد الخارجي للخلايا الحسية ينتهي بحويصلة شمية</strong><br>
  ✅ Correct Answer: <strong>E. The external process of sensory cells ends in an olfactory vesicle</strong><br>
  ✅ Réponse correcte : <strong>E. Le prolongement externe des cellules sensorielles se termine par une vésicule olfactive</strong>
  </p>
</div>

<style>
  .quiz-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .question-header {
    color: #2c3e50;
    font-size: 1.4em;
    margin-bottom: 25px;
    padding-bottom: 12px;
    border-bottom: 2px solid #eaecef;
    font-weight: 600;
  }

  .option-block {
    border: 1px solid #e0e3eb;
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 22px;
    background-color: #ffffff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .option-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #c7d0e4;
  }

  .option-block strong {
    font-size: 1.15em;
    color: #5e35b1;
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  .correct {
    color: #2e7d32;
    font-weight: 600;
    background-color: #e8f5e9;
    border-left: 4px solid #2e7d32;
    padding-left: 12px;
  }

  .incorrect {
    color: #c62828;
    font-weight: 600;
    background-color: #ffebee;
    border-left: 4px solid #c62828;
    padding-left: 12px;
  }

  .explanation {
    margin-top: 12px;
    padding: 12px;
    background-color: #f0f4f8;
    border-radius: 8px;
    font-size: 0.95em;
    color: #455a64;
  }

  p {
    margin: 10px 0;
    line-height: 1.7;
    color: #37474f;
  }

  .proposal {
    font-weight: 600;
    color: #263238;
    margin-bottom: 8px;
    font-size: 1.05em;
  }

  .translation {
    font-style: italic;
    color: #607d8b;
    margin-top: 4px;
    font-size: 0.95em;
  }

  .feedback-icon {
    margin-right: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. Il est formé par un épithélium malpighien situé sur la partie supérieure des fosses nasales<br>
  A. It is formed by a malpighian epithelium located on the upper part of the nasal cavities<br>
  A. يتكون من ظهارة مالبجية تقع في الجزء العلوي من التجاويف الأنفية</p>
  <p class="incorrect">❌ خطأ – الظهارة في العضو الشمي ليست مالبجية، بل ظهارة عمودية كاذبة التطبُّق متخصصة.</p>
  <p class="incorrect">❌ Incorrect – The olfactory epithelium is not malpighian but specialized pseudostratified columnar epithelium.</p>
  <p class="incorrect">❌ Incorrect – L’épithélium olfactif n’est pas malpighien mais prismatique pseudo-stratifié spécialisé.</p>
</div>

<div class="option-block">
  <p class="proposal">B. C'est un organe de sens tertiaire<br>
  B. It is a tertiary sense organ<br>
  B. إنه عضو حسي من الدرجة الثالثة</p>
  <p class="incorrect">❌ خطأ – حاسة الشم تُعد من الحواس الأولية لأنها ترتبط مباشرة بالجهاز العصبي المركزي.</p>
  <p class="incorrect">❌ Incorrect – The sense of smell is a primary sense as it connects directly to the central nervous system.</p>
  <p class="incorrect">❌ Incorrect – L’odorat est un sens primaire car il est en lien direct avec le système nerveux central.</p>
</div>

<div class="option-block">
  <p class="proposal">C. C'est un organe de sens secondaire<br>
  C. It is a secondary sense organ<br>
  C. إنه عضو حسي ثانوي</p>
  <p class="incorrect">❌ خطأ – العضو الشمي يُعد من الحواس الأولية وليس الثانوية.</p>
  <p class="incorrect">❌ Incorrect – The olfactory organ is considered a primary, not a secondary, sense organ.</p>
  <p class="incorrect">❌ Incorrect – L’organe olfactif est un sens primaire, pas secondaire.</p>
</div>

<div class="option-block">
  <p class="proposal">D. La cellule sensorielle possède un axone qui se termine par des cils<br>
  D. The sensory cell has an axon that ends in cilia<br>
  D. الخلية الحسية تمتلك محوارًا ينتهي بأهداب</p>
  <p class="incorrect">❌ خطأ – الأهداب توجد في الجزء الخارجي من الخلية الحسية وليس على نهاية المحوار، بل في النهاية الشجرية.</p>
  <p class="incorrect">❌ Incorrect – The cilia are at the dendritic (external) end of the sensory cell, not at the axonal terminal.</p>
  <p class="incorrect">❌ Incorrect – Les cils sont situés à l’extrémité dendritique de la cellule sensorielle, pas à l’extrémité axonale.</p>
</div>

<div class="option-block">
  <p class="proposal">E. Le prolongement externe des cellules sensorielles se termine par une vésicule olfactive<br>
  E. The external process of sensory cells ends in an olfactory vesicle<br>
  E. يمتد الجزء الخارجي من الخلايا الحسية إلى حويصلة شمية</p>
  <p class="correct">✅ صحيح – الفروع الخارجية للخلايا الشمية تنتهي بحويصلة شمية تحمل أهدابًا تكتشف الجزيئات الشمية.</p>
  <p class="correct">✅ Correct – The external projections of olfactory sensory neurons end in an olfactory vesicle bearing cilia that detect odorant molecules.</p>
  <p class="correct">✅ Correct – Les prolongements externes des neurones olfactifs se terminent par une vésicule portant des cils qui détectent les molécules odorantes.</p>
</div>



`,


    detailedExplanation: `

<div class="lesson-summary" style="text-align: center; padding: 20px; margin-bottom: 20px;">
    <div id="animated-box" style="
        display: inline-block;
        padding: 15px 25px;
        background-color: #4CAF50;
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 1.2em;
        font-weight: bold;
        animation: pulse 2s infinite;
    ">
        <span>🔻 شروحات مفصلة قريبا 🔻</span>
    </div>
</div>

<!-- نضيف الـ keyframes بشكل مستقل -->
<style>
@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
</style>


    `,
    
    timeSpent: 0,
    type: "single"
  },













  

  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> اختيار متعدد  N°25 S3 2016</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> عنابة  </span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
Les cellules neurosensorielles olfactives se caractérisent par:
  </div>
`,



    options: [
      "  Un prolongement périphérique cellulifuge qui gagne la surface entre les cellules de soutien.",
      " Un bâtonnet olfactif se terminant par une vésicule olfactive portant des cils olfactifs.",
      " Un prolongement central cellulipète qui gagne la profondeur entre les cellules basales.",
      " Un prolongement axonal pénétrant le chorion pour former des filets nerveux olfactifs..",
      "Une cellule de Schwann qui englobe les fibres nerveuses amyéliniques."
    ],
    correct: [2, 3, 4],



     explanation:  `
     




     <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابات الصحيحة:</h2>
  <p><strong>B. Un bâtonnet olfactif se terminant par une vésicule olfactive portant des cils olfactifs<br>
  B. An olfactory rod ending in an olfactory vesicle bearing olfactory cilia<br>
  B. عصا شمية تنتهي بحويصلة شمية تحمل أهداب شمية<br><br>

  D. Un prolongement axonal pénétrant le chorion pour former des filets nerveux olfactifs<br>
  D. An axonal process penetrating the chorion to form olfactory nerve bundles<br>
  D. تمدد محوري يخترق الكورِيوم لتشكيل حزم عصبية شمية<br><br>

  E. Une cellule de Schwann qui englobe les fibres nerveuses amyéliniques<br>
  E. A Schwann cell that envelops unmyelinated nerve fibers<br>
  E. خلية شوان تحيط بالألياف العصبية عديمة الغمد المياليني</strong><br>
  ✅ Correct Answers: <strong>B, D, E</strong><br>
  ✅ Réponses correctes : <strong>B, D, E</strong></p>
</div>

<style>
  .quiz-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .question-header {
    color: #2c3e50;
    font-size: 1.4em;
    margin-bottom: 25px;
    padding-bottom: 12px;
    border-bottom: 2px solid #eaecef;
    font-weight: 600;
  }

  .option-block {
    border: 1px solid #e0e3eb;
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 22px;
    background-color: #ffffff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .option-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #c7d0e4;
  }

  .option-block strong {
    font-size: 1.15em;
    color: #5e35b1;
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  .correct {
    color: #2e7d32;
    font-weight: 600;
    background-color: #e8f5e9;
    border-left: 4px solid #2e7d32;
    padding-left: 12px;
  }

  .incorrect {
    color: #c62828;
    font-weight: 600;
    background-color: #ffebee;
    border-left: 4px solid #c62828;
    padding-left: 12px;
  }

  .explanation {
    margin-top: 12px;
    padding: 12px;
    background-color: #f0f4f8;
    border-radius: 8px;
    font-size: 0.95em;
    color: #455a64;
  }

  p {
    margin: 10px 0;
    line-height: 1.7;
    color: #37474f;
  }

  .proposal {
    font-weight: 600;
    color: #263238;
    margin-bottom: 8px;
    font-size: 1.05em;
  }

  .translation {
    font-style: italic;
    color: #607d8b;
    margin-top: 4px;
    font-size: 0.95em;
  }

  .feedback-icon {
    margin-right: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. Un prolongement périphérique cellulifuge qui gagne la surface entre les cellules de soutien.<br>
  A. A peripheral centrifugal process that reaches the surface between supporting cells.<br>
  A. امتداد طرفي خِلوي يذهب إلى السطح بين خلايا الدعم.</p>
  <p class="incorrect">❌ خطأ – لا يوجد تمدد خَلوي يبتعد (خِلويّ الطرد)، بل التمدد الخارجي للخلايا الشمية هو امتداد شجيري (دندريتي) يتجه نحو السطح.</p>
  <p class="incorrect">❌ Incorrect – There is no centrifugal cellular extension; the external process of olfactory cells is dendritic and directed toward the surface.</p>
  <p class="incorrect">❌ Incorrect – Il n’existe pas de prolongement centrifuge, le prolongement externe est dendritique et dirigé vers la surface.</p>
</div>

<div class="option-block">
  <p class="proposal">B. Un bâtonnet olfactif se terminant par une vésicule olfactive portant des cils olfactifs.<br>
  B. An olfactory rod ending in an olfactory vesicle bearing olfactory cilia.<br>
  B. عصا شمية تنتهي بحويصلة شمية تحمل أهداب شمية.</p>
  <p class="correct">✅ صحيح – التمدد الخارجي للخلايا العصبية الشمية يُعرف بالعصا الشمية وينتهي بحويصلة تحمل أهدابًا تلتقط الجزيئات الشمية.</p>
  <p class="correct">✅ Correct – The external process of olfactory sensory neurons is called the olfactory rod and ends with a vesicle bearing cilia for odor detection.</p>
  <p class="correct">✅ Correct – Le prolongement externe des neurones olfactifs est appelé bâtonnet olfactif et se termine par une vésicule portant des cils pour détecter les odeurs.</p>
</div>

<div class="option-block">
  <p class="proposal">C. Un prolongement central cellulipète qui gagne la profondeur entre les cellules basales.<br>
  C. A central centripetal process that goes deep between basal cells.<br>
  C. تمدد مركزي خِلوي متجه نحو العمق بين الخلايا القاعدية.</p>
  <p class="incorrect">❌ خطأ – التمدد المركزي هو محور عصبي وليس تمدد خِلوي متجه نحو العمق بين الخلايا القاعدية.</p>
  <p class="incorrect">❌ Incorrect – The central process is an axon, not a centripetal cellular extension between basal cells.</p>
  <p class="incorrect">❌ Incorrect – Le prolongement central est un axone, pas un prolongement centripète entre les cellules basales.</p>
</div>

<div class="option-block">
  <p class="proposal">D. Un prolongement axonal pénétrant le chorion pour former des filets nerveux olfactifs.<br>
  D. An axonal process penetrating the chorion to form olfactory nerve bundles.<br>
  D. تمدد محوري يخترق الكورِيوم لتشكيل حزم عصبية شمية.</p>
  <p class="correct">✅ صحيح – المحوار هو التمدد المركزي الذي يخترق الكورِيوم ليشكل الحزم العصبية التي تنتقل للإشارات الشمية.</p>
  <p class="correct">✅ Correct – The axon penetrates the chorion forming olfactory nerve bundles transmitting smell signals.</p>
  <p class="correct">✅ Correct – L’axone pénètre le chorion formant les filets nerveux olfactifs qui transmettent les signaux olfactifs.</p>
</div>

<div class="option-block">
  <p class="proposal">E. Une cellule de Schwann qui englobe les fibres nerveuses amyéliniques.<br>
  E. A Schwann cell that envelops unmyelinated nerve fibers.<br>
  E. خلية شوان تحيط بالألياف العصبية عديمة الغمد المياليني.</p>
  <p class="correct">✅ صحيح – خلايا شوان تحيط بالألياف العصبية الشمية العديمة الغمد لتعطي الدعم والحماية.</p>
  <p class="correct">✅ Correct – Schwann cells surround unmyelinated olfactory nerve fibers providing support and protection.</p>
  <p class="correct">✅ Correct – Les cellules de Schwann entourent les fibres nerveuses amyéliniques olfactives pour soutien et protection.</p>
</div>

`,


   
    detailedExplanation: `

<div class="lesson-summary" style="text-align: center; padding: 20px; margin-bottom: 20px;">
    <div id="animated-box" style="
        display: inline-block;
        padding: 15px 25px;
        background-color: #4CAF50;
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 1.2em;
        font-weight: bold;
        animation: pulse 2s infinite;
    ">
        <span>🔻 شروحات مفصلة قريبا 🔻</span>
    </div>
</div>

<!-- نضيف الـ keyframes بشكل مستقل -->
<style>
@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
</style>



    `,
    timeSpent: 0,
        type: "multi"
  },











  

  
  {
   text: `
<style>.badge{display:inline-block;padding:6px 12px;margin:5px 6px;border-radius:20px;font-size:0.9rem;font-weight:bold;text-align:center;white-space:nowrap;box-shadow:0 4px 8px rgba(0,0,0,0.1);transition:transform 0.3s,box-shadow 0.3s;cursor:pointer}.badge:hover{transform:scale(1.05);box-shadow:0 6px 12px rgba(0,0,0,0.15)}.green{color:#28A745;background-color:#e0f7e9}.red{color:#FF4D4D;background-color:#f7e0e0}.blue{color:#007BFF;background-color:#E6F0FF}.yellow{color:#FFC107;background-color:#FFFBE6}.black{color:#fff;background-color:#000}.badge-container{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;align-items:center;margin-top:20px;padding:10px}.question-text{text-align:center;margin-top:25px;font-family:'Arial',sans-serif;font-size:20px;font-weight:bold;color:#000;padding:0 10px}@media(max-width:600px){.badge{font-size:0.85rem;padding:5px 10px}.question-text{font-size:18px}}</style><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

<div class="badge-container">
  <span class="badge green"><i class="fas fa-book"></i> QCM N°40 S3 2015</span>
  <span class="badge red"><i class="fas fa-map-marker-alt"></i> عنابة  </span>
  <span class="badge blue">الشرح المختصر <i class="fas fa-check-circle"></i></span>
  <span class="badge yellow">الشروحات <i class="fas fa-bolt"></i></span>
  <span class="badge black">ملخص الدرس <i class="fas fa-caret-down" style="color: red;"></i></span>
</div>

<div class="question-text">
Le pôle apical des cellules de soutien au niveau de l'épithélium de la muqueuse olfactive présente :
  </div>
`,






    options: [
      " De longs prolongements.",
      "Des stéréocils.",
      " Des cils vibratiles.",
      "Des microvillosités.",
      " Sans différentiation."
    ],
    correct: [3],



     explanation:  `
     

     <div style="font-family: Arial; font-size: 14px; line-height: 1.6;">
  <h2>✅ الإجابة الصحيحة:</h2>
  <p><strong>D. Des microvillosités<br>
  D. Microvilli<br>
  D. زغيبات</strong><br>
  ✅ Correct Answer: <strong>D. Des microvillosités</strong><br>
  ✅ Réponse correcte : <strong>D. Microvillosités</strong></p>
</div>

<style>
  .quiz-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 25px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f7fa;
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }

  .question-header {
    color: #2c3e50;
    font-size: 1.4em;
    margin-bottom: 25px;
    padding-bottom: 12px;
    border-bottom: 2px solid #eaecef;
    font-weight: 600;
  }

  .option-block {
    border: 1px solid #e0e3eb;
    border-radius: 14px;
    padding: 18px 20px;
    margin-bottom: 22px;
    background-color: #ffffff;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }

  .option-block:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #c7d0e4;
  }

  .option-block strong {
    font-size: 1.15em;
    color: #5e35b1;
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  .correct {
    color: #2e7d32;
    font-weight: 600;
    background-color: #e8f5e9;
    border-left: 4px solid #2e7d32;
    padding-left: 12px;
  }

  .incorrect {
    color: #c62828;
    font-weight: 600;
    background-color: #ffebee;
    border-left: 4px solid #c62828;
    padding-left: 12px;
  }

  .explanation {
    margin-top: 12px;
    padding: 12px;
    background-color: #f0f4f8;
    border-radius: 8px;
    font-size: 0.95em;
    color: #455a64;
  }

  p {
    margin: 10px 0;
    line-height: 1.7;
    color: #37474f;
  }

  .proposal {
    font-weight: 600;
    color: #263238;
    margin-bottom: 8px;
    font-size: 1.05em;
  }

  .translation {
    font-style: italic;
    color: #607d8b;
    margin-top: 4px;
    font-size: 0.95em;
  }

  .feedback-icon {
    margin-right: 8px;
    font-size: 1.2em;
    vertical-align: middle;
  }
</style>

<h3>🩺 التفسير الطبي لكل خيار:</h3>

<div class="option-block">
  <p class="proposal">A. De longs prolongements.<br>
  A. Long processes.<br>
  A. امتدادات طويلة.</p>
  <p class="incorrect">❌ خطأ – الخلايا الداعمة في الظهارة الشمية لا تملك امتدادات طويلة مثل الأهداب أو الستيريوسيل.</p>
  <p class="incorrect">❌ Incorrect – Supporting cells do not have long processes like cilia or stereocilia.</p>
  <p class="incorrect">❌ Incorrect – Les cellules de soutien ne présentent pas de longs prolongements comme des cils ou stéréocils.</p>
</div>

<div class="option-block">
  <p class="proposal">B. Des stéréocils.<br>
  B. Stereocilia.<br>
  B. ستيريوسيل.</p>
  <p class="incorrect">❌ خطأ – الستيريوسيل توجد عادة في خلايا حسية مثل خلايا الشعر في الأذن، وليست في خلايا الدعم الشمية.</p>
  <p class="incorrect">❌ Incorrect – Stereocilia are typically found in sensory hair cells, not in olfactory supporting cells.</p>
  <p class="incorrect">❌ Incorrect – Les stéréocils sont présents dans les cellules sensorielles auditives, pas dans les cellules de soutien olfactives.</p>
</div>

<div class="option-block">
  <p class="proposal">C. Des cils vibratiles.<br>
  C. Motile cilia.<br>
  C. أهداب نابضة.</p>
  <p class="incorrect">❌ خطأ – الأهداب النابضة توجد في خلايا معينة مثل الخلايا الهدبية في الجهاز التنفسي، لكن خلايا الدعم الشمية تحتوي على زغيبات فقط.</p>
  <p class="incorrect">❌ Incorrect – Motile cilia are present in respiratory epithelial cells but not in olfactory supporting cells.</p>
  <p class="incorrect">❌ Incorrect – Les cils vibratiles sont présents dans l'épithélium respiratoire, pas sur les cellules de soutien olfactives.</p>
</div>

<div class="option-block">
  <p class="proposal">D. Des microvillosités.<br>
  D. Microvilli.<br>
  D. زغيبات.</p>
  <p class="correct">✅ صحيح – الخلايا الداعمة في الظهارة الشمية تتميز بزغيبات على السطح القمي تساعد في زيادة المساحة السطحية.</p>
  <p class="correct">✅ Correct – Supporting cells in the olfactory epithelium have microvilli on their apical surface to increase surface area.</p>
  <p class="correct">✅ Correct – Les cellules de soutien présentent des microvillosités sur leur pôle apical pour augmenter la surface d'échange.</p>
</div>

<div class="option-block">
  <p class="proposal">E. Sans différentiation.<br>
  E. Without differentiation.<br>
  E. بدون تمايز.</p>
  <p class="incorrect">❌ خطأ – هناك تمايز واضح في سطح الخلايا الداعمة يظهر بزغيبات وليس سطحاً أملساً.</p>
  <p class="incorrect">❌ Incorrect – The apical surface of supporting cells is differentiated, showing microvilli, not undifferentiated.</p>
  <p class="incorrect">❌ Incorrect – Le pôle apical des cellules de soutien présente une différenciation claire avec des microvillosités.</p>
</div>


`,




    detailedExplanation: `

<div class="lesson-summary" style="text-align: center; padding: 20px; margin-bottom: 20px;">
    <div id="animated-box" style="
        display: inline-block;
        padding: 15px 25px;
        background-color: #4CAF50;
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        font-size: 1.2em;
        font-weight: bold;
        animation: pulse 2s infinite;
    ">
        <span>🔻 شروحات مفصلة قريبا 🔻</span>
    </div>
</div>

<!-- نضيف الـ keyframes بشكل مستقل -->
<style>
@keyframes pulse {
    0% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}
</style>



    `,
   
    timeSpent: 0,
    type: "single"
  },











  {
    text: "أي من الهرمونات التالية تفرزها الغدة النخامية؟ (اختر أكثر من إجابة)",
    options: [
      "هرمون النمو",
      "الأوكسيتوسين",
      "الثيروكسين",
      "البرولاكتين"
    ],
    correct: [0, 1, 3],


    explanation: "تفرز الغدة النخامية عدة هرمونات منها هرمون النمو، الأوكسيتوسين والبرولاكتين، بينما يفرز الثيروكسين من الغدة الدرقية.",
   
    image: "",
   
    detailedExplanation: `




    `,
    timeSpent: 0,
    type: "multi"
  },














































  
  {
    text: "مارايك في المقاومة هل هي واجبة ؟",
    options: [
     " نعم في حالة توفر الامور",
     " نعم ونوفر لها الاسباب",
     " كلا الحياة مهما كانت   افضل ",
     " كلا الحياة مهما كانت   افضل ",
     " ليست خيار جميل "
    ],
    correct: [1],
    explanation:  " قريبا ",

    timeSpent: 0,
    type: "single"
  },







  
  
  {
    text: " ماهو اخر الكتب السماوية الذي انزل على خاتم الرسل والانبياء محمد صلى الله عليه وسلم  ؟",
    options: [
     "الزابور",
     " التوراة ",
     "  صحف ابراهيم  ",
     " الانجيل ",
     " القران الكريم  "
    ],
    correct: [4],
    explanation:  " قريبا ",

    timeSpent: 0,
    type: "single"
  },




  
  {
    text: "في أي عام هجري ولد النبي محمد صلى الله عليه وسلم؟",
    options: [
     "عام 570",
    "عام 510",
     "عام 590",
     "عام 600",
  
    ],
    correct: [1],
    explanation:  " النبي الامين المصطفى الرسول  محمد صلى الله عليه وسلم وُلد في عام 570 ميلادي. ",

    timeSpent: 0,
    type: "single"
  },

  {
    text: "ما هو اسم أطول سورة في القرآن؟",
    options: [
      "سورة البقرة",
      "سورة آل عمران ",
      "سورة النحل",
      "سورة البقرة"
    ],
    correct: [0],
    explanation: "الميلاتونين هو الهرمون المسؤول عن تنظيم دورة النوم والاستيقاظ، حيث يفرز من الغدة الصنوبرية في الدماغ استجابة للظلام.",
    image: "images/melatonin.jpg",
    timeSpent: 0,
    type: "single"
  }

  // يمكن إضافة المزيد من الأسئلة هنا...
];

// متغيرات التطبيق
let currentQuestionIndex = 0;
let selectedAnswers = [];
let timer;
let timeLeft;
let totalTime = 0;
let quizDuration = 0;
let questionStartTime;
let timePerQuestion = [];
let questions = [];
let quizStarted = false;

// عناصر DOM
const startScreen = document.getElementById("start-screen");
const startBtn = document.getElementById("start-btn");
const quickTestBtn = document.getElementById("quick-test-btn");
const questionContainer = document.getElementById("question-container");
const resultSection = document.getElementById("result-section");
const resultsContainer = document.getElementById("results-container");
const scoreDisplay = document.getElementById("score-display");
const progressBar = document.getElementById("progress-bar");
const questionProgress = document.getElementById("question-progress");
const progressIndicator = document.getElementById("progress-indicator");
const timerElement = document.getElementById("timer");
const totalTimeElement = document.getElementById("total-time");
const averageTimeElement = document.getElementById("average-time");
const fastestTimeElement = document.getElementById("fastest-time");
const slowestTimeElement = document.getElementById("slowest-time");
const backToTopBtn = document.getElementById("back-to-top");
const suggestBtn = document.getElementById("suggest-btn");
const showLessonBtn = document.getElementById("show-lesson-btn");
const infoBtn = document.getElementById("info-btn");
const closePanelBtn = document.getElementById("close-panel");

// أحداث
document.addEventListener('DOMContentLoaded', function() {
  startBtn.addEventListener("click", startQuiz);
  quickTestBtn.addEventListener("click", startQuickTest);
  infoBtn.addEventListener("click", toggleInfoPanel);
  closePanelBtn.addEventListener("click", closeInfoPanel);
  showLessonBtn.addEventListener("click", showLessonModal);
  
  // جعل الدوال متاحة عالمياً للاستدعاء من HTML
  window.selectOption = selectOption;
  window.submitAnswer = submitAnswer;
  window.showExplanation = showExplanation;
  window.nextQuestion = nextQuestion;
  window.restartQuiz = restartQuiz;
  window.closeExplanation = closeExplanation;
  window.closeLessonModal = closeLessonModal;
  window.showLessonModal = showLessonModal;
  window.toggleInfoPanel = toggleInfoPanel;
  window.closeInfoPanel = closeInfoPanel;
  window.scrollToTop = scrollToTop;
  
  // التمرير للأعلى
  window.addEventListener('scroll', function() {
    if (window.pageYOffset > 300) {
      backToTopBtn.classList.add('visible');
    } else {
      backToTopBtn.classList.remove('visible');
    }
  });

  backToTopBtn.addEventListener('click', function() {
    scrollToTop();
  });
  
  // إغلاق لوحة المعلومات بالضغط على ESC
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && infoPanel.classList.contains('active')) {
      closeInfoPanel();
    }
  });
  
  // تحميل الصور مسبقاً
  preloadImages();
});

// بدء الاختبار الرئيسي
function startQuiz() {
  const durationInput = parseInt(document.getElementById("custom-duration").value) || 10;
  const questionCount = document.getElementById("question-count").value;
  const shuffleQuestions = document.getElementById("shuffle-questions").checked;
  
  // تحقق من وجود عدد كافي من الأسئلة
  if (questionCount !== "all" && allQuestions.length < parseInt(questionCount)) {
    Swal.fire({
      title: 'خطأ',
      text: `لا يوجد سوى ${allQuestions.length} أسئلة متاحة`,
      icon: 'error'
    });
    return;
  }
  
  quizDuration = durationInput * 60;
  selectedAnswers = [];
  timePerQuestion = [];
  totalTime = 0;
  currentQuestionIndex = 0;
  quizStarted = true;
  
  // اختيار الأسئلة حسب العدد المطلوب
  if (questionCount === "all") {
    questions = [...allQuestions];
    
    // عرض التنبيهات فقط عند اختيار "جميع الأسئلة"
    Swal.fire({
      title: 'تنبيه',
      text: `ستحصل على جميع الأسئلة (${allQuestions.length} سؤالاً)`,
      icon: 'info',
      confirmButtonText: 'حسناً'
    }).then(() => {
      if (shuffleQuestions) {
        questions = shuffleArray(questions);
        Swal.fire("سيتم عرض الأسئلة بترتيب عشوائي");
      }
      startTest();
    });
  } else {
    questions = getRandomQuestions(parseInt(questionCount), shuffleQuestions);
    startTest();
  }

















  // في دالة startQuiz()
if (questionCount === "all") {
  questions = [...allQuestions];
  
  Swal.fire({
    title: 'تنبيه',
    text: `ستحصل على جميع الأسئلة (${allQuestions.length} سؤالاً)`,
    icon: 'info',
    confirmButtonText: 'حسناً'
  }).then(() => {
    if (shuffleQuestions) {
      questions = shuffleArray(questions);
      Swal.fire("سيتم عرض الأسئلة بترتيب عشوائي");
    }
    startTest();
  });
}
}




// بدء اختبار سريع
function startQuickTest() {
  quizDuration = 5 * 60; // 5 دقائق
  selectedAnswers = [];
  timePerQuestion = [];
  totalTime = 0;
  currentQuestionIndex = 0;
  

  // اختيار 5 أسئلة عشوائية
  questions = getRandomQuestions(5, true);
  startTest();
}

// بدء الاختبار الفعلي
function startTest() {
  startScreen.style.display = "none";
  questionContainer.style.display = "block";
  resultSection.style.display = "none";
  progressIndicator.style.display = "block";
  
  loadQuestion();
  startTimer();
  scrollToTop();
}

function getRandomQuestions(count, shuffle = true) {
  // نسخ جميع الأسئلة
  const shuffled = [...allQuestions];
  
  // خلط الأسئلة إذا طلبنا ذلك
  if (shuffle) {
    for (let i = shuffled.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
  }
  
  // إرجاع العدد المطلوب من الأسئلة أو جميعها إذا كان count === "all"
  return count === "all" ? shuffled : shuffled.slice(0, count);
}






// خلط المصفوفة
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// تحميل السؤال
function loadQuestion() {
  if (!questions[currentQuestionIndex]) {
    finishQuiz();
    return;
  }

  const question = questions[currentQuestionIndex];
  questionStartTime = new Date().getTime();
  
  // تحديث شريط التقدم
  const progressPercent = (currentQuestionIndex / questions.length) * 100;
  questionProgress.style.width = `${progressPercent}%`;
  document.getElementById("progress-text").textContent = `السؤال ${currentQuestionIndex + 1} من ${questions.length}`;
  
  // إعداد خيارات الإجابة
  const optionsHTML = question.options.map((option, index) => {
    const isSelected = Array.isArray(selectedAnswers[currentQuestionIndex]) ? 
      selectedAnswers[currentQuestionIndex].includes(index) : 
      selectedAnswers[currentQuestionIndex] === index;
      
    return `
      <li onclick="selectOption(${index})" id="option-${index}" 
          class="${isSelected ? 'selected' : ''}" 
          aria-pressed="${isSelected}"
          tabindex="0"
          role="button">
        ${option}
        ${question.correct.includes(index) ? '<span class="correct-mark" style="display: none;"><i class="fas fa-check"></i></span>' : ''}
      </li>
    `;
  }).join('');

  questionContainer.innerHTML = `
    ${question.image ? `
    <div class="question-image">
      <img src="${question.image}" alt="صورة السؤال" loading="lazy">
    </div>` : ''}
    <div class="question-text">
      <p>${question.text}</p>
    </div>
    <ul class="options">
      ${optionsHTML}
    </ul>
    <div style="text-align: center; margin-top: 1.5rem;">
      <button class="btn" onclick="submitAnswer()" id="submit-btn">إرسال الإجابة</button>
      <button class="btn btn-secondary" onclick="showExplanation()" id="explain-btn" style="display: none;">
        <i class="fas fa-lightbulb"></i> شرح الإجابة
      </button>
    </div>
    <div style="text-align: center; margin-top: 1rem; color: #666;">
      السؤال ${currentQuestionIndex + 1} من ${questions.length}
    </div>
  `;
  
  // إضافة إمكانية الاختيار بالضغط على Enter
  document.querySelectorAll('.options li').forEach(option => {
    option.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        const index = parseInt(option.id.split('-')[1]);
        selectOption(index);
      }
    });
  });
}









  

// اختيار إجابة
function selectOption(optionIndex) {
  if (!quizStarted) return;

  const question = questions[currentQuestionIndex];
  const optionElement = document.getElementById(`option-${optionIndex}`);
  
  // إضافة تأثير اللمس
  optionElement.classList.add("touched");
  setTimeout(() => {
    optionElement.classList.remove("touched");
  }, 200);
  
  if (question.type === "multi") {
    // تبديل التحديد للأسئلة متعددة الإجابات
    optionElement.classList.toggle("selected");
    optionElement.setAttribute("aria-pressed", optionElement.classList.contains("selected"));
    
    // تحديث الإجابات المختارة
    if (!selectedAnswers[currentQuestionIndex]) {
      selectedAnswers[currentQuestionIndex] = [];
    }
    
    const index = selectedAnswers[currentQuestionIndex].indexOf(optionIndex);
    if (index === -1) {
      selectedAnswers[currentQuestionIndex].push(optionIndex);
    } else {
      selectedAnswers[currentQuestionIndex].splice(index, 1);
    }
  } else {
    // المنطق للأسئلة ذات الإجابة الواحدة
    const options = document.querySelectorAll(".options li");
    options.forEach((option, index) => {
      if (index === optionIndex) {
        option.classList.add("selected");
        option.setAttribute("aria-pressed", "true");
      } else {
        option.classList.remove("selected");
        option.setAttribute("aria-pressed", "false");
      }
    });
    selectedAnswers[currentQuestionIndex] = optionIndex;
  }
}

































// عرض جميع الشروحات
function showAllExplanations() {
  let allExplanations = '<div style="text-align: center; margin-bottom: 1.5rem;">';
  
  questions.forEach((question, index) => {
    allExplanations += `
      <div style="background: white; border-radius: 8px; padding: 1rem; margin-bottom: 1.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <h3 style="color: var(--primary-color);">السؤال ${index + 1}: ${question.text}</h3>
        <p><strong>الإجابة الصحيحة:</strong> ${question.correct.map(i => question.options[i]).join("، ")}</p>
        <div style="background-color: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
          <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">شرح مفصل:</h4>
          ${question.explanation}
          ${question.detailedExplanation || '<p>هذا السؤال يتعلق بمفهوم الهرمونات وكيفية عملها في الجسم.</p>'}
        </div>
        <p><strong>الوقت المستغرق:</strong> ${formatTime(question.timeSpent)}</p>
      </div>
    `;
  });
  
  allExplanations += '</div>';
  
  document.getElementById("long-explanation-title").textContent = "جميع الشروحات المفصلة";
  document.getElementById("long-explanation-text").innerHTML = allExplanations;
  document.getElementById("long-explanation-modal").classList.add("active");
}

window.showAllExplanations = showAllExplanations;
// عرض الشرح الطويل
function showLongExplanation(questionIndex) {
  const question = questions[questionIndex];
  
  document.getElementById("long-explanation-title").textContent = "شرح مفصل للسؤال " + (questionIndex + 1);
  document.getElementById("long-explanation-text").innerHTML = `
    <p><strong>السؤال:</strong> ${question.text}</p>
    <p><strong>الإجابة الصحيحة:</strong> ${question.correct.map(i => question.options[i]).join("، ")}</p>
    <div style="background-color: #f8f9fa; padding: 1rem; border-radius: 8px; margin: 1rem 0;">
      <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">شرح مفصل:</h4>
      ${question.explanation}
      ${question.detailedExplanation || '<p>هذا السؤال يتعلق بمفهوم الهرمونات وكيفية عملها في الجسم.</p>'}
    </div>
    <p><strong>الوقت المستغرق:</strong> ${formatTime(question.timeSpent)}</p>
  `;
  
  document.getElementById("long-explanation-modal").classList.add("active");
}

// إغلاق الشرح الطويل
function closeLongExplanation() {
  document.getElementById("long-explanation-modal").classList.remove("active");
}

// جعل الدوال متاحة عالمياً
window.showLongExplanation = showLongExplanation;
window.closeLongExplanation = closeLongExplanation;

// إرسال الإجابة
function submitAnswer() {
  const question = questions[currentQuestionIndex];
  const endTime = new Date().getTime();
  const timeSpent = Math.floor((endTime - questionStartTime) / 1000);
  
  question.timeSpent = timeSpent;
  timePerQuestion.push(timeSpent);
  totalTime += timeSpent;
  
  if (question.type === "multi") {
    // التحقق من الإجابات المتعددة
    const isCorrect = arraysEqual(selectedAnswers[currentQuestionIndex], question.correct);
    
    // عرض النتائج
    showMultiAnswerResult(isCorrect, question.correct);
  } else {
    // المنطق الأصلي للأسئلة ذات الإجابة الواحدة
    showCorrectAnswer();
  }
  
  // تعطيل جميع الخيارات
  const options = document.querySelectorAll(".options li");
  options.forEach(option => {
    option.style.pointerEvents = "none";
    option.setAttribute("tabindex", "-1");
  });
  
  // تغيير زر الإرسال إلى زر التالي
  const submitBtn = document.getElementById("submit-btn");
  submitBtn.style.display = "none";
  
  // عرض زر الشرح
  const explainBtn = document.getElementById("explain-btn");
  explainBtn.style.display = "inline-block";
}

// التقدم إلى السؤال التالي
function nextQuestion() {
  currentQuestionIndex++;
  
  if (currentQuestionIndex < questions.length) {
    loadQuestion();
  } else {
    finishQuiz();
  }
}

// إنهاء الاختبار
function finishQuiz() {
  clearInterval(timer);
  questionContainer.style.display = "none";
  resultSection.style.display = "block";
  progressIndicator.style.display = "none";
  
  displayResults();
  scrollToTop();
}





















// عرض النتائج
function displayResults() {
  let correctAnswersCount = 0;
  resultsContainer.innerHTML = "";
  
  questions.forEach((question, index) => {
    let isCorrect;
    
    if (question.type === "multi") {
      isCorrect = arraysEqual(selectedAnswers[index], question.correct);
    } else {
      isCorrect = selectedAnswers[index] === question.correct[0];
    }
    
    if (isCorrect) correctAnswersCount++;
    
    const reviewClass = isCorrect ? "correct" : "incorrect";
    const reviewText = isCorrect ? "إجابة صحيحة" : "إجابة خاطئة";
    
    // إعداد عرض الإجابات للمستخدم
    let userAnswerText;
    if (question.type === "multi" && selectedAnswers[index] && selectedAnswers[index].length > 0) {
      userAnswerText = selectedAnswers[index].map(i => question.options[i]).join("، ");
    } else if (selectedAnswers[index] !== undefined) {
      userAnswerText = question.options[selectedAnswers[index]];
    } else {
      userAnswerText = "لم يتم الإجابة";
    }
    
    // إعداد الإجابات الصحيحة
    let correctAnswerText = question.correct.map(i => question.options[i]).join("، ");
    resultsContainer.innerHTML += `
  <div class="question-review ${reviewClass}">
    <h3>السؤال ${index + 1}: ${question.text}</h3>
    <p class="user-answer">إجابتك: ${userAnswerText}</p>
    ${!isCorrect ? `<p class="correct-answer">الإجابة الصحيحة: ${correctAnswerText}</p>` : ''}
    <div class="explanation">
      <p><strong>الشرح:</strong> ${question.explanation}</p>
      <p><strong>الوقت المستغرق:</strong> ${formatTime(question.timeSpent)}</p>
      <button class="long-explanation-btn" onclick="showLongExplanation(${index})">
        <i class="fas fa-book-open"></i> عرض شرح مفصل
      </button>





      <button class="btn" style="background: #0004ec; z-index: 100022;" 
        id="eldarsBtn" aria-label="فتح ملخص الدرس">
    <i class="fas fa-book"></i>
    <span>فتح ملخص الدرس</span>
</button>

    </div>
  </div>
`;
  });
  
  // حساب النسبة المئوية
  const percentage = Math.round((correctAnswersCount / questions.length) * 100);
  
  // عرض النتيجة
  scoreDisplay.textContent = `${correctAnswersCount} / ${questions.length} (${percentage}%)`;
  progressBar.style.width = `${percentage}%`;
  
  // عرض إحصائيات الوقت
  totalTimeElement.textContent = formatTime(totalTime);
  
  const averageTime = Math.round(totalTime / questions.length);
  averageTimeElement.textContent = formatTime(averageTime);
  
  const fastestTime = Math.min(...timePerQuestion);
  fastestTimeElement.textContent = formatTime(fastestTime);
  
  const slowestTime = Math.max(...timePerQuestion);
  slowestTimeElement.textContent = formatTime(slowestTime);
  
  // عرض الرسم البياني
  renderResultsChart(correctAnswersCount, questions.length - correctAnswersCount);
}

// عرض الإجابة الصحيحة
function showCorrectAnswer() {
  const question = questions[currentQuestionIndex];
  const options = document.querySelectorAll(".options li");
  
  options.forEach((option, index) => {
    if (question.correct.includes(index)) {
      option.classList.add("correct");
      const correctMark = option.querySelector(".correct-mark");
      if (correctMark) correctMark.style.display = "block";
    } else if ((Array.isArray(selectedAnswers[currentQuestionIndex]) && 
               selectedAnswers[currentQuestionIndex].includes(index)) || 
               selectedAnswers[currentQuestionIndex] === index) {
      option.classList.add("incorrect");
    }
  });
}

// عرض نتائج الأسئلة متعددة الإجابات
function showMultiAnswerResult(isCorrect, correctAnswers) {
  const options = document.querySelectorAll(".options li");
  
  options.forEach((option, index) => {
    if (correctAnswers.includes(index)) {
      option.classList.add("correct");
      const correctMark = option.querySelector(".correct-mark");
      if (correctMark) correctMark.style.display = "block";
    }
    
    if (selectedAnswers[currentQuestionIndex] && 
        selectedAnswers[currentQuestionIndex].includes(index) && 
        !correctAnswers.includes(index)) {
      option.classList.add("incorrect");
    }
  });
}

// دالة مساعدة لمقارنة المصفوفات
function arraysEqual(a, b) {
  if (!a || !b) return false;
  if (a.length !== b.length) return false;
  
  const sortedA = [...a].sort();
  const sortedB = [...b].sort();
  
  return sortedA.every((val, index) => val === sortedB[index]);
}

// عرض شرح السؤال
function showExplanation() {
  const question = questions[currentQuestionIndex];
  
  document.getElementById("modal-title").textContent = "شرح السؤال";
  document.getElementById("explanation-text").innerHTML = `
    <p><strong>السؤال:</strong> ${question.text}</p>
    <p><strong>الإجابة الصحيحة:</strong> ${question.correct.map(i => question.options[i]).join("، ")}</p>
    <p><strong>الشرح:</strong> ${question.explanation}</p>
    <p><strong>الوقت المستغرق:</strong> ${formatTime(question.timeSpent)}</p>
  `;
  
  document.getElementById("explanation-modal").classList.add("active");
}

// إغلاق نافذة الشرح
function closeExplanation() {
  document.getElementById("explanation-modal").classList.remove("active");
  nextQuestion();
}

// عرض نافذة الدرس التعليمي
function showLessonModal() {
  document.getElementById("lesson-modal").classList.add("active");
}

// إغلاق نافذة الدرس التعليمي
function closeLessonModal() {
  document.getElementById("lesson-modal").classList.remove("active");
}

// عرض/إخفاء لوحة المعلومات
function toggleInfoPanel() {
  infoPanel.classList.toggle("active");
}

// إغلاق لوحة المعلومات
function closeInfoPanel() {
  infoPanel.classList.remove("active");
}

// عرض الرسم البياني للنتائج
function renderResultsChart(correct, incorrect) {
  const ctx = document.getElementById('results-chart').getContext('2d');
  
  // إذا كان هناك رسم بياني موجود، قم بتدميره أولاً
  if (window.resultsChart) {
    window.resultsChart.destroy();
  }
  
  window.resultsChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: ['الإجابات الصحيحة', 'الإجابات الخاطئة'],
      datasets: [{
        data: [correct, incorrect],
        backgroundColor: [
          'rgba(46, 204, 113, 0.8)',
          'rgba(231, 76, 60, 0.8)'
        ],
        borderColor: [
          'rgba(46, 204, 113, 1)',
          'rgba(231, 76, 60, 1)'
        ],
        borderWidth: 1
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'bottom',
          rtl: true,
          labels: {
            usePointStyle: true,
            padding: 20,
            font: {
              family: 'Tajawal',
              size: 14
            }
          }
        }
      },
      cutout: '70%'
    }
  });
}

// بدء المؤقت
function startTimer() {
  timeLeft = quizDuration;
  updateTimerDisplay();
  
  timer = setInterval(function() {
    if (timeLeft <= 0) {
      clearInterval(timer);
      finishQuiz();
      
      // تنبيه بانتهاء الوقت
      Swal.fire({
        title: 'انتهى الوقت!',
        text: 'لقد انتهى الوقت المخصص للاختبار',
        icon: 'warning',
        confirmButtonText: 'حسناً'
      });
    } else {
      timeLeft--;
      updateTimerDisplay();
      
      // تنبيه عند اقتراب انتهاء الوقت
      if (timeLeft === 60) {
        Swal.fire({
          title: 'تنبيه!',
          text: 'تبقى دقيقة واحدة فقط لإنهاء الاختبار',
          icon: 'warning',
          confirmButtonText: 'حسناً'
        });
      }
    }
  }, 1000);
}

// تحديث عرض المؤقت
function updateTimerDisplay() {
  timerElement.textContent = formatTime(timeLeft);
  
  // تغيير لون المؤقت عند اقتراب النهاية
  if (timeLeft <= 60) {
    timerElement.style.color = '#ff6b6b';
  } else {
    timerElement.style.color = 'white';
  }
}

// تنسيق الوقت
function formatTime(seconds) {
  const mins = Math.floor(seconds / 60);
  const secs = seconds % 60;
  return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
}

// إعادة الاختبار
function restartQuiz() {
  Swal.fire({
    title: 'هل تريد إعادة الاختبار؟',
    text: "سيتم حذف جميع النتائج الحالية",
    icon: 'warning',
    showCancelButton: true,
    confirmButtonColor: '#3085d6',
    cancelButtonColor: '#d33',
    confirmButtonText: 'نعم، أعد الاختبار',
    cancelButtonText: 'إلغاء'
  }).then((result) => {
    if (result.isConfirmed) {
      startQuiz();
    }
  });
}

// اقتراح تحسينات
suggestBtn.addEventListener('click', function() {
  Swal.fire({
    title: 'اقترح تحسينات للاختبار',
    input: 'textarea',
    inputPlaceholder: 'أدخل اقتراحاتك هنا...',
    showCancelButton: true,
    confirmButtonText: 'إرسال',
    cancelButtonText: 'إلغاء',
    inputValidator: (value) => {
      if (!value) {
        return 'يجب إدخال اقتراح!';
      }
    }
  }).then((result) => {
    if (result.isConfirmed) {
      Swal.fire(
        'شكراً لك!',
        'تم استلام اقتراحك بنجاح وسيتم دراسته.',
        'success'
      );
    }
  });
});

// التمرير للأعلى
window.addEventListener('scroll', function() {
  if (window.pageYOffset > 300) {
    backToTopBtn.classList.add('visible');
  } else {
    backToTopBtn.classList.remove('visible');
  }
});

backToTopBtn.addEventListener('click', function() {
  scrollToTop();
});

function scrollToTop() {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
}

// تحميل الصور مسبقاً
function preloadImages() {
  const images = [];
  allQuestions.forEach(question => {
    if (question.image) {
      const img = new Image();
      img.src = question.image;
      images.push(img);
    }
  });
}

// الانتقال إلى الأعلى عند تحميل الصفحة
window.addEventListener('load', function() {
  scrollToTop();
  preloadImages();
  
  // إضافة إمكانية إغلاق لوحة المعلومات بالضغط على ESC
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' && infoPanel.classList.contains('active')) {
      closeInfoPanel();
    }
  });
});

// جعل الدوال متاحة عالمياً للاستدعاء من HTML
window.selectOption = selectOption;
window.submitAnswer = submitAnswer;
window.showExplanation = showExplanation;
window.nextQuestion = nextQuestion;
window.restartQuiz = restartQuiz;
window.closeExplanation = closeExplanation;
window.closeLessonModal = closeLessonModal;
window.showLessonModal = showLessonModal;
window.toggleInfoPanel = toggleInfoPanel;
window.closeInfoPanel = closeInfoPanel;
window.scrollToTop = scrollToTop;

</script>





















<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام الأزرار داخل القائمة الجانبية</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* ألوان رئيسية */
            --primary-color: #4CAF50;
            --eldars-color: #8e44ad;
            --search-color: #2980b9;
            --speech-color: #e91e63;
            --contact-color: #f48fb1;
            --flashcard-color: #d5a6e5;
            --warning-color: #e91e63;
            --success-color: #2ecc71;
            --light-bg: #f5f5f5;
            --white: #fff;
            --shadow: 0 3px 6px rgba(0, 0, 0, 0.16);
            --transition: all 0.3s ease;
        }

        /* التنسيق العام */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--light-bg);
            transition: margin-right 0.3s ease;
        }
        
        /* لوحة المعلومات الجانبية */
        .info-panel {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            max-width: 90%;
            height: 100vh;
            background-color: var(--white);
            box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
            padding: 20px;
            overflow-y: auto;
            z-index: 1000;
            transition: var(--transition);
        }
        
        .info-panel.show {
            right: 0;
        }
        
        .close-panel {
            position: absolute;
            left: 15px;
            top: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #555;
        }
        
        .info-panel h3 {
            color: #333;
            margin: 15px 0 10px;
            font-size: 18px;
        }
        
        .info-panel ul {
            list-style: none;
            padding-right: 15px;
        }
        
        .info-panel li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        /* نظام الأزرار داخل اللوحة */
        .button-system {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0;
        }
        
        .panel-btn {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border-radius: 8px;
            background-color: #f8f8f8;
            border: 1px solid #e0e0e0;
            cursor: pointer;
            transition: var(--transition);
            text-align: right;
            width: 100%;
        }
        
        .panel-btn:hover {
            background-color: #f0f0f0;
            transform: translateX(-5px);
        }
        
        .panel-btn i {
            margin-left: 10px;
            font-size: 20px;
            width: 25px;
            text-align: center;
        }
        
        /* تخصيص ألوان الأزرار */
        .eldars-btn { color: var(--eldars-color); border-right: 3px solid var(--eldars-color); }
        .search-btn { color: var(--search-color); border-right: 3px solid var(--search-color); }
        .speech-btn { color: var(--speech-color); border-right: 3px solid var(--speech-color); }
        .contact-btn { color: var(--contact-color); border-right: 3px solid var(--contact-color); }
        .flashcard-btn { color: var(--flashcard-color); border-right: 3px solid var(--flashcard-color); }
        
        /* زر فتح اللوحة الجانبية */
        .toggle-panel-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            font-size: 20px;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: var(--transition);
        }
        
        .toggle-panel-btn:hover {
            transform: scale(1.1);
        }
        
        /* نافذة البحث */
        .search-bubble {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 500px;
            background: var(--white);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            padding: 15px;
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.8);
            transform-origin: center;
            transition: var(--transition);
            z-index: 1001;
            display: none;
        }
        
        .search-bubble.show {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
            display: block;
        }
        
        .search-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        
        .search-results {
            max-height: 200px;
            overflow-y: auto;
        }
        
        /* نافذة التواصل */
        .popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--white);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            width: 90%;
            max-width: 400px;
        }
        
        .popup-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .popup-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
        }
        
        /* نافذة الدرس */
        .eldars-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 1000px;
            height: 100vh;
            background: var(--white);
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            overflow: hidden;
        }
        
        .eldars-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: var(--eldars-color);
            color: var(--white);
        }
        
        .eldars-title {
            font-size: 18px;
            font-weight: bold;
        }
        
        .close-eldars {
            background: none;
            border: none;
            color: var(--white);
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            line-height: 1;
        }
        
        .eldars-content {
            height: calc(100% - 53px);
            overflow: hidden;
        }
        
        .eldars-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* نصائح للاختبار */
        .tips-section {
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .tips-section li {
            margin-bottom: 5px;
        }
        
        .btn-primary {
            padding: 10px 20px;
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .btn-primary:hover {
            background-color: #3e8e41;
        }
        
        /* التكيف مع الشاشات الصغيرة */
        @media (max-width: 768px) {
            .info-panel {
                width: 90%;
            }
            
            .panel-btn {
                padding: 10px 12px;
                font-size: 14px;
            }
            
            .panel-btn i {
                font-size: 18px;
            }
            
            .eldars-popup {
                height: 70vh;
            }
        }
    </style>
</head>
<body>
    <!-- زر فتح اللوحة الجانبية -->


    <button class="toggle-panel-btn" id="togglePanelBtn" aria-label="فتح/إغلاق لوحة المعلومات">
      <i class="fas fa-info-circle"></i>
  </button>
    
    <!-- لوحة المعلومات الجانبية -->
    <aside class="info-panel" id="infoPanel" aria-hidden="true">
      <button class="btn-primary" style="float: left;" onclick="closeInfoPanel()" id="closePanel" aria-label="إغلاق اللوحة">&times;</button>
        
        <h3 style="color: #b22222; background: linear-gradient(90deg, #fff5f5, #ffd6d6); border: 2px solid #b22222; padding: 12px 20px; border-radius: 10px; display: inline-flex; align-items: center; gap: 12px; font-weight: bold; box-shadow: 0 4px 8px rgba(178, 34, 34, 0.3); font-size: 1.3rem; user-select: none;"><span style="font-size: 1.6rem;">⚠️</span> زر التحذير يرجى عدم تفويته من طرف أي مسلم</h3>

        
        <!-- نظام الأزرار داخل اللوحة -->
        <div class="button-system">

<button 
  class="panel-btn eldars-btn" 
  aria-label="زر تحذير"
  onclick="_f1()"
  style="background: linear-gradient(135deg, #ff0000, #c00000); color: white; border-radius: 8px; border: none; padding: 10px 18px; font-size: 16px; font-weight: 600; display: inline-flex; align-items: center; gap: 8px; cursor: pointer; box-shadow: 0 3px 6px rgba(255, 0, 0, 0.6); transition: background-color 0.3s ease, box-shadow 0.3s ease;"
>
  <i class="fas fa-exclamation-triangle"></i>
  <span>تحذير</span>
</button>



            <button class="panel-btn eldars-btn" id="eldarsBtn" aria-label="فتح ملخص الدرس">
                <i class="fas fa-book"></i>
                <span>فتح ملخص الدرس</span>
            </button>
            
            <button class="panel-btn search-btn" id="searchBtn" aria-label="البحث الذكي">
                <i class="fas fa-search"></i>
                <span>البحث الذكي</span>
            </button>
            
            <button class="panel-btn speech-btn" id="speechBtn" aria-label="تفعيل القلم الناطق">
                <i class="fas fa-microphone-alt"></i>
                <span>تفعيل القلم الناطق</span>
            </button>
            
            <button class="panel-btn contact-btn" id="contactBtn" aria-label="الدعم الفني">
                <i class="fas fa-headset"></i>
                <span>الدعم الفني</span>
            </button>
            
         <a href="FLASHCARD_MED02_U5_HISTOLOGY_حاسة الشم.html"    style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 20px; background-color: #4B0082; color: white; border: none; border-radius: 8px; text-decoration: none; font-size: 16px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease;"
 class="panel-btn flashcard-btn" aria-label="البطاقات التعليمية">
    <i class="far fa-copy"></i>
    <span>البطاقات التعليمية الخاص بالدرس </span>
</a>



<a href="FLASHCARD_PAGE_MED_02.html"
   aria-label="انتقل لموقع البطاقات التعليمية"
   style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 20px; background-color: #110a9c; color: white; border: none; border-radius: 8px; text-decoration: none; font-size: 16px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease;"
   onmouseover="this.style.backgroundColor='#36005c';"
   onmouseout="this.style.backgroundColor='#4B0082';">
  <i class="fas fa-clone" style="font-size: 18px;"></i>
  <span>انتقل لموقع البطاقات التعليمية</span>
</a>


        </div>
        
        <h3>
            <i class="fas fa-plus" style="color: var(--flashcard-color);"></i>
            وظائف الأزرار:
        </h3>
        <ul>



            <li><i class="fas fa-book" style="color: var(--eldars-color);"></i> أيقونة الدرس: تفتح ملخصًا مصغرًا للدرس.</li>
            <li><i class="fas fa-search" style="color: var(--search-color);"></i> أيقونة البحث الذكي: تفتح نافذة بحث بثلاث لغات (العربية، الفرنسية، الإنجليزية).</li>
            <li><i class="fas fa-microphone-alt" style="color: var(--speech-color);"></i> أيقونة الميكروفون: لتفعيل القلم الناطق، اضغط مرة أخرى لإيقافه.</li>
            <li><i class="fas fa-headset" style="color: var(--contact-color);"></i> أيقونة الدعم الفني: تعرض وسائل التواصل معنا.</li>
            <li><i class="far fa-copy" style="color: var(--flashcard-color);"></i> أيقونة البطاقات: تنقلك إلى الفلاش كارد (تتطلب دخول منطقة الدرس لتفعيلها).</li>
<li>
  <i class="far fa-copy" style="color: #110a9c;"></i>
  أيقونة البطاقات: تنقلك إلى موقع الفلاش كارد (تتطلب دخول منطقة الدرس لتفعيلها).
</li>


          </ul>
        
        <!-- نصائح للاختبار -->
        <div class="tips-section">
            <h3>
      
              <div style="background-color: #e8f5e9; padding: 15px; border-radius: 8px; font-family: Arial, sans-serif; font-size: 14px;">
                <h3>
                  <i class="fas fa-lightbulb" style="color: #f1c40f; margin-right: 5px;"></i>
                  نصائح للاختبار:
                </h3>
                <ul style="list-style: none; padding-left: 0;">
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> توكل على الله وقل بسم الله.</li>
                  
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> اقرأ الأسئلة بعناية وتمعّن قبل الإجابة.</li>
              
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> ركّز على الفروقات الدقيقة بين الخيارات المتشابهة.</li>
              
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> 
                    لا تلجأ للغش لكونه 
                    <span style="color: red; font-weight: bold;">حرامًا</span>، لأن علينا أن ننظر لمن عصينا لا لحجم المعصية.
                    <br><br>
                    واعلم أنّك إذا سمعت إجابة شيء من أسئلة الامتحان دون قصد، فلا حرج عليك في كتابة هذا الجواب، ولا يكون ذلك داخلاً في الغش المحرم.
                    <br><br>
                    وقد سئل الشيخ ابن عثيمين -رحمه الله- عن الطالب في قاعة الاختبار، يسمع بلا قصد منه إجابة سؤال ممن حوله من الطلبة لم يكن يعرفه، فهل يجوز له كتابته أم لا؟
                    <br>
                    فأجاب، بأن ذلك <span style="color: green; font-weight: bold;">جائز</span>، لأنه لم يتعمد الإثم والمخالفة.
                    <br>
                    <a href="https://www.islamweb.net/ar/fatwa/367432" target="_blank" style="color: #3498db;">المصدر - إسلام ويب</a>
                    <br><br>
                    ومن فتاوى ابن باز -رحمه الله-:
                    <br>
                    الغش في الامتحان <span style="color: red; font-weight: bold;">محرم</span> ومنكر كالغش في المعاملات، وقد يكون أعظم لأنه قد يحصل به على مناصب لا يستحقها.
                    <br><br>
                    قال ﷺ: <em>"من غشنا فليس منا"</em> (رواه مسلم).
                    <br>
                    وقال تعالى: 
                    <em>﴿يَا أَيُّهَا الَّذِينَ آمَنُوا لا تَخُونُوا اللَّهَ وَالرَّسُولَ وَتَخُونُوا أَمَانَاتِكُمْ وَأَنتُمْ تَعْلَمُونَ﴾</em> [الأنفال: 27]
                    <br>
                    <a href="https://binbaz.org.sa/fatwas/18288" target="_blank" style="color: #3498db;">المصدر - موقع ابن باز</a>
          
          
                    <h4 style="font-family: 'Tahoma', sans-serif; color: #333;">
                      <i class="fas fa-volume-up" style="color: #9b59b6; margin-right: 5px;"></i>
                      استمع إلى فتوى الشيخ ابن باز رحمه الله حول الغش:
                    </h4>
                    
                    <audio controls style="width: 100%; margin-top: 10px; border-radius: 8px;">
                      <source src="ghish_ibn_baz.mp3" type="audio/mpeg">
                      متصفحك لا يدعم تشغيل الملفات الصوتية.
                    </audio>
                    
                    
                    <br><br>
                    <a href="https://www.islamweb.net/ar/fatwa/345952" target="_blank" style="color: #3498db;">المزيد - إسلام ويب</a>
                   
                   
                    <div style="background-color: #fefbe9; border-left: 4px solid #f1c40f; padding: 15px; border-radius: 6px; font-family: 'Arial', sans-serif; font-size: 14px; margin-top: 20px;">
                      <i class="fas fa-quote-left" style="color: #f39c12; margin-right: 5px;"></i>
                      <strong>حديث عن الغش:</strong>
                      <br><br>
                      أنَّ رَسولَ اللهِ صَلَّى اللَّهُ عليه وسلَّمَ مَرَّ علَى صُبْرَةِ طَعامٍ فأدْخَلَ يَدَهُ فيها، فَنالَتْ أصابِعُهُ بَلَلًا فقالَ: ما هذا يا صاحِبَ الطَّعامِ؟ قالَ أصابَتْهُ السَّماءُ يا رَسولَ اللهِ، قالَ: أفَلا جَعَلْتَهُ فَوْقَ الطَّعامِ كَيْ يَراهُ النَّاسُ، مَن غَشَّ فليسَ مِنِّي.
                      <br><br>
                      الراوي : أبو هريرة | المحدث : مسلم | المصدر : صحيح مسلم<br>
                      الصفحة أو الرقم: 102 | خلاصة حكم المحدث : [صحيح]<br>
                      التخريج : من أفراد مسلم على البخاري
                      <br><br>
                      <a href="https://dorar.net/hadith/sharh/60453" target="_blank" style="color: #2980b9;">المصدر: dorar.net</a>
                    </div>
                    <br><br>
                    فالفشل أحيانًا بداية للتعلّم الحقيقي كما يمكنك البحث اكثر في الموضوع .  
                  </li>
                  <br>
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> خذ نفسًا عميقًا قبل البدء، وابقَ هادئًا طوال الوقت.</li>
              
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> إذا لم تعرف الإجابة، انتقل للسؤال التالي ثم عد لاحقًا.</li>
              
                  <li><i class="fas fa-check-circle" style="color: #2ecc71; margin-right: 5px;"></i> استعن بالله، وابذل جهدك، والباقي على الله.</li>
                </ul>
              </div>
              
              
              
          
        
        <div style="text-align: center; margin-top: 20px;">
            <button class="btn-primary" onclick="closeInfoPanel()">
                حسناً، فهمت
            </button>
        </div>
    </aside>
    
    <!-- نافذة البحث -->
    <div class="search-bubble" id="searchBubble" aria-hidden="true">
        <div class="popup-header">
            <h4 style="margin: 0;">البحث في الموقع</h4>
            <button class="popup-close" id="closeBubble" aria-label="إغلاق نافذة البحث">&times;</button>
        </div>
        <input type="text" class="search-input" id="searchInput" placeholder="اكتب كلمة البحث...">
        <div class="search-results" id="searchResults"></div>
    </div>
    
    <!-- نافذة التواصل -->
    <div class="popup" id="popupCONTACT" aria-hidden="true">
        <button class="popup-close" id="closeContactBtn" aria-label="إغلاق نافذة التواصل">&times;</button>
        <h3 style="text-align: center; margin-bottom: 15px;">📩 تواصل معنا</h3>
        <p style="text-align: center; margin-bottom: 20px;">في حالة توفر مشكلة أو لديك اقتراح سواء حول اختبار أو غيره تواصل معنا</p>
        
        <div style="display: flex; flex-direction: column; gap: 10px;">
            <a href="http://t.me/ADATEALM_bot" target="_blank" rel="noopener noreferrer" style="display: block; padding: 10px; background-color: #0088cc; color: white; text-align: center; border-radius: 5px; text-decoration: none;">
                <i class="fab fa-telegram"></i> بوت تيليغرام
            </a>
            
            <a href="https://t.me/adatealm" target="_blank" rel="noopener noreferrer" style="display: block; padding: 10px; background-color: #0088cc; color: white; text-align: center; border-radius: 5px; text-decoration: none;">
                <i class="fab fa-telegram"></i> تيليغرام
            </a>
            
            <a href="https://www.facebook.com/share/1BFTe2mWNL/" target="_blank" rel="noopener noreferrer" style="display: block; padding: 10px; background-color: #3b5998; color: white; text-align: center; border-radius: 5px; text-decoration: none;">
                <i class="fab fa-facebook"></i> فيسبوك
            </a>
            
            <a href="https://www.instagram.com/adat_ealm?igsh=djg1eXlwMTJvM2xw" target="_blank" rel="noopener noreferrer" style="display: block; padding: 10px; background-color: #e4405f; color: white; text-align: center; border-radius: 5px; text-decoration: none;">
                <i class="fab fa-instagram"></i> إنستغرام
            </a>
        </div>
    </div>
    
    <!-- نافذة الدرس -->
    <div class="eldars-popup" id="eldarsPopup" aria-hidden="true">
        <div class="eldars-header">
            <div class="eldars-title">ملخص الدرس</div>
            <button class="close-eldars" id="closeEldars" aria-label="إغلاق نافذة الدرس">×</button>
        </div>
        <div class="eldars-content">
            <iframe class="eldars-iframe" src="🔻EL MOLAKHS_MED02_U5_HISTOLOGY_حاسة الشم.html" title="ملخص الدرس"></iframe>
        </div>
    </div>
 

    <script>
        // كائن التطبيق الرئيسي
        const app = {
            // حالة التطبيق
            state: {
                isPanelOpen: false,
                isSearchOpen: false,
                isContactOpen: false,
                isEldarsOpen: false,
                isSpeechActive: false
            },
            
            // تهيئة التطبيق
            init() {
                this.cacheElements();
                this.bindEvents();
            },
            
            // تخزين عناصر DOM
            cacheElements() {
                this.elements = {
                    togglePanelBtn: document.getElementById('togglePanelBtn'),
                    infoPanel: document.getElementById('infoPanel'),
                    closePanel: document.getElementById('closePanel'),
                    searchBtn: document.getElementById('searchBtn'),
                    speechBtn: document.getElementById('speechBtn'),
                    contactBtn: document.getElementById('contactBtn'),
                    flashcardBtn: document.getElementById('flashcardBtn'),
                    eldarsBtn: document.getElementById('eldarsBtn'),
                    searchBubble: document.getElementById('searchBubble'),
                    closeBubble: document.getElementById('closeBubble'),
                    popupCONTACT: document.getElementById('popupCONTACT'),
                    closeContactBtn: document.getElementById('closeContactBtn'),
                    eldarsPopup: document.getElementById('eldarsPopup'),
                    closeEldars: document.getElementById('closeEldars'),
                    searchInput: document.getElementById('searchInput'),
                    searchResults: document.getElementById('searchResults')
                };
            },
            
            // ربط الأحداث
            bindEvents() {
                // استخدام تفويض الأحداث للحد من عدد معالجات الأحداث
                document.body.addEventListener('click', (e) => {
                    const { target } = e;
                    
                    // فتح/إغلاق اللوحة الجانبية
                    if (target === this.elements.togglePanelBtn || target.closest('#togglePanelBtn')) {
                        this.togglePanel();
                    } else if (target === this.elements.closePanel || target.closest('#closePanel')) {
                        this.closePanel();
                    }
                    
                    // معالجة أزرار اللوحة الجانبية
                    else if (target === this.elements.searchBtn || target.closest('#searchBtn')) {
                        this.toggleSearch();
                    } else if (target === this.elements.speechBtn || target.closest('#speechBtn')) {
                        this.toggleSpeech();
                    } else if (target === this.elements.contactBtn || target.closest('#contactBtn')) {
                        this.toggleContact();
                    } else if (target === this.elements.flashcardBtn || target.closest('#flashcardBtn')) {
                        this.goToFlashCard();
                    } else if (target === this.elements.eldarsBtn || target.closest('#eldarsBtn')) {
                        this.toggleEldarsPopup();
                    }
                    
                    // إغلاق النوافذ المنبثقة
                    else if (target === this.elements.closeBubble || target.closest('#closeBubble')) {
                        this.closeSearch();
                    } else if (target === this.elements.closeContactBtn || target.closest('#closeContactBtn')) {
                        this.closeContact();
                    } else if (target === this.elements.closeEldars || target.closest('#closeEldars')) {
                        this.closeEldarsPopup();
                    }
                    
                    // إغلاق النوافذ عند النقر خارجها
                    else if (this.state.isSearchOpen && target === this.elements.searchBubble) {
                        this.closeSearch();
                    } else if (this.state.isContactOpen && target === this.elements.popupCONTACT) {
                        this.closeContact();
                    } else if (this.state.isEldarsOpen && target === this.elements.eldarsPopup) {
                        this.closeEldarsPopup();
                    }
                });
                
                // البحث عند الكتابة
                this.elements.searchInput.addEventListener('input', this.handleSearch.bind(this));
            },
            
            // وظائف التطبيق
            togglePanel() {
                this.state.isPanelOpen = !this.state.isPanelOpen;
                this.elements.infoPanel.classList.toggle('show', this.state.isPanelOpen);
                this.elements.infoPanel.setAttribute('aria-hidden', !this.state.isPanelOpen);
            },
            
            closePanel() {
                this.state.isPanelOpen = false;
                this.elements.infoPanel.classList.remove('show');
                this.elements.infoPanel.setAttribute('aria-hidden', true);
            },
            
            toggleSearch() {
                this.state.isSearchOpen = !this.state.isSearchOpen;
                
                if (this.state.isSearchOpen) {
                    this.elements.searchBubble.classList.add('show');
                    this.elements.searchBubble.setAttribute('aria-hidden', false);
                    this.elements.searchInput.focus();
                } else {
                    this.closeSearch();
                }
            },
            
            closeSearch() {
                this.state.isSearchOpen = false;
                this.elements.searchBubble.classList.remove('show');
                this.elements.searchBubble.setAttribute('aria-hidden', true);
            },
            
            toggleSpeech() {
                this.state.isSpeechActive = !this.state.isSpeechActive;
                alert(`تم ${this.state.isSpeechActive ? 'تفعيل' : 'إيقاف'} القلم الناطق`);
            },
            
            toggleContact() {
                this.state.isContactOpen = !this.state.isContactOpen;
                this.elements.popupCONTACT.style.display = this.state.isContactOpen ? 'block' : 'none';
                this.elements.popupCONTACT.setAttribute('aria-hidden', !this.state.isContactOpen);
            },
            
            closeContact() {
                this.state.isContactOpen = false;
                this.elements.popupCONTACT.style.display = 'none';
                this.elements.popupCONTACT.setAttribute('aria-hidden', true);
            },
            
            goToFlashCard() {
                document.getElementById('flashcard-section').scrollIntoView({ 
                    behavior: 'smooth' 
                });
                this.closePanel();
            },
            
            toggleEldarsPopup() {
                this.closePanel();
                this.state.isEldarsOpen = true;
                this.elements.eldarsPopup.style.display = 'block';
                this.elements.eldarsPopup.setAttribute('aria-hidden', false);
            },
            
            closeEldarsPopup() {
                this.state.isEldarsOpen = false;
                this.elements.eldarsPopup.style.display = 'none';
                this.elements.eldarsPopup.setAttribute('aria-hidden', true);
            },
            
            handleSearch() {
                const query = this.elements.searchInput.value.trim();
                
                if (query.length < 2) {
                    this.elements.searchResults.innerHTML = '';
                    return;
                }
                
                // هنا يمكنك إضافة منطق البحث الفعلي
                this.elements.searchResults.innerHTML = `
                    <div style="padding: 10px; text-align: center;">
                        نتائج البحث عن: "${query}"
                    </div>
                `;
            }
        };
        
        // بدء تشغيل التطبيق
        document.addEventListener('DOMContentLoaded', () => app.init());
    </script>
</body>
</html>




























































































































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>زر عائم متعدد الأزرار</title>
    <style>
        /* تنسيق عام */
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            height: 200vh; /* لجعل الصفحة قابلة للتمرير */
        }
        
        /* الزر العائم الرئيسي */
        .floati232ng-main-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 56px;
            height: 56px;
            background-color: #4CAF50;
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transition: all 0.3s ease;
            font-size: 24px;
            border: none;
        }
        
        .floati232ng-main-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        
        /* قائمة الأزرار الفرعية */
        .sub-buttons {
            position: fixed;
            bottom: 86px;
            left: 20px;
            display: none;
            flex-direction: column;
            gap: 12px;
            z-index: 999;
            transition: all 0.3s ease;
        }
        
        .sub-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: #2196F3;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16);
            transition: all 0.3s ease;
            font-size: 20px;
            border: none;
        }
        
        .sub-btn:nth-child(1) { background-color: #2196F3; } /* أزرق */
        .sub-btn:nth-child(2) { background-color: #FF9800; } /* برتقالي */
        .sub-btn:nth-child(3) { background-color: #E91E63; } /* وردي */
        .sub-btn:nth-child(4) { background-color: #9C27B0; } /* بنفسجي */
        .sub-btn:nth-child(5) { background-color: #607D8B; } /* رمادي */
        
        .sub-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }
        
        /* تأثير الظهور */
        .show-sub-buttons {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* تأثير الدوران للزر الرئيسي */
        .rotate-plus {
            transform: rotate(45deg);
        }
        
        /* رسالة التأكيد */
        .confirmation-message {
            position: fixed;
            bottom: 160px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            z-index: 1100;
            display: none;
            animation: fadeIn 0.3s ease-out;
        }
        
        /* تعديلات للهواتف */
        @media (max-width: 480px) {
            .floati232ng-main-btn {
                width: 52px;
                height: 52px;
                font-size: 22px;
                bottom: 15px;
                left: 15px;
            }
            
            .sub-buttons {
                bottom: 77px;
                left: 15px;
                gap: 10px;
            }
            
            .sub-btn {
                width: 44px;
                height: 44px;
                font-size: 18px;
            }
            
            .confirmation-message {
                bottom: 140px;
                font-size: 13px;
                padding: 8px 16px;
            }
        }
    </style>
</head>
<body>
    <!-- الزر العائم الرئيسي -->
    <button class="floati232ng-main-btn" id="mainBtn">+</button>
    
    <!-- قائمة الأزرار الفرعية -->
    <div class="sub-buttons" id="subButtons">
   


        <button  class="sub-btn" onclick="togglePopup('istighfarPopup')" data-message="تم الضغط على زر الأذكار">📿</button>
 <button  class="sub-btn" onclick="togglePopup('prayerPopup')"   data-message="تم الضغط على زر الصلاة">🕌</button>
<button class="sub-btn" onclick="togglePopup('settingsPopup')"    data-message="تم الضغط على زر الإعدادات">⚙️</button>
<button class="_x1" onclick="_f1()">⚠️</button>









   <div id="controlPanel">
            <button id="toggleButton">
                <span id="emoji">🌙</span>
                <span id="toggleText">تشغيل</span>
            </button>
            <label id="label" for="colorTempSlider">درجة حرارة اللون (1700K-2700K):</label>
            
            <div class="slider-container">
                <div class="color-spectrum"></div>
                <input type="range" id="colorTempSlider" min="1700" max="2700" step="100" value="2700">
                <div class="temp-labels">
                    <span>1700K</span>
                    <span>2000K</span>
                    <span>2300K</span>
                    <span>2700K</span>
                </div>
            </div>

    </div>
    
    <!-- رسالة التأكيد -->
    <div class="confirmation-message" id="confirmationMessage"></div>

    <script>
        const mainBtn = document.getElementById('mainBtn');
        const subButtons = document.getElementById('subButtons');
        const confirmationMessage = document.getElementById('confirmationMessage');
        
        // تبديل عرض الأزرار الفرعية
        mainBtn.addEventListener('click', function() {
            subButtons.classList.toggle('show-sub-buttons');
            mainBtn.classList.toggle('rotate-plus');
        });
        
        // إضافة أحداث لكل زر فرعي
        const subBtns = document.querySelectorAll('.sub-btn');
        subBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const message = this.getAttribute('data-message');
                showConfirmationMessage(message);
                
                // إغلاق قائمة الأزرار الفرعية بعد النقر
                subButtons.classList.remove('show-sub-buttons');
                mainBtn.classList.remove('rotate-plus');
            });
        });
        
        // إغلاق القائمة عند النقر خارجها
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.floati232ng-main-btn') && !e.target.closest('.sub-buttons')) {
                subButtons.classList.remove('show-sub-buttons');
                mainBtn.classList.remove('rotate-plus');
            }
        });
        
        // عرض رسالة التأكيد
        function showConfirmationMessage(message) {
            confirmationMessage.textContent = message;
            confirmationMessage.style.display = 'block';
            
            // إخفاء الرسالة بعد 2 ثانية
            setTimeout(() => {
                confirmationMessage.style.display = 'none';
            }, 2000);
        }
    </script>
</body>
</html>
















<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مواقيت الصلاة وأذكار الاستغفار</title>
    <style>
        :root {
        
            --secondary-color: #2196F3;
            --accent-color: #FF9800;
            --dark-color: #333;
            --light-color: #f5f5f5;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f9f9f9;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        /* تنسيق الأزرار العائمة */
        .floating-btn {
          position: fixed;
            width: 60px;
            height: 60px;
    
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transition: all 0.3s ease;
            font-size: 24px;
            color: white;
            border: none;
            user-select: none;
        }
        
        .floating-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }
        
        /* زر الاستغفار */
        .istighfar-btn {
            bottom: 90px;
            left: 15px; /* تغيير من right إلى left */
            background-color: var(--secondary-color);
        }
        
        /* زر الصلاة */
        .prayer-btn {
            bottom: 155px;
            left: 13px; /* تغيير من right إلى left */
            background-color: var(--primary-color);
        }
        
        /* زر الإعدادات */
        .settings-btn {
            bottom: 20px;
            right: 10px; /* تغيير من left إلى right */
            background-color: var(--accent-color);
        }
        
        /* النوافذ المنبثقة */
        .popup {
            position: fixed;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 1001;
            display: none;
            animation: fadeIn 0.3s ease-in-out;
            max-width: 95%;
            width: 350px;
            padding: 20px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-height: 90vh;
            overflow-y: auto;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(-50%, -45%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }
        
        .popup-header {
            text-align: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }
        
        .popup-title {
            font-size: 1.3rem;
            color: var(--dark-color);
            font-weight: bold;
        }
        
        .popup-content {
            margin: 15px 0;
        }
        
        .popup-footer {
            text-align: center;
            margin-top: 15px;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 5px;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-secondary {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .btn-accent {
            background-color: var(--accent-color);
            color: white;
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        /* تنسيق مواقيت الصلاة */
        .prayer-times-container {
            margin: 15px 0;
        }
        
        .city-selector {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ddd;
            margin-bottom: 15px;
            font-size: 16px;
        }
        
        .prayer-time {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            margin: 5px 0;
            background-color: #f5f5f5;
            border-radius: 8px;
        }
        
        .prayer-name {
            font-weight: bold;
        }
        
        .next-prayer {
            background-color: var(--primary-color);
            color: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            margin: 10px 0;
            font-weight: bold;
        }
        
        /* تنسيق الاستغفار */
        .istighfar-text {
            text-align: center;
            font-size: 1.5rem;
            margin: 15px 0;
            padding: 15px;
            background-color: #e3f2fd;
            border-radius: 10px;
            color: #0d47a1;
            font-weight: bold;
        }
        
        .ayah {
            text-align: center;
            padding: 10px;
            background: #e8f5e9;
            color: #2e7d32;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Amiri', serif;
            font-size: 1.1rem;
        }
        
        .hadith {
            text-align: center;
            padding: 10px;
            background: #fff3e0;
            color: #e65100;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Amiri', serif;
            font-size: 1rem;
        }
        
        /* تنسيق الإعدادات */
        .settings-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group input, .form-group select {
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }
        
        /* فقاعات الأذكار */
        .dhikr-bubble {
            position: fixed;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            padding: 15px;
            z-index: 999;
            opacity: 0;
            transition: opacity 0.3s ease;
            max-width: 250px;
            display: none;
        }
        
        .bubble-content {
            position: relative;
        }
        
        .close-bubble {
            position: absolute;
            top: -10px;
            left: -10px;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background-color: #ff4444;
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
        }
        
        /* للشاشات الصغيرة */
        @media (max-width: 480px) {
            .floating-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .popup {
                width: 90%;
                padding: 15px;
            }
        }
    </style>
</head>
<body>

<!-- الأزرار العائمة -->

<!-- نافذة الاستغفار -->
<div id="istighfarPopup" class="popup">
    <div class="popup-header">
        <h2 class="popup-title">أذكار الاستغفار والتسبيح</h2>
    </div>
    <div class="popup-content">
        <div class="istighfar-text" id="istighfarText">استغفر الله العظيم</div>
        
        <div class="ayah">
            <p>﴿ وَمَن يَعْمَلْ سُوءًا أَوْ يَظْلِمْ نَفْسَهُ ثُمَّ يَسْتَغْفِرِ اللَّهَ يَجِدِ اللَّهَ غَفُورًا رَّحِيمًا ﴾</p>
            <p>[ النساء: 110 ]</p>
        </div>
        
        <div class="hadith">
            <p>عنِ ابْنِ عَبَّاسٍ رضِي اللَّه عنْهُما قَال: قالَ رَسولُ اللَّهِ ﷺ: منْ لَزِم الاسْتِغْفَار، جَعَلَ اللَّه لَهُ مِنْ كُلِّ ضِيقٍ مخْرجًا، ومنْ كُلِّ هَمٍّ فَرجًا، وَرَزَقَهُ مِنْ حيْثُ لاَ يَحْتَسِبُ</p>
            <p style="font-size: 0.8rem; margin-top: 5px;">رواه أبو داود</p>
        </div>
        
        <div id="counterContainer" style="text-align: center; margin: 15px 0;">
            <p>عدد التسبيحات: <span id="tasbeehCounter">0</span></p>
            <button class="btn btn-accent" onclick="incrementTasbeeh()">+1</button>
            <button class="btn btn-secondary" onclick="resetTasbeeh()">إعادة تعيين</button>
        </div>
    </div>
    <div class="popup-footer">
        <button class="btn btn-primary" onclick="changeDhikr()">تغيير الذكر</button>
        <button class="btn btn-secondary" onclick="togglePopup('istighfarPopup')">إغلاق</button>
    </div>
</div>

<!-- نافذة الصلاة -->
<div id="prayerPopup" class="popup">
    <div class="popup-header">
        <h2 class="popup-title">مواقيت الصلاة اليومية</h2>
        <h2 class="popup-title" style="color: red; text-shadow: 0 0 10px red;">تحذير هذه المواقيت غير دقيقة</h2>
    </div>
    <div class="popup-content">
        <select id="citySelector" class="city-selector" onchange="fetchPrayerTimes()">
            <option value="algiers">الجزائر العاصمة</option>
            <option value="oran">وهران</option>
            <option value="constantine">قسنطينة</option>
            <option value="annaba">عنابة</option>
            <option value="batna">باتنة</option>
            <option value="setif">سطيف</option>
            <option value="blida">البليدة</option>
            <option value="tlemcen">تلمسان</option>
            <option value="bejaia">بجاية</option>
            <option value="sidi_bel_abbes">سيدي بلعباس</option>
        </select>
        
        <div id="prayerDate" style="text-align: center; margin-bottom: 10px; font-weight: bold;"></div>
        
        <div id="nextPrayerTime" class="next-prayer"></div>
        
        <div class="prayer-times-container" id="prayerTimesContainer">
            <!-- سيتم ملؤها بواسطة الجافاسكريبت -->
        </div>
        
        <div class="ayah">
            <p>﴿ فَإِذَا قَضَيْتُمُ الصَّلَاةَ فَاذْكُرُوا اللَّهَ قِيَامًا وَقُعُودًا وَعَلَىٰ جُنُوبِكُمْ ۚ فَإِذَا اطْمَأْنَنتُمْ فَأَقِيمُوا الصَّلَاةَ ۚ إِنَّ الصَّلَاةَ كَانَتْ عَلَى الْمُؤْمِنِينَ كِتَابًا مَّوْقُوتًا ﴾</p>
            <p>[ النساء: 103 ]</p>
        </div>
    </div>
    <div class="popup-footer">
        <button class="btn btn-primary" onclick="togglePopup('prayerPopup')">إغلاق</button>
    </div>
</div>

<!-- نافذة الإعدادات -->
<div id="settingsPopup" class="popup">
    <div class="popup-header">
        <h2 class="popup-title">إعدادات التطبيق</h2>
    </div>
    <div class="popup-content">
        <div class="settings-form">
            <div class="form-group">
                <label for="autoOpenInterval">فترة الظهور التلقائي:</label>
                <div style="display: flex; gap: 10px;">
                    <input type="number" id="autoOpenMinutes" min="1" max="120" value="30" style="flex: 1;">
                    <span style="align-self: center;">دقائق</span>
                </div>
            </div>
            
            <div class="form-group">
                <label for="dhikrType">نوع الأذكار:</label>
                <select id="dhikrType">
                    <option value="istighfar">استغفار فقط</option>
                    <option value="tasbeeh">تسبيح فقط</option>
                    <option value="mixed" selected>مختلط (استغفار وتسبيح)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="notificationSound">صوت التنبيه:</label>
                <select id="notificationSound">
                    <option value="none">بدون صوت</option>
                    <option value="adhan">أذان</option>
                    <option value="bell" selected>جرس</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="showNotifications" checked> 
                    عرض التنبيهات
                </label>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="enableBubbles" checked> 
                    تمكين فقاعات الأذكار
                </label>
            </div>
        </div>
    </div>
    
    <div class="popup-footer">
        <button class="btn btn-primary" onclick="saveSettings()">حفظ الإعدادات</button>
        <button class="btn btn-secondary" onclick="togglePopup('settingsPopup')">إلغاء</button>
    </div>
</div>

<script>
    // بيانات الأذكار
    const dhikrList = {
        istighfar: [
            "استغفر الله العظيم",
            "أستغفر الله الذي لا إله إلا هو الحي القيوم وأتوب إليه",
            "رب اغفر لي وتب علي إنك أنت التواب الرحيم",
            "اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك، وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك علي وأبوء بذنبي فاغفر لي فإنه لا يغفر الذنوب إلا أنت"
        ],
        tasbeeh: [
            "سبحان الله وبحمده",
            "سبحان الله العظيم",
            "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير",
            "سبحان الله والحمد لله ولا إله إلا الله والله أكبر",
            "لا حول ولا قوة إلا بالله العلي العظيم"
        ],
        mixed: [
            "الحمد الله",
            "استغفر الله العظيم",
            "سبحان الله وبحمده",
            "أستغفر الله الذي لا إله إلا هو الحي القيوم وأتوب إليه",
            "سبحان الله العظيم",
            "رب اغفر لي وتب علي إنك أنت التواب الرحيم",
            "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير"
        ]
    };

    // بيانات المدن
    const citiesMap = {
        algiers: "algeria/algiers",
        oran: "algeria/oran",
        constantine: "algeria/constantine",
        annaba: "algeria/annaba",
        batna: "algeria/batna",
        setif: "algeria/setif",
        blida: "algeria/blida",
        tlemcen: "algeria/tlemcen",
        bejaia: "algeria/bejaia",
        sidi_bel_abbes: "algeria/sidi-bel-abbes"
    };

    // متغيرات التطبيق
    let settings = {
        autoOpenMinutes: 30,
        dhikrType: "mixed",
        notificationSound: "bell",
        showNotifications: true,
        enableBubbles: true
    };

    let tasbeehCounter = 0;
    let prayerTimes = {};
    let activeNotifications = [];
    let autoDhikrInterval;

    // تهيئة التطبيق عند التحميل
    window.onload = function() {
        loadSettings();
        fetchPrayerTimes();
        setupAutoDhikr();
        
        // طلب إذن الإشعارات
        if (Notification.permission !== "granted" && Notification.permission !== "denied") {
            Notification.requestPermission();
        }
    };

    // تبديل النوافذ المنبثقة
    function togglePopup(popupId) {
        const popup = document.getElementById(popupId);
        if (popup.style.display === "block") {
            popup.style.display = "none";
        } else {
            // إغلاق جميع النوافذ الأخرى أولاً
            document.querySelectorAll('.popup').forEach(p => {
                if (p.id !== popupId) p.style.display = "none";
            });
            popup.style.display = "block";
        }
    }

    // تغيير الذكر المعروض
    function changeDhikr() {
        const dhikrType = settings.dhikrType;
        const dhikrArray = dhikrList[dhikrType];
        const randomIndex = Math.floor(Math.random() * dhikrArray.length);
        document.getElementById("istighfarText").textContent = dhikrArray[randomIndex];
    }

    // زيادة عداد التسبيح
    function incrementTasbeeh() {
        tasbeehCounter++;
        document.getElementById("tasbeehCounter").textContent = tasbeehCounter;
    }

    // إعادة تعيين عداد التسبيح
    function resetTasbeeh() {
        tasbeehCounter = 0;
        document.getElementById("tasbeehCounter").textContent = tasbeehCounter;
    }

    // جلب مواقيت الصلاة
    function fetchPrayerTimes() {
        const city = document.getElementById("citySelector").value;
        const cityPath = citiesMap[city];
        
        // هنا يجب استبدال هذا الجزء بطلب حقيقي لمواقيت الصلاة من API
        // هذا مجرد مثال للبيانات الوهمية
        const today = new Date();
        const fakePrayerTimes = {
            Fajr: "05:30",
            Sunrise: "06:45",
            Dhuhr: "12:45",
            Asr: "15:30",
            Maghrib: "18:20",
            Isha: "19:45"
        };
        
        prayerTimes = fakePrayerTimes;
        updatePrayerTimesDisplay();
        updateNextPrayerTime();
        
        // تحديث التاريخ المعروض
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById("prayerDate").textContent = today.toLocaleDateString('ar-AR', options);
    }

    // تحديث عرض مواقيت الصلاة
    function updatePrayerTimesDisplay() {
        const container = document.getElementById("prayerTimesContainer");
        container.innerHTML = "";
        
        for (const [prayer, time] of Object.entries(prayerTimes)) {
            const prayerTimeDiv = document.createElement("div");
            prayerTimeDiv.className = "prayer-time";
            
            const prayerNameSpan = document.createElement("span");
            prayerNameSpan.className = "prayer-name";
            prayerNameSpan.textContent = prayer;
            
            const prayerTimeSpan = document.createElement("span");
            prayerTimeSpan.className = "prayer-time";
            prayerTimeSpan.textContent = time;
            
            prayerTimeDiv.appendChild(prayerNameSpan);
            prayerTimeDiv.appendChild(prayerTimeSpan);
            container.appendChild(prayerTimeDiv);
        }
    }

    // تحديث وقت الصلاة التالي
    function updateNextPrayerTime() {
        const now = new Date();
        const currentHour = now.getHours();
        const currentMinute = now.getMinutes();
        
        let nextPrayer = "";
        let nextTime = "";
        
        // هذا مثال مبسط، في التطبيق الحقيقي يجب تحويل الأوقات إلى دقائق للمقارنة
        if (currentHour < 5 || (currentHour === 5 && currentMinute < 30)) {
            nextPrayer = "الفجر";
            nextTime = prayerTimes.Fajr;
        } else if (currentHour < 12 || (currentHour === 12 && currentMinute < 45)) {
            nextPrayer = "الظهر";
            nextTime = prayerTimes.Dhuhr;
        } else if (currentHour < 15 || (currentHour === 15 && currentMinute < 30)) {
            nextPrayer = "العصر";
            nextTime = prayerTimes.Asr;
        } else if (currentHour < 18 || (currentHour === 18 && currentMinute < 20)) {
            nextPrayer = "المغرب";
            nextTime = prayerTimes.Maghrib;
        } else {
            nextPrayer = "العشاء";
            nextTime = prayerTimes.Isha;
        }
        
        document.getElementById("nextPrayerTime").textContent = `الصلاة القادمة: ${nextPrayer} ${nextTime}`;
    }

    // إعداد الأذكار التلقائية
    function setupAutoDhikr() {
        // إلغاء أي فاصل زمني موجود
        if (autoDhikrInterval) {
            clearInterval(autoDhikrInterval);
        }
        
        // تحديد الفاصل الزمني من الإعدادات
        const intervalMinutes = settings.autoOpenMinutes || 30;
        
        // تعيين فاصل زمني جديد
        autoDhikrInterval = setInterval(() => {
            if (settings.enableBubbles) {
                showDhikrBubble();
            }
        }, intervalMinutes * 60000);
    }

    // عرض فقاعة الأذكار
    function showDhikrBubble() {
        // إغلاق أي فقاعات موجودة
        closeAllBubbles();
        
        const bubble = document.createElement("div");
        bubble.className = "dhikr-bubble";
        
        // اختيار ذكر عشوائي
        const dhikrType = settings.dhikrType;
        const dhikrArray = dhikrList[dhikrType];
        const randomIndex = Math.floor(Math.random() * dhikrArray.length);
        
        bubble.innerHTML = `
            <div class="bubble-content">
                <p>${dhikrArray[randomIndex]}</p>
                <button class="close-bubble" onclick="this.parentElement.parentElement.style.display='none'">✕</button>
            </div>
        `;
        
        document.body.appendChild(bubble);
        
        // وضع عشوائي على الشاشة
        const maxX = window.innerWidth - 250;
        const maxY = window.innerHeight - 150;
        bubble.style.left = `${Math.random() * maxX}px`;
        bubble.style.top = `${Math.random() * maxY}px`;
        bubble.style.display = 'block';
        
        // إضافة تأثير الظهور
        setTimeout(() => bubble.style.opacity = '1', 10);
        
        // تشغيل الصوت إذا كان مفعلًا
        if (settings.notificationSound !== 'none') {
            playNotificationSound();
        }
        
        // إرسال إشعار إذا كان مفعلًا
        if (settings.showNotifications && Notification.permission === "granted") {
            const notification = new Notification('تذكير بالأذكار', {
                body: dhikrArray[randomIndex],
                icon: 'icon.png'
            });
            activeNotifications.push(notification);
        }
    }

    // إغلاق جميع الفقاعات
    function closeAllBubbles() {
        const bubbles = document.querySelectorAll('.dhikr-bubble');
        bubbles.forEach(bubble => bubble.remove());
        
        // إغلاق جميع الإشعارات النشطة
        activeNotifications.forEach(notification => notification.close());
        activeNotifications = [];
    }

    // تشغيل صوت الإشعار
    function playNotificationSound() {
        const audio = new Audio();
        audio.src = settings.notificationSound === 'bell' ? 'bell.mp3' : 'adhan.mp3';
        audio.play().catch(e => console.log("لا يمكن تشغيل الصوت: ", e));
    }

    // حفظ الإعدادات
    function saveSettings() {
        settings = {
            autoOpenMinutes: parseInt(document.getElementById("autoOpenMinutes").value) || 30,
            dhikrType: document.getElementById("dhikrType").value,
            notificationSound: document.getElementById("notificationSound").value,
            showNotifications: document.getElementById("showNotifications").checked,
            enableBubbles: document.getElementById("enableBubbles").checked
        };
        
        localStorage.setItem("dhikrAppSettings", JSON.stringify(settings));
        
        // إعادة تهيئة الأذكار التلقائية
        setupAutoDhikr();
        
        togglePopup('settingsPopup');
        showDhikrBubble(); // عرض فقاعة تأكيد الحفظ
    }

    // تحميل الإعدادات
    function loadSettings() {
        const savedSettings = localStorage.getItem("dhikrAppSettings");
        if (savedSettings) {
            settings = JSON.parse(savedSettings);
            
            document.getElementById("autoOpenMinutes").value = settings.autoOpenMinutes || 30;
            document.getElementById("dhikrType").value = settings.dhikrType;
            document.getElementById("notificationSound").value = settings.notificationSound;
            document.getElementById("showNotifications").checked = settings.showNotifications !== false;
            document.getElementById("enableBubbles").checked = settings.enableBubbles !== false;
        }
    }
</script>
</body>
</html>





























































































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>تنبيه طبي - INFATM</title>
    <style>
        /* تهيئة عامة */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-text-size-adjust: 100%;
            touch-action: manipulation;
        }

        /* زر الخطر العائم - تصميم جديد */
        ._x1 {
            position: fixed;
       
               top: 120px; /* تغيير من bottom إلى top */
            left: 15px;
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, #ff0000, #c00000);
            color: white;
            font-size: 21px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.3), 
                        inset 0 2px 4px rgba(255, 255, 255, 0.3);
            transition: all 0.2s ease;
            z-index: 1000;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            animation: _a1 2s infinite;
        }

        @keyframes _a1 {
            0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 0, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); }
        }

        ._x1:hover {
            transform: scale(1.1);
            background: linear-gradient(135deg, #ff3333, #d10000);
        }

        ._x1:active {
            transform: scale(0.95);
            animation: none;
        }

        /* طبقة التعتيم */
        ._x2 {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1001;
            display: none;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        /* نافذة المحتوى */
        ._x3 {
            position: fixed;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            display: flex;
            flex-direction: column;
            z-index: 10012;
            display: none;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            background: white;
        }

        ._x4 {
          background: linear-gradient(to right, #e74c3c, #c0392b);
          color: white;
          padding: 18px;
          text-align: center;
          position: relative;
          flex-shrink: 0;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      ._x4 h2 {
          font-size: 1.3rem;
          font-weight: 600;
          text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
      }

        ._x5 {
            flex-grow: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            background-color: #f5f5f5;
        }

        /* زر الإغلاق الجديد */
        ._x6 {
            position: absolute;
            top: 12px;
            left: 12px;
            background: white;
            color: #e74c3c;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: all 0.2s;
        }

        ._x6:hover {
            transform: rotate(90deg);
            background: #ffebee;
        }

        /* مؤشر التحميل */
        ._x7 {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 20px;
        }

        ._x8 {
            width: 45px;
            height: 45px;
            border: 5px solid rgba(231, 76, 60, 0.2);
            border-top: 5px solid #e74c3c;
            border-radius: 50%;
            animation: _a2 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes _a2 {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        ._x7 p {
            color: #7f8c8d;
            font-size: 1.1rem;
            margin-top: 10px;
        }

        /* المحتوى المعروض */
        ._x9 {
            padding: 18px;
            line-height: 1.7;
            font-size: 1rem;
            color: #333;
        }

        /* التكيف مع الشاشات الصغيرة */
        @media (max-width: 480px) {
            ._x1 {
                width: 30px;
                height: 30px;
                font-size: 16px;
                bottom: 20px;
            }
            
            ._x4 {
                padding: 15px;
            }
            
            ._x4 h2 {
                font-size: 1.1rem;
            }
            
            ._x6 {
                width: 28px;
                height: 28px;
                font-size: 1rem;
            }
        }

        /* تحسينات لللمس على الهواتف */
        @media (hover: none) {
            ._x1:hover {
                transform: scale(1);
                background: linear-gradient(135deg, #ff0000, #c00000);
            }
            
            ._x6:hover {
                transform: rotate(0deg);
                background: white;
            }
        }
    </style>
</head>
<body>

<!-- طبقة التعتيم -->
<div class="_x2" id="_d1"></div>

<!-- نافذة المحتوى -->
<div class="_x3" id="_d2">
    <div class="_x4">
        <button class="_x6" onclick="_f1()">×</button>
        <h2 >⚠️  محتوى زر التنبيه  الخطر   ⚠️   </h2>
    </div>
    <div class="_x5" id="_d3">
        <div class="_x7">
            <div class="_x8"></div>
            <p>جاري تحميل المحتوى ...</p>
        </div>
    </div>
</div>

<script>
    // متغيرات التطبيق
    let _v1 = false;
    const _u1 = "https://s22mcs.github.io/S22MCS02-/MEDECINE_EXAM_NOTE.html";
    
    // عناصر DOM
    const _d2 = document.getElementById('_d2');
    const _d1 = document.getElementById('_d1');
    const _d3 = document.getElementById('_d3');
    const _b1 = document.querySelector('._x1');
    
    // تبديل عرض/إخفاء النافذة
    function _f1() {
        if (_d2.style.display === 'flex') {
            _f2();
        } else {
            _f3();
        }
    }
    
    function _f3() {
        // إيقاف تأثير النبض عند الفتح
        _b1.style.animation = 'none';
        
        _d1.style.display = 'block';
        _d2.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        
        if (!_v1) {
            _f4();
        }
    }
    
    function _f2() {
        // إعادة تشغيل تأثير النبض عند الإغلاق
        _b1.style.animation = '_a1 2s infinite';
        
        _d1.style.display = 'none';
        _d2.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
    
    // تحميل المحتوى
    async function _f4() {
        try {
            // استخدام iframe كحل أساسي
            _f5();
            _v1 = true;
        } catch (error) {
            _f6(error);
        }
    }
    
    // عرض المحتوى باستخدام iframe
    function _f5() {
        _d3.innerHTML = `
            <iframe src="${_u1}" 
                    style="width:100%; height:100%; border:none;"
                    sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
                    loading="lazy">
            </iframe>
        `;
    }
    
    // عرض رسالة الخطأ
    function _f6(_e1) {
        _d3.innerHTML = `
            <div class="_x7">
                <div style="color: #e74c3c; margin-bottom: 15px; font-size: 1.2rem;">⚠️ خطأ في تحميل المحتوى</div>
                <p style="margin-bottom: 20px; color: #555;">${_e1.message}</p>
                <button onclick="_f7()" 
                        style="padding: 10px 20px; 
                               background: linear-gradient(to right, #e74c3c, #c0392b); 
                               color: white; 
                               border: none; 
                               border-radius: 30px;
                               font-size: 1rem;
                               box-shadow: 0 3px 10px rgba(231, 76, 60, 0.3);
                               transition: all 0.2s;">
                    إعادة المحاولة
                </button>
            </div>
        `;
    }
    
    // إعادة تحميل المحتوى
    function _f7() {
        _d3.innerHTML = `
            <div class="_x7">
                <div class="_x8"></div>
                <p>جاري تحميل المحتوى الطبي...</p>
            </div>
        `;
        _f4();
    }
    
    // إغلاق النافذة عند النقر خارجها
    _d1.addEventListener('click', _f2);
    
    // منع إغلاق النافذة عند النقر داخلها
    _d2.addEventListener('click', (e) => {
        e.stopPropagation();
    });
    
    // تحسين الأداء للهواتف
    if ('connection' in navigator) {
        if (navigator.connection.saveData || navigator.connection.effectiveType.includes('2g')) {
            // تحسينات لشبكات الجيل الثاني
            _b1.style.animation = 'none';
        }
    }
    
    // إضافة اهتزاز عند النقر (للهواتف)
    function _f8() {
        if ('vibrate' in navigator) {
            navigator.vibrate(10);
        }
    }
    
    // إضافة الاهتزاز للأزرار
    document.querySelector('._x1').addEventListener('click', _f8);
    document.querySelector('._x6')?.addEventListener('click', _f8);
</script>

</body>
</html>



  
























































































<style>
  /* أنماط الوضع الداكن */
  .dark-mode {
    --primary-color: #3498db;
    --secondary-color: #2980b9;
    --success-color: #2ecc71;
    --danger-color: #e74c3c;
    --warning-color: #f39c12;
    --light-color: #2c3e50;
    --dark-color: #000000;
    --text-color: #ecf0f1;
    --white: #2c3e50;
    background-color: #1e1e1e;
  }
  
  body {
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  
  .dark-mode body {
    background-color: #000; /* خلفية سوداء كاملة */
    color: var(--text-color);
  }
  
  .dark-mode .container,
  .dark-mode .question-text,
  .dark-mode .quiz-settings,
  .dark-mode .question-review,
  .dark-mode .modal-content,
  .dark-mode .long-explanation-content,
  .dark-mode .info-panel {
    background-color: #1e1e1e;
    color: var(--text-color);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
  }
  
  .dark-mode .options li,
  .dark-mode .stat-box,
  .dark-mode .explanation {
    background-color: #2a2a2a;
    color: var(--text-color);
    border-color: #3d566e;
  }
  
  .dark-mode .options li:hover {
    background-color: #3d566e;
  }
  
  .dark-mode .options li.selected {
    background-color: var(--primary-color);
    color: white;
  }
  
  .dark-mode .options li.correct {
    background-color: var(--success-color);
    color: white;
  }
  
  .dark-mode .options li.incorrect {
    background-color: var(--danger-color);
    color: white;
  }
  
  .dark-mode table th {
    background-color: var(--primary-color);
  }
  
  .dark-mode table tr:nth-child(even) {
    background-color: #3d566e;
  }
  
  .dark-mode table tr:hover {
    background-color: #4a6b8a;
  }
  
  /* زر التبديل */
  .theme-toggle {
    position: fixed;
    top: 12rem;
    left: 2rem;
    background-color: var(--primary-color);
    color: var(--white);
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    transition: all 0.3s ease;
  }
  
  .theme-toggle:hover {
    background-color: var(--secondary-color);
    transform: scale(1.1);
  }
  
  .theme-toggle i {
    font-size: 1.5rem;
  }
  
  @media (max-width: 480px) {
    .theme-toggle {
      width: 50px;
      height: 50px;
      bottom: 10rem;
      right: 1.5rem;
    }
  }
  </style>
  
  <!-- زر التبديل بين الوضع الداكن والفاتح -->
  <div class="theme-toggle" id="theme-toggle">
    <i class="fas fa-moon"></i>
  </div>
  
  <script>
    const themeToggle = document.getElementById('theme-toggle');
    const darkModeIcon = themeToggle.querySelector('i');
  
    if (localStorage.getItem('darkMode') === 'enabled') {
      document.body.classList.add('dark-mode');
      darkModeIcon.classList.replace('fa-moon', 'fa-sun');
    }
  
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      const darkModeEnabled = document.body.classList.contains('dark-mode');
      
      darkModeIcon.classList.replace(
        darkModeEnabled ? 'fa-moon' : 'fa-sun',
        darkModeEnabled ? 'fa-sun' : 'fa-moon'
      );
      localStorage.setItem('darkMode', darkModeEnabled ? 'enabled' : 'disabled');
    });
  </script>
  






































  

    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>أداة حماية العين</title>
        <style>
            /* إعدادات الصفحة الأساسية */
            body {
                margin: 0;
                font-family: 'Arial', sans-serif;
                background-color: #edf2f7;
                color: #333;
                transition: all 0.5s ease;
            }
        
            header, main {
                padding: 20px;
                text-align: center;
            }
        
            header h1 {
                font-size: 2rem;
                color: #444;
                margin-bottom: 20px;
                text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
                animation: fadeIn 1.2s ease-in-out;
            }
        
            main h2 {
                font-size: 1.5rem;
                color: #555;
                margin-bottom: 10px;
            }
        
            main p {
                font-size: 1rem;
                line-height: 1.6;
                color: #666;
            }
        
            /* الحاوية */
            #controlPanel {
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: linear-gradient(145deg, #e0e5ec, #ffffff);
                border-radius: 50px;
                box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.1), -10px -10px 20px rgba(255, 255, 255, 0.7);
                z-index: 1000;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
                width: 60px;
                height: 60px;
                overflow: hidden;
                transition: all 0.4s ease, box-shadow 0.3s ease-in-out;
            }
        
            #controlPanel.expanded {
                width: 340px;
                height: auto;
                border-radius: 20px;
                box-shadow: 20px 20px 40px rgba(0, 0, 0, 0.15), -20px -20px 40px rgba(255, 255, 255, 0.9);
            }
        
            /* الزر */
            #toggleButton {
                width: 60px;
                height: 60px;
                background: radial-gradient(circle at 30% 30%, #4caf50, #388e3c);
                border: none;
                border-radius: 50%;
                color: white;
                font-size: 28px;
                cursor: pointer;
                display: flex;
                justify-content: center;
                align-items: center;
                box-shadow: inset 0 0 15px rgba(0,0,0,0.2), 
                            5px 5px 10px rgba(0,0,0,0.2), 
                            -5px -5px 10px rgba(255,255,255,0.5);
                transition: transform 0.3s ease, box-shadow 0.3s ease;
            }
        
            #toggleButton:hover {
                transform: scale(1.1) rotate(5deg);
                box-shadow: inset 0 0 20px rgba(0,0,0,0.3), 
                            8px 8px 20px rgba(0,0,0,0.2), 
                            -8px -8px 20px rgba(255,255,255,0.5);
                background: radial-gradient(circle at 30% 30%, #43a047, #2e7d32);
            }
        
            #emoji {
                font-size: 32px;
                line-height: 1;
                animation: bounce 2s infinite ease-in-out;
            }
        
            #toggleText {
                font-size: 14px;
                color: white;
                position: absolute;
                bottom: -20px;
                opacity: 0;
                transition: opacity 0.3s ease, transform 0.3s ease;
            }
        
            #toggleButton:hover #toggleText {
                opacity: 1;
                transform: translateY(-5px);
            }
        
            /* شريط التمرير */
            .slider-container {
                width: 90%;
                margin: 10px 0;
                position: relative;
            }
            
            .color-spectrum {
                width: 100%;
                height: 20px;
                border-radius: 10px;
                background: linear-gradient(to right, 
                    #ff9a3c, /* 1700K - برتقالي دافئ جداً */
                    #ffb347, /* 2000K */
                    #ffcc6a, /* 2300K */
                    #ffe08c, /* 2700K - أصفر دافئ */
                    #f5f5f5  /* أبيض محايد */
                );
                margin-bottom: 5px;
                box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1);
            }
            
            #colorTempSlider {
                width: 100%;
                appearance: none;
                height: 12px;
                background: transparent;
                border-radius: 6px;
                outline: none;
                cursor: pointer;
                position: absolute;
                top: 20px;
                left: 0;
            }
        
            #colorTempSlider::-webkit-slider-thumb {
                appearance: none;
                width: 22px;
                height: 22px;
                background: radial-gradient(circle, #4caf50, #388e3c);
                border-radius: 50%;
                cursor: pointer;
                box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), -2px -2px 4px rgba(255, 255, 255, 0.5);
                transition: transform 0.2s ease-in-out;
            }
        
            #colorTempSlider::-webkit-slider-thumb:hover {
                transform: scale(1.2);
            }
        
            .temp-labels {
                display: flex;
                justify-content: space-between;
                width: 100%;
                font-size: 11px;
                color: #555;
                margin-top: 25px;
            }
        
            .small-slider {
                width: 80px;
                height: 8px;
            }
        
            #label {
                font-size: 14px;
                font-weight: bold;
                color: #333;
                display: none;
                text-align: center;
                animation: fadeIn 0.8s ease-in-out;
            }
        
            .expanded #label {
                display: block;
            }
        
            /* خيارات إضافية */
            .options {
                display: none;
                width: 100%;
                padding: 0 15px 15px;
                flex-direction: column;
                gap: 10px;
            }
        
            .expanded .options {
                display: flex;
            }
        
            .option-row {
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
        
            .option-label {
                font-size: 13px;
                color: #555;
            }
        
            .switch {
                position: relative;
                display: inline-block;
                width: 50px;
                height: 24px;
            }
        
            .switch input {
                opacity: 0;
                width: 0;
                height: 0;
            }
        
            .slider {
                position: absolute;
                cursor: pointer;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background-color: #ccc;
                transition: .4s;
                border-radius: 24px;
            }
        
            .slider:before {
                position: absolute;
                content: "";
                height: 13px;
                width: 13px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                transition: .4s;
                border-radius: 50%;
            }
        
            input:checked + .slider {
                background-color: #4CAF50;
            }
        
            input:checked + .slider:before {
                transform: translateX(26px);
            }
        
            /* معلومات علمية */
            .science-info {
                display: none;
                background: #f8f9fa;
                border-radius: 10px;
                padding: 10px;
                margin: 10px 15px;
                font-size: 12px;
                color: #555;
                border-right: 3px solid #4CAF50;
            }
        
            .expanded .science-info {
                display: block;
                animation: fadeIn 0.8s ease-in-out;
            }
        
            .science-title {
                font-weight: bold;
                color: #388e3c;
                margin-bottom: 5px;
            }
        
            /* الإشعارات */
            .notification {
                position: fixed;
                bottom: 100px;
                right: 20px;
                background: #4CAF50;
                color: white;
                padding: 12px 20px;
                border-radius: 5px;
                box-shadow: 0 4px 8px rgba(0,0,0,0.2);
                animation: slideIn 0.5s ease-out;
                z-index: 1001;
            }
        
            .fade-out {
                animation: fadeOut 0.5s ease-out forwards;
            }
        
            /* الرسوم المتحركة */
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(-10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        
            @keyframes bounce {
                0%, 100% {
                    transform: translateY(0);
                }
                50% {
                    transform: translateY(-10px);
                }
            }
        
            @keyframes slideIn {
                from {
                    transform: translateX(100px);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
        
            @keyframes fadeOut {
                from {
                    opacity: 1;
                }
                to {
                    opacity: 0;
                }
            }
        
            /* تحسين التوافق مع الهواتف */
            @media (max-width: 768px) {
                #controlPanel {
                    bottom: 10px;
                    right: 10px;
                }
                #toggleButton {
                    width: 50px;
                    height: 50px;
                    font-size: 24px;
                }
                #controlPanel.expanded {
                    width: 300px;
                }
            }
        
            @media (max-width: 480px) {
                #controlPanel.expanded {
                    width: 90%;
                    right: 5%;
                    bottom: 10px;
                }
                
                .options {
                    padding: 0 10px 10px;
                }
            }
        </style>
    </head>
    <body>
        <!-- أداة التحكم -->
     
            
            <div class="science-info">
                <div class="science-title">معلومات علمية:</div>
                <p>• درجات الحرارة المرتفعة (>5000K) تسبب انتباه الأشخاص وزيادة التركيز</p>
                <p>• درجات الحرارة المنخفضة (2700K-3000K) تشعر الأشخاص بالاسترخاء والنعاس</p>
                <p>• الضوء الأزرق (380-550 نانومتر) يؤثر على الساعة البيولوجية</p>
            </div>
            
            <div class="options">
                <div class="option-row">
                    <span class="option-label">الوضع الليلي التلقائي</span>
                    <label class="switch">
                        <input type="checkbox" id="autoNightMode">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="option-row">
                    <span class="option-label">تقليل الوهج</span>
                    <label class="switch">
                        <input type="checkbox" id="reduceGlare" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="option-row">
                    <span class="option-label">تعتيم النص</span>
                    <label class="switch">
                        <input type="checkbox" id="darkenText">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="option-row">
                    <span class="option-label">ضبط السطوع</span>
                    <input type="range" id="brightnessSlider" min="50" max="100" value="100" class="small-slider">
                  </div>
                  <div class="mobile-breaks"></div>

                  <style>    .mobile-breaks {
                    display: none;
                  }
                  
                  @media (max-width: 768px) {
                    .mobile-breaks {
                      display: block;
                      height: 2em; /* تعادل تقريبا سطرين فارغين */
                    }
                  }</style>
              
                  
            </div>
        </div>
    
        <script>
            const controlPanel = document.getElementById('controlPanel');
            const toggleButton = document.getElementById('toggleButton');
            const emoji = document.getElementById('emoji');
            const toggleText = document.getElementById('toggleText');
            const slider = document.getElementById('colorTempSlider');
            const autoNightMode = document.getElementById('autoNightMode');
            const reduceGlare = document.getElementById('reduceGlare');
            const darkenText = document.getElementById('darkenText');
            const brightnessSlider = document.getElementById('brightnessSlider');
    
            let isEyeProtectionEnabled = false;
            let autoNightModeInterval;
    
            // تحميل التفضيلات المحفوظة
            window.addEventListener('DOMContentLoaded', () => {
                const preferences = JSON.parse(localStorage.getItem('eyeProtectionPrefs')) || {};
                if (preferences.autoNightMode) autoNightMode.checked = true;
                if (preferences.reduceGlare) reduceGlare.checked = true;
                if (preferences.darkenText) darkenText.checked = true;
                if (preferences.enabled) enableEyeProtection();
                if (preferences.brightness) brightnessSlider.value = preferences.brightness;
                if (preferences.colorTemp) slider.value = preferences.colorTemp;
    
                // تحقق من وقت اليوم عند التحميل
                checkTimeOfDay();
            });
    
            toggleButton.addEventListener('click', () => {
                controlPanel.classList.toggle('expanded');
    
                if (isEyeProtectionEnabled) {
                    disableEyeProtection();
                } else {
                    enableEyeProtection();
                    setTimeout(() => {
                        controlPanel.classList.remove('expanded');
                    }, 5000);
                }
                
                savePreferences();
            });
    
            slider.addEventListener('input', function() {
                updateFilter();
                updateSliderColor(this.value);
            });
            
            // تحديث لون شريط التمرير بناء على القيمة
            function updateSliderColor(value) {
                const percent = (value - 1700) / (2700 - 1700) * 100;
                const thumb = document.querySelector('#colorTempSlider::-webkit-slider-thumb');
                
                // تغيير لون الإبهام حسب الموقع على الطيف
                if (thumb) {
                    if (percent < 30) {
                        thumb.style.background = 'radial-gradient(circle, #ff9a3c, #e07c2e)';
                    } else if (percent < 70) {
                        thumb.style.background = 'radial-gradient(circle, #ffb347, #e0953a)';
                    } else {
                        thumb.style.background = 'radial-gradient(circle, #ffe08c, #e0c87a)';
                    }
                }
            }
            
            autoNightMode.addEventListener('change', function() {
                if (this.checked) {
                    startAutoNightMode();
                    if (isEyeProtectionEnabled) {
                        updateFilter();
                    }
                } else {
                    stopAutoNightMode();
                }
                savePreferences();
            });
    
            reduceGlare.addEventListener('change', function() {
                if (isEyeProtectionEnabled) {
                    updateFilter();
                }
                savePreferences();
            });
    
            darkenText.addEventListener('change', function() {
                if (isEyeProtectionEnabled) {
                    updateFilter();
                }
                savePreferences();
            });
    
            brightnessSlider.addEventListener('input', function() {
                document.body.style.opacity = this.value / 100;
                savePreferences();
            });
    
            function enableEyeProtection() {
                isEyeProtectionEnabled = true;
                emoji.textContent = '🛡️';
                toggleText.textContent = 'إيقاف';
                updateFilter();
                updateSliderColor(slider.value);
                showNotification('تم تفعيل حماية العين');
            }
    
            function disableEyeProtection() {
                isEyeProtectionEnabled = false;
                emoji.textContent = '🌙';
                toggleText.textContent = 'تشغيل';
                document.documentElement.style.filter = 'none';
                document.body.style.color = '';
                showNotification('تم إيقاف حماية العين');
            }
    
            function updateFilter() {
                if (!isEyeProtectionEnabled) return;
    
                const temp = slider.value;
                const warmth = (temp - 1700) / (2700 - 1700);
                const sepia = 0.4 + 0.6 * (1 - warmth);
                const brightness = 1 - 0.2 * warmth;
                const contrast = reduceGlare.checked ? 1.1 : 1;
                const grayscale = reduceGlare.checked ? 0.1 : 0;
                
                let filter = `sepia(${sepia}) brightness(${brightness}) contrast(${contrast}) grayscale(${grayscale})`;
                
                document.documentElement.style.filter = filter;
                
                if (darkenText.checked) {
                    document.body.style.color = `hsl(0, 0%, ${70 - (warmth * 30)}%)`;
                } else {
                    document.body.style.color = '';
                }
            }
    
            function checkTimeOfDay() {
                const hour = new Date().getHours();
                const isNightTime = hour >= 18 || hour <= 6;
                
                if (isNightTime) {
                    slider.value = 2000;
                    if (autoNightMode.checked && !isEyeProtectionEnabled) {
                        enableEyeProtection();
                        showNotification('تم تفعيل الوضع الليلي تلقائياً');
                    }
                } else {
                    slider.value = 2700;
                }
                updateFilter();
                updateSliderColor(slider.value);
            }
    
            function startAutoNightMode() {
                checkTimeOfDay();
                autoNightModeInterval = setInterval(checkTimeOfDay, 30 * 60 * 1000); // كل 30 دقيقة
            }
    
            function stopAutoNightMode() {
                clearInterval(autoNightModeInterval);
            }
    
            function showNotification(message) {
                const notif = document.createElement('div');
                notif.className = 'notification';
                notif.textContent = message;
                document.body.appendChild(notif);
                
                setTimeout(() => {
                    notif.classList.add('fade-out');
                    setTimeout(() => notif.remove(), 500);
                }, 3000);
            }
    
            function savePreferences() {
                localStorage.setItem('eyeProtectionPrefs', JSON.stringify({
                    autoNightMode: autoNightMode.checked,
                    reduceGlare: reduceGlare.checked,
                    darkenText: darkenText.checked,
                    enabled: isEyeProtectionEnabled,
                    brightness: brightnessSlider.value,
                    colorTemp: slider.value
                }));
            }
    
            // تفعيل الوضع الليلي التلقائي إذا كان الوقت ليلاً
            if (autoNightMode.checked) {
                startAutoNightMode();
            }
            
            // تحديث لون شريط التمرير عند التحميل
            updateSliderColor(slider.value);
        </script>
    </body>
    </html>