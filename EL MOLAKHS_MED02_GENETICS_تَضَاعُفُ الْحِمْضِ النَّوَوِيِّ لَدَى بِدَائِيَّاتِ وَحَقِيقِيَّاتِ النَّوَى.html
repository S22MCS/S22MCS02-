<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>     </title>

    
    <!-- إضافة الفافيكون بصيغة JPG -->
    <link rel="icon" href="S22MCS PARTS/doctor.png" type="image/jpeg">


<style>
.LIKEWIKIIDAFA-tooltip {
    position: relative;
    display: inline-block;
    cursor: pointer;
    color: red;
    font-weight: bold;
    line-height: 1.5;
}

.LIKEWIKIIDAFA-content {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90vw;
    max-width: 650px;
    max-height: 85vh;
    background-color: #fff;
    padding: 20px;
    z-index: 999999;
    overflow-y: auto;
    direction: rtl;
    border-radius: 12px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
    border: 1px solid #e0e0e0;
    font-size: 1rem;
}

.LIKEWIKIIDAFA-content-inner {
    position: relative;
    height: auto;
    padding: 10px;
}

.LIKEWIKIIDAFA-content::-webkit-scrollbar {
    width: 8px;
}
.LIKEWIKIIDAFA-content::-webkit-scrollbar-thumb {
    background-color: #888;
    border-radius: 4px;
}
.LIKEWIKIIDAFA-content::-webkit-scrollbar-track {
    background: #f1f1f1;
}

.LIKEWIKIIDAFA-tooltip.active .LIKEWIKIIDAFA-content {
    display: block;
    animation: fadeInScale 0.3s ease;
}

.LIKEWIKIIDAFA-tooltip.active::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999998;
}

@keyframes fadeInScale {
    from { opacity: 0; transform: translate(-50%, -50%) scale(0.95); }
    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

.LIKEWIKIIDAFA-content img {
    max-width: 100%;
    height: auto;
    margin: 15px auto;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    display: block;
}

.LIKEWIKIIDAFA-close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: #f44336;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    transition: all 0.2s ease;
    z-index: 1000000;
    padding: 0;
    line-height: 1;
}

.LIKEWIKIIDAFA-close-btn:hover {
    background: #d32f2f;
    transform: scale(1.1);
}

.LIKEWIKIIDAFA-close-btn:active {
    transform: scale(0.95);
}

.language-section {
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid #eee;
}

.language-title {
    font-size: 1.1rem;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 15px;
    text-align: center;
    padding: 8px 12px;
    background-color: #f8f9fa;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.arabic-text {
    direction: rtl;
    text-align: right;
    font-size: 1rem;
    line-height: 1.6;
}

.english-text, .french-text {
    direction: ltr;
    text-align: left;
    font-size: 1rem;
    line-height: 1.6;
}

.language-flag {
    width: 22px;
    height: 16px;
    margin: 0 6px;
    vertical-align: middle;
    border-radius: 3px;
    box-shadow: 0 0 3px rgba(0, 0, 0, 0.1);
}

ul {
    padding-right: 20px;
    margin: 10px 0;
}

li {
    margin-bottom: 8px;
}

@media (max-width: 1024px) {
    .LIKEWIKIIDAFA-content {
        width: 92vw;
        padding: 18px;
    }
}

@media (max-width: 768px) {
    .LIKEWIKIIDAFA-content {
        width: 94vw;
        max-height: 90vh;
        padding: 16px;
        font-size: 0.95rem;
    }
    
    .language-title {
        font-size: 1rem;
        padding: 6px 10px;
    }
    
    .LIKEWIKIIDAFA-close-btn {
        width: 28px;
        height: 28px;
        font-size: 16px;
    }
    
    .language-flag {
        width: 20px;
        height: 14px;
    }
}

@media (max-width: 480px) {
    .LIKEWIKIIDAFA-content {
        width: 96vw;
        padding: 14px;
        max-height: 95vh;
        font-size: 0.9rem;
    }
    
    .language-title {
        font-size: 0.95rem;
        padding: 5px 8px;
    }
    
    .LIKEWIKIIDAFA-close-btn {
        width: 26px;
        height: 26px;
        font-size: 15px;
        top: 10px;
        right: 10px;
    }
    
    .language-flag {
        width: 18px;
        height: 12px;
    }
    
    ul {
        padding-right: 15px;
    }
    
    li {
        margin-bottom: 6px;
    }
}

@media (max-height: 600px) {
    .LIKEWIKIIDAFA-content {
        top: 20px;
        transform: translateX(-50%);
        max-height: calc(100vh - 40px);
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const LIKEWIKIIDAFA_tooltip = document.getElementById('LIKEWIKIIDAFA-tooltip');
    const LIKEWIKIIDAFA_closeBtn = document.querySelector('.LIKEWIKIIDAFA-close-btn');
    
    // فتح عند الضغط على النص
    LIKEWIKIIDAFA_tooltip.addEventListener('click', function(e) {
        e.stopPropagation();
        document.body.style.overflow = 'hidden';
        document.documentElement.style.overflow = 'hidden';
        LIKEWIKIIDAFA_tooltip.classList.add('active');
    });
    
    // إغلاق بالضغط على الزر X فقط
    LIKEWIKIIDAFA_closeBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        closeTooltip();
    });
    
    // إغلاق عند الضغط خارج النافذة
    document.addEventListener('click', function(e) {
        if (LIKEWIKIIDAFA_tooltip.classList.contains('active') && 
            !e.target.closest('.LIKEWIKIIDAFA-content') && 
            !e.target.closest('.LIKEWIKIIDAFA-tooltip')) {
            closeTooltip();
        }
    });
    
    // إغلاق بالضغط على زر ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && LIKEWIKIIDAFA_tooltip.classList.contains('active')) {
            closeTooltip();
        }
    });
    
    function closeTooltip() {
        document.body.style.overflow = '';
        document.documentElement.style.overflow = '';
        LIKEWIKIIDAFA_tooltip.classList.remove('active');
    }
    
    // منع التمرير عند فتح النافذة على الأجهزة المحمولة
    document.querySelector('.LIKEWIKIIDAFA-content').addEventListener('touchmove', function(e) {
        if (LIKEWIKIIDAFA_tooltip.classList.contains('active')) {
            e.preventDefault();
        }
    }, { passive: false });
});
</script>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أداة حماية العين</title>
    <style>
        /* تحسينات عامة */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* إعدادات الصفحة الأساسية */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #edf2f7;
            color: #333;
            transition: all 0.5s ease;
        }
    
        header, main {
            padding: 20px;
            text-align: center;
        }
    
        header h1 {
            font-size: 2rem;
            color: #444;
            margin-bottom: 20px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            animation: fadeIn 1.2s ease-in-out;
        }
    
        main h2 {
            font-size: 1.5rem;
            color: #555;
            margin-bottom: 10px;
        }
    
        main p {
            font-size: 1rem;
            line-height: 1.6;
            color: #666;
        }
    
        /* الحاوية */
        #controlPanel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(145deg, #e0e5ec, #ffffff);
            border-radius: 50px;
            box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.1), -10px -10px 20px rgba(255, 255, 255, 0.7);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            width: 60px;
            height: 60px;
            overflow: hidden;
            transition: all 0.4s ease, box-shadow 0.3s ease-in-out;
        }
    
        #controlPanel.expanded {
            width: auto; /* ستتحدد بناءً على المحتوى والاستعلامات أدناه */
            min-width: 280px; /* حد أدنى لعرض اللوحة الموسعة */
            height: auto;
            max-height: 75vh; /* حد أقصى لارتفاع اللوحة على شاشات الهاتف */
            overflow-y: auto; /* إضافة تمرير إذا تجاوز المحتوى الارتفاع الأقصى */
            border-radius: 20px;
            padding-bottom: 10px; /* إضافة حشو سفلي للوحة الموسعة */
            box-shadow: 20px 20px 40px rgba(0, 0, 0, 0.15), -20px -20px 40px rgba(255, 255, 255, 0.9);
        }
    
        /* الزر */
        #toggleButton {
            width: 60px;
            height: 60px;
            background: radial-gradient(circle at 30% 30%, #4caf50, #388e3c);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 28px;
            cursor: pointer;
            display: flex;
            flex-shrink: 0; /* منع الزر من الانكماش */
            justify-content: center;
            align-items: center;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.2), 
                        5px 5px 10px rgba(0,0,0,0.2), 
                        -5px -5px 10px rgba(255,255,255,0.5);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
    
        #toggleButton:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: inset 0 0 20px rgba(0,0,0,0.3), 
                        8px 8px 20px rgba(0,0,0,0.2), 
                        -8px -8px 20px rgba(255,255,255,0.5);
            background: radial-gradient(circle at 30% 30%, #43a047, #2e7d32);
        }
    
        #emoji {
            font-size: 32px;
            line-height: 1;
            animation: bounce 2s infinite ease-in-out;
        }
    
        #toggleText {
            font-size: 14px;
            color: white;
            position: absolute;
            bottom: -20px;
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
    
        #toggleButton:hover #toggleText {
            opacity: 1;
            transform: translateY(-5px);
        }
    
        /* شريط التمرير */
        .slider-container {
            width: 90%;
            max-width: 280px; /* حد أقصى لعرض حاوية الشريط */
            margin: 10px auto; /* توسيط وتعديل الهامش */
            position: relative;
        }
        
        .color-spectrum {
            width: 100%;
            height: 20px;
            border-radius: 10px;
            background: linear-gradient(to right, 
                #ff9a3c, /* 1700K */
                #ffb347, /* 2000K */
                #ffcc6a, /* 2300K */
                #ffe08c, /* 2700K */
                #f5f5f5  /* أبيض محايد (للتوضيح، القيمة الفعلية للفلتر قد تختلف) */
            );
            margin-bottom: 5px;
            box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        #colorTempSlider {
            width: 100%;
            appearance: none;
            -webkit-appearance: none; /* لمتصفحات WebKit */
            height: 12px;
            background: transparent; /* جعل مسار الشريط شفافًا */
            border-radius: 6px;
            outline: none;
            cursor: pointer;
            position: absolute;
            top: 4px; /* تعديل ليتمركز فوق color-spectrum */
            left: 0;
        }
    
        #colorTempSlider::-webkit-slider-thumb {
            appearance: none;
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            background: var(--thumb-color, radial-gradient(circle, #4caf50, #388e3c)); /* استخدام متغير CSS */
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), -2px -2px 4px rgba(255, 255, 255, 0.5);
            transition: transform 0.2s ease-in-out, background 0.3s ease;
        }
         #colorTempSlider::-moz-range-thumb { /* لمتصفح Firefox */
            width: 22px;
            height: 22px;
            background: var(--thumb-color, radial-gradient(circle, #4caf50, #388e3c));
            border-radius: 50%;
            cursor: pointer;
            border: none; /* إزالة الحدود الافتراضية في Firefox */
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), -2px -2px 4px rgba(255, 255, 255, 0.5);
            transition: transform 0.2s ease-in-out, background 0.3s ease;
        }
    
        #colorTempSlider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }
        #colorTempSlider::-moz-range-thumb:hover {
            transform: scale(1.2);
        }
    
        .temp-labels {
            display: flex;
            justify-content: space-between;
            width: 100%;
            font-size: 11px;
            color: #555;
            margin-top: 25px; /* ليكون أسفل شريط التمرير والطيف */
        }
    
        .small-slider {
            width: 80px;
            height: 8px;
        }
    
        #label {
            font-size: 14px;
            font-weight: bold;
            color: #333;
            display: none;
            text-align: center;
            margin-top: 5px; /* هامش علوي بسيط */
            animation: fadeIn 0.8s ease-in-out;
        }
    
        .expanded #label {
            display: block;
        }
    
        /* خيارات إضافية */
        .options {
            display: none;
            width: 100%;
            padding: 0 15px 10px; /* تقليل الحشو السفلي قليلاً */
            flex-direction: column;
            gap: 12px; /* زيادة طفيفة في الفجوة لتحسين اللمس */
        }
    
        .expanded .options {
            display: flex;
        }
    
        .option-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    
        .option-label {
            font-size: 13px;
            color: #555;
        }
    
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
            flex-shrink: 0; /* منع الانكماش */
        }
    
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
    
        .slider { /* هذا اسم الكلاس لمحول التبديل، وليس شريط التمرير الرئيسي */
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
    
        .slider:before {
            position: absolute;
            content: "";
            height: 18px; /* زيادة طفيفة لحجم المقبض */
            width: 18px;  /* زيادة طفيفة لحجم المقبض */
            left: 3px;    /* تعديل الموقع ليتناسب مع الحجم الجديد */
            bottom: 3px;  /* تعديل الموقع ليتناسب مع الحجم الجديد */
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
    
        input:checked + .slider {
            background-color: #4CAF50;
        }
    
        input:checked + .slider:before {
            transform: translateX(26px);
        }
    
        /* معلومات علمية */
        .science-info {
            display: none;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 10px;
            margin: 10px 15px;
            font-size: 12px;
            color: #555;
            border-right: 3px solid #4CAF50;
        }
    
        .expanded .science-info {
            display: block;
            animation: fadeIn 0.8s ease-in-out;
        }
    
        .science-title {
            font-weight: bold;
            color: #388e3c;
            margin-bottom: 5px;
        }
    
        /* الإشعارات */
        .notification {
            position: fixed;
            bottom: 100px; /* تعديل الموضع ليكون أعلى من اللوحة في حالة توسعها */
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 12px 20px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            animation: slideIn 0.5s ease-out;
            z-index: 1001;
        }
    
        .fade-out {
            animation: fadeOut 0.5s ease-out forwards;
        }

        /* فواصل للموبايل (تم نقلها من داخل body) */
        .mobile-breaks {
          display: none;
        }
    
        /* الرسوم المتحركة */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); } /* تقليل مقدار الارتداد */
        }
        @keyframes slideIn {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
    
        /* تحسين التوافق مع الهواتف */
        @media (max-width: 768px) {
            header h1 { font-size: 1.8rem; }
            main h2 { font-size: 1.3rem; }

            #controlPanel {
                bottom: 10px;
                right: 10px;
                gap: 8px; /* تقليل الفجوة قليلاً */
            }
            #controlPanel.expanded {
                width: 300px; /* عرض ثابت للتابلت والهواتف الكبيرة نسبياً */
                padding-bottom: 15px;
            }
            #toggleButton {
                width: 50px;
                height: 50px;
                font-size: 24px;
            }
            #emoji { font-size: 28px; }
            .notification {
                bottom: 80px; /* تعديل المسافة من الأسفل للوحة التحكم الأصغر */
                right: 10px;
                padding: 10px 15px;
            }
            .mobile-breaks {
                display: block;
                height: 1.5em; /* تقليل الارتفاع قليلاً */
            }
            .temp-labels span { font-size: 10px; }
            #label { font-size: 0.875rem; } /* 14px */
           .option-label { font-size: 0.8125rem; } /* 13px */
        }
    
        @media (max-width: 480px) {
            header h1 { font-size: 1.6rem; }
            main h2 { font-size: 1.2rem; }
            main p { font-size: 0.9rem; }

            #controlPanel.expanded {
                width: 90%; /* استخدام نسبة مئوية للشاشات الصغيرة جداً */
                right: 5%;
                bottom: 10px;
                gap: 5px; /* تقليل إضافي للفجوة */
                padding-bottom: 10px;
            }
            .options {
                padding: 0 10px 10px;
                gap: 10px;
            }
            .slider-container {
                margin: 5px auto;
            }
            .temp-labels {
                flex-wrap: wrap; /* السماح بالالتفاف إذا ضاقت المساحة */
                justify-content: center; /* توسيط العناصر عند الالتفاف */
                gap: 5px; /* فجوة بين العناصر الملتفة */
            }
            .temp-labels span { font-size: 0.7rem; } /* تصغير إضافي */
            #label { font-size: 0.8rem; } 
            .option-label { font-size: 0.75rem; } /* 12px */
            .science-info {
                font-size: 11px;
                margin: 5px 10px;
                padding: 8px;
            }
        }
        @media (max-width: 360px) {
             header h1 { font-size: 1.5rem; }
            .option-row {
                flex-direction: column; /* جعل الخيارات تحت بعضها */
                align-items: flex-start;
                gap: 5px; /* فجوة بين الملصق والمفتاح */
            }
            .option-row .switch {
                margin-top: 3px; /* هامش بسيط للمفتاح */
            }
            #controlPanel.expanded {
                gap: 3px;
            }
        }

    </style>
</head>
<body>
    


    <div id="controlPanel">
        <button id="toggleButton">
            <span id="emoji">🌙</span>
            <span id="toggleText">تشغيل</span>
        </button>
        <label id="label" for="colorTempSlider">درجة حرارة اللون (1700K-2700K):</label>
        
        <div class="slider-container">
            <div class="color-spectrum"></div>
            <input type="range" id="colorTempSlider" min="1700" max="2700" step="100" value="2700">
            <div class="temp-labels">
                <span>1700K</span>
                <span>2000K</span>
                <span>2300K</span>
                <span>2700K</span>
            </div>
        </div>
        
        <div class="science-info">
            <div class="science-title">معلومات علمية:</div>
            <p>• درجات الحرارة المرتفعة (&gt;5000K) تسبب انتباه الأشخاص وزيادة التركيز.</p>
            <p>• درجات الحرارة المنخفضة (2700K-3000K) تشعر الأشخاص بالاسترخاء والنعاس.</p>
            <p>• الضوء الأزرق (380-550 نانومتر) يؤثر على الساعة البيولوجية.</p>
        </div>
        
        <div class="options">
            <div class="option-row">
                <span class="option-label">الوضع الليلي التلقائي</span>
                <label class="switch">
                    <input type="checkbox" id="autoNightMode">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="option-row">
                <span class="option-label">تقليل الوهج</span>
                <label class="switch">
                    <input type="checkbox" id="reduceGlare" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="option-row">
                <span class="option-label">تعتيم النص</span>
                <label class="switch">
                    <input type="checkbox" id="darkenText">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="option-row">
                <span class="option-label">ضبط السطوع</span>
                <input type="range" id="brightnessSlider" min="50" max="100" value="100" class="small-slider">
            </div>
            <div class="mobile-breaks"></div>
        </div>
    </div>

    <script>
        const controlPanel = document.getElementById('controlPanel');
        const toggleButton = document.getElementById('toggleButton');
        const emoji = document.getElementById('emoji');
        const toggleText = document.getElementById('toggleText');
        const colorTempSliderElement = document.getElementById('colorTempSlider'); // تم تغيير الاسم لتمييزه
        const autoNightMode = document.getElementById('autoNightMode');
        const reduceGlare = document.getElementById('reduceGlare');
        const darkenText = document.getElementById('darkenText');
        const brightnessSlider = document.getElementById('brightnessSlider');
    
        let isEyeProtectionEnabled = false;
        let autoNightModeInterval;
    
        // تحميل التفضيلات المحفوظة
        window.addEventListener('DOMContentLoaded', () => {
            const preferences = JSON.parse(localStorage.getItem('eyeProtectionPrefs')) || {};
            if (preferences.autoNightMode) autoNightMode.checked = true;
            if (preferences.reduceGlare === false) reduceGlare.checked = false; // معالجة القيمة false صراحة
            else reduceGlare.checked = true; // القيمة الافتراضية أو true
            if (preferences.darkenText) darkenText.checked = true;
            
            if (preferences.brightness) {
                brightnessSlider.value = preferences.brightness;
                document.body.style.opacity = preferences.brightness / 100;
            }
            if (preferences.colorTemp) colorTempSliderElement.value = preferences.colorTemp;

            // يجب تفعيل الحماية بعد تحميل الإعدادات المتعلقة بها
            if (preferences.enabled) {
                enableEyeProtection(); // يستدعي updateFilter و updateSliderColor
            } else {
                // إذا لم تكن مفعلة، لا يزال يجب تحديث لون المقبض بناءً على القيمة المحملة
                updateSliderColor(colorTempSliderElement.value);
            }
    
            // تحقق من وقت اليوم عند التحميل
            if (autoNightMode.checked) { // فقط إذا كان الوضع التلقائي محدداً
                checkTimeOfDay(); // هذا قد يفعل الحماية إذا كان الوقت ليلاً
                startAutoNightMode();
            }
        });
    
        toggleButton.addEventListener('click', () => {
            controlPanel.classList.toggle('expanded');
    
            if (isEyeProtectionEnabled) {
                disableEyeProtection();
            } else {
                enableEyeProtection();
                // لا تغلق اللوحة تلقائيًا إذا فتحها المستخدم يدويًا للتو
                // يمكن إبقاء هذا السلوك أو إزالته حسب الرغبة
                // setTimeout(() => {
                //     if (isEyeProtectionEnabled) { // فقط أغلق إذا كانت الحماية لا تزال مفعلة
                //        controlPanel.classList.remove('expanded');
                //     }
                // }, 7000); // زيادة الوقت قليلاً
            }
            savePreferences();
        });
    
        colorTempSliderElement.addEventListener('input', function() {
            updateFilter();
            updateSliderColor(this.value);
            savePreferences(); // حفظ عند تغيير شريط التمرير أيضًا
        });
        
        // تحديث لون مقبض شريط التمرير بناء على القيمة باستخدام متغير CSS
        function updateSliderColor(value) {
            const percent = (value - 1700) / (2700 - 1700); // النسبة من 0 إلى 1
            let newThumbColor = 'radial-gradient(circle, #4caf50, #388e3c)'; // لون افتراضي

            // الألوان تتدرج من البرتقالي (دافئ جداً) إلى الأصفر (دافئ)
            // 1700K هو الأكثر دفئًا (برتقالي), 2700K هو الأقل دفئًا في هذا النطاق (أصفر فاتح)
            if (percent < 0.33) { // الثلث الأول (الأكثر دفئًا)
                newThumbColor = 'radial-gradient(circle, #ff9a3c, #e07c2e)'; 
            } else if (percent < 0.66) { // الثلث الأوسط
                newThumbColor = 'radial-gradient(circle, #ffb347, #e0953a)'; 
            } else { // الثلث الأخير (الأقل دفئًا)
                newThumbColor = 'radial-gradient(circle, #ffe08c, #e0c87a)'; 
            }
            // تطبيق اللون على متغير CSS الذي يستخدمه مقبض شريط التمرير
            colorTempSliderElement.style.setProperty('--thumb-color', newThumbColor);
        }
        
        autoNightMode.addEventListener('change', function() {
            if (this.checked) {
                startAutoNightMode();
                 // لا حاجة لاستدعاء updateFilter هنا مباشرة، سيتم استدعاؤه من checkTimeOfDay إذا لزم الأمر
            } else {
                stopAutoNightMode();
                // إذا تم إلغاء الوضع التلقائي وكان ليلاً، قد نرغب في إبقاء الفلتر أو إزالته بناءً على حالة isEyeProtectionEnabled
            }
            savePreferences();
        });
    
        reduceGlare.addEventListener('change', function() {
            if (isEyeProtectionEnabled) {
                updateFilter();
            }
            savePreferences();
        });
    
        darkenText.addEventListener('change', function() {
            if (isEyeProtectionEnabled) {
                updateFilter();
            }
            savePreferences();
        });
    
        brightnessSlider.addEventListener('input', function() {
            document.body.style.opacity = this.value / 100;
            savePreferences();
        });
    
        function enableEyeProtection() {
            isEyeProtectionEnabled = true;
            emoji.textContent = '🛡️';
            toggleText.textContent = 'إيقاف';
            updateFilter();
            updateSliderColor(colorTempSliderElement.value); // تحديث لون المقبض عند التفعيل
            showNotification('تم تفعيل حماية العين');
            savePreferences(); // حفظ الحالة الجديدة
        }
    
        function disableEyeProtection() {
            isEyeProtectionEnabled = false;
            emoji.textContent = '🌙';
            toggleText.textContent = 'تشغيل';
            document.documentElement.style.filter = 'none';
            document.body.style.color = ''; // استعادة اللون الأصلي للنص
            // استعادة السطوع الافتراضي إذا لم يكن المستخدم قد ضبطه يدوياً
            // brightnessSlider.value = 100; // أو قيمة محفوظة مسبقًا
            // document.body.style.opacity = 1; 
            showNotification('تم إيقاف حماية العين');
            savePreferences(); // حفظ الحالة الجديدة
        }
    
        function updateFilter() {
            if (!isEyeProtectionEnabled) return;
    
            const temp = colorTempSliderElement.value;
            const warmth = (temp - 1700) / (2700 - 1700); // 0 (أكثر دفئًا) إلى 1 (أقل دفئًا)
            
            const sepiaValue = Math.min(1, 0.3 + 0.7 * (1 - warmth)); // زيادة تأثير السيبيا للألوان الدافئة
            const brightnessValue = 1 - 0.15 * (1 - warmth); // تقليل السطوع قليلاً مع الألوان الدافئة
            const contrastValue = reduceGlare.checked ? 1.05 : 1; // زيادة طفيفة للتباين عند تقليل الوهج
            const grayscaleValue = reduceGlare.checked ? 0.05 : 0; // مسحة رمادية خفيفة عند تقليل الوهج
            
            let filterString = `sepia(${sepiaValue}) brightness(${brightnessValue}) contrast(${contrastValue}) grayscale(${grayscaleValue})`;
            
            document.documentElement.style.filter = filterString;
            
            if (darkenText.checked) {
                // تعتيم النص بناءً على الدفء، النص يصبح أغمق مع الألوان الأكثر دفئًا
                document.body.style.color = `hsl(0, 0%, ${60 - ( (1-warmth) * 25)}%)`; 
            } else {
                document.body.style.color = ''; // استعادة اللون الافتراضي المحدد في CSS
            }
        }
    
        function checkTimeOfDay() {
            const hour = new Date().getHours();
            const isNightTime = hour >= 18 || hour <= 6; // من 6 مساءً حتى 6 صباحًا
            
            if (autoNightMode.checked) { // تحقق فقط إذا كان الوضع التلقائي نشطًا
                if (isNightTime) {
                    colorTempSliderElement.value = Math.max(1700, Math.min(colorTempSliderElement.value, 2000)); // ضبط لدرجة أكثر دفئًا ليلاً، لا تتجاوز 2000K
                    if (!isEyeProtectionEnabled) {
                        enableEyeProtection();
                        showNotification('تم تفعيل الوضع الليلي تلقائياً');
                    } else {
                        updateFilter(); // تحديث الفلتر إذا كان مفعلاً بالفعل
                    }
                } else { // وقت النهار
                    colorTempSliderElement.value = Math.min(2700, Math.max(colorTempSliderElement.value, 2400)); // درجة أقل دفئًا نهارًا، لا تقل عن 2400K
                    // يمكنك اختيارياً إيقاف الحماية تلقائيًا في النهار إذا كانت مفعلة بواسطة الوضع الليلي
                    // if (isEyeProtectionEnabled) {
                    //    disableEyeProtection();
                    //    showNotification('تم إيقاف الوضع الليلي تلقائياً (النهار)');
                    // }
                    if (isEyeProtectionEnabled) updateFilter();
                }
                updateSliderColor(colorTempSliderElement.value);
            }
        }
    
        function startAutoNightMode() {
            checkTimeOfDay(); // تحقق فورًا
            if (autoNightModeInterval) clearInterval(autoNightModeInterval); // مسح المؤقت القديم إذا وجد
            autoNightModeInterval = setInterval(checkTimeOfDay, 30 * 60 * 1000); // كل 30 دقيقة
        }
    
        function stopAutoNightMode() {
            clearInterval(autoNightModeInterval);
            autoNightModeInterval = null;
        }
    
        function showNotification(message) {
            // إزالة أي إشعار موجود أولاً
            const existingNotif = document.querySelector('.notification');
            if (existingNotif) existingNotif.remove();

            const notif = document.createElement('div');
            notif.className = 'notification';
            notif.textContent = message;
            document.body.appendChild(notif);
            
            setTimeout(() => {
                notif.classList.add('fade-out');
                setTimeout(() => notif.remove(), 500);
            }, 3000);
        }
    
        function savePreferences() {
            localStorage.setItem('eyeProtectionPrefs', JSON.stringify({
                autoNightMode: autoNightMode.checked,
                reduceGlare: reduceGlare.checked,
                darkenText: darkenText.checked,
                enabled: isEyeProtectionEnabled,
                brightness: brightnessSlider.value,
                colorTemp: colorTempSliderElement.value
            }));
        }
        
        // إغلاق اللوحة عند الضغط خارجها (باستثناء زر التبديل نفسه)
        document.addEventListener('click', function(event) {
            const isClickInsidePanel = controlPanel.contains(event.target);
            const isClickOnToggleButton = toggleButton.contains(event.target) || toggleButton === event.target;

            if (controlPanel.classList.contains('expanded') && !isClickInsidePanel && !isClickOnToggleButton) {
                controlPanel.classList.remove('expanded');
            }
        });

    </script>
</body>
</html>
  <style>
        body {
            font-family: 'Poppins', 'Amiri', serif;
            background-color: #121212;
            color: white;
            text-align: center;
            margin: 0;
            padding: 20px;



            text-align: center;
        }

        .popup {
            display: none;
            position: fixed;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e1e;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 150, 255, 0.6);
            text-align: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, top 0.3s ease-in-out;
        }

        .popup h3 {
            color: #00aaff;
            font-size: 22px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 10px;
        }

        .input-group input {
            width: 85%;
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #00aaff;
            text-align: center;
            font-size: 16px;
            background-color: #222;
            color: white;
            outline: none;
            transition: 0.3s;
        }

        .input-group input:focus {
            border-color: #007bff;
            box-shadow: 0 0 10px rgba(0, 150, 255, 0.5);
        }

        .gender-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .gender-buttons button {
            background: linear-gradient(90deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 8px;
            font-size: 16px;
            transition: background 0.3s ease, transform 0.2s ease-in-out;
        }

        .gender-buttons button:hover {
            background: linear-gradient(90deg, #0056b3, #003c80);
            transform: scale(1.05);
        }

        .gender-buttons button.selected {
            background: #FFD700;
            color: black;
            font-weight: bold;
        }

        .submit-button {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 25px;
            cursor: pointer;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 16px;
            transition: background 0.3s ease, transform 0.2s ease-in-out;
        }

        .submit-button:hover {
            background: #218838;
            transform: scale(1.05);
        }

        .fade-in {
            opacity: 1 !important;
            top: 50% !important;
        }

        #greeting {
            display: none;
            font-size: 24px;
            font-weight: bold;
            margin-top: 50px;
            text-shadow: 2px 2px 10px rgba(0, 150, 255, 0.5);
        }
#studyMessage {
    display: none;
    font-size: 18px;
    margin-top: 15px;
    color: #FFD700;
    font-weight: bold; /* ← تمت إضافتها */
    text-align: center;
}



    </style>
</head>
<body>

    <br>  <br>  
    <div id="welcomePopup" class="popup">
        <h3>  ! السلام عليكم و أهلاً يا طبيب/طبيبة مستقبلنا ان شاء الله  </h3>

        <p>من فضلك أدخل/ادخلي اسمك واختر/اختاري جنسك:</p>

    
        <div class="input-group">
            <input type="text" id="username" placeholder="أدخل اسمك">
        </div>
    
        <div class="gender-buttons">
            <button id="femaleButton" onclick="selectGender('female')"> امرأة</button>
            <button id="maleButton" onclick="selectGender('male')">  رجل</button>
           
        </div>
    
        <button class="submit-button" onclick="submitInfo()">متابعة</button>
    </div>
    
    <!-- يجب أن يكون خارج نافذة الإدخال حتى يظهر عند الضغط على متابعة -->
    <div id="greetingContainer" style="display: none; flex-direction: column; align-items: center; gap: 10px; margin-top: 70px;">
        <h2 id="welcomeMessage" style="color: #00aaff; text-align: center;"></h2>
        <img id="doctorImage" src="" alt="صورة الطبيب" style="width: 60px; height: 60px; border-radius: 50%;">
        <h1 id="greeting" style="margin: 0; font-size: 22px;"></h1>
    </div>
    <p id="studyMessage" style= " text-align: center; background-color: black;"></p>
    <BR>
<p id="nationMessage" style="color: #FFD700; font-weight: bold; font-size: 18px; text-align: center; background-color: black;"></p>
    
    <script>
        let selectedGender = "";
    
        document.addEventListener("DOMContentLoaded", function () {
            let storedName = localStorage.getItem("username");
            let storedGender = localStorage.getItem("gender");
            let visitCount = parseInt(localStorage.getItem("visitCount") || "0");
    
            visitCount += 1;
            localStorage.setItem("visitCount", visitCount);
    
            if (visitCount >= 3) {
                localStorage.removeItem("username");
                localStorage.removeItem("gender");
                localStorage.setItem("visitCount", "0");
                storedName = null;
            }
    
            if (storedName && storedGender) {
                displayGreeting(storedName, storedGender);
            } else {
                let popup = document.getElementById('welcomePopup');
                popup.style.display = 'block';
                setTimeout(() => popup.classList.add('fade-in'), 50);
            }
        });
    
        function selectGender(gender) {
            selectedGender = gender;
            document.getElementById("maleButton").classList.remove("selected");
            document.getElementById("femaleButton").classList.remove("selected");
    
            if (gender === "male") {
                document.getElementById("maleButton").classList.add("selected");
            } else {
                document.getElementById("femaleButton").classList.add("selected");
            }
        }
    


        function submitInfo() {
    let name = document.getElementById('username').value.trim();
    if (name === "") {
        alert("❌ يرجى إدخال اسمك");
        return;
    }
    if (!selectedGender) {
        alert("❌ يرجى اختيار الجنس");
        return;
    }

    console.log("🚀 إرسال الاسم:", name);
    console.log("🚀 إرسال الجنس:", selectedGender);

    localStorage.setItem("username", name);
    localStorage.setItem("gender", selectedGender);
    localStorage.setItem("visitCount", "0");

    displayGreeting(name, selectedGender);

    let popup = document.getElementById('welcomePopup');
    popup.classList.remove('fade-in');
    setTimeout(() => popup.style.display = 'none', 500);
}






function displayGreeting(name, gender) {
    console.log("✅ تم استلام الاسم:", name);
    console.log("✅ تم استلام الجنس:", gender);

    let welcomeMessage = `السلام عليكم ومرحبًا بك يا ${name}`;  
    
    
    let greetingMessage = gender === "male" 
        ? `مرحبًا دكتور ${name}!` 
        : `مرحبًا دكتورة ${name}!`;

    let studyMessage = gender === "male" 
        ? "ادرس جيدًا يا طبيب المسلمين إن شاء الله 📚" 
        : "ادرسِ جيدًا يا طبيبة المسلمات إن شاء الله 📚";

  
       
        

        let nationNeedsYou = 
    " يقول الله تعالى وبعد بسم الله الرحمان الرحيم :\n" +
    "  ﴿الَّذِينَ يَتَّخِذُونَ الْكَافِرِينَ أَوْلِيَاءَ مِن دُونِ الْمُؤْمِنِينَ ۚ أَيَبْتَغُونَ عِندَهُمُ الْعِزَّةَ فَإِنَّ الْعِزَّةَ لِلَّهِ جَمِيعًا ﴾\n" +
    "[النساء: 139]\n\n" +
    
    " يقول الله تعالى وبعد بسم الله الرحمان الرحيم :\n" +
    "﴿ لَهُ مُعَقِّبَاتٌ مِّن بَيْنِ يَدَيْهِ وَمِنْ خَلْفِهِ يَحْفَظُونَهُ مِنْ أَمْرِ اللَّهِ ۗ إِنَّ اللَّهَ لَا يُغَيِّرُ مَا بِقَوْمٍ حَتَّىٰ يُغَيِّرُوا مَا بِأَنفُسِهِمْ ۗ وَإِذَا أَرَادَ اللَّهُ بِقَوْمٍ سُوءًا فَلَا مَرَدَّ لَهُ ۚ وَمَا لَهُم مِّن دُونِهِ مِن وَالٍ ﴾\n" +
    "[الرعد: 11]\n\n" +

    "أمتكم بحاجة إليكم.. كونوا عونًا لها في سبيل الله، اجعلوا علمكم طريقًا لنهضة أمتكم.. أمتكم بحاجة إليكم.\n\n" +
    
    "فعن السلف الصالح عمر بن الخطاب رضي الله عنه قال:\n" +
    "\"إنَّا كنَّا أذَلَّ قومٍ، فأعزَّنا اللَّهُ بالإسلامِ، فمهما نطلُبِ العِزَّةَ بغيرِ ما أعزَّنا اللَّهُ به أذلَّنا اللَّهُ.\"";

// وضع النص داخل العنصر بدون أكواد HTML ظاهرة
document.getElementById('nationMessage').textContent = nationNeedsYou;






    let imageSrc = gender === "male" 
        ? "S22MCS PARTS/doctor.png" 
        : "S22MCS PARTS/doctormuslim.png";

    // تحديث العناصر في الصفحة
    document.getElementById('welcomeMessage').innerText = welcomeMessage;
    document.getElementById('greeting').innerText = greetingMessage;
    document.getElementById('studyMessage').innerText = studyMessage;
    document.getElementById('nationMessage').innerText = nationNeedsYou;
    document.getElementById('doctorImage').src = imageSrc;

    // عرض القسم بالكامل
    document.getElementById('greetingContainer').style.display = 'flex';
    document.getElementById('studyMessage').style.display = 'block';
    document.getElementById('nationMessage').style.display = 'block';
}

        
    </script>
    
</body>
</html>




<!DOCTYPE html>
        <html lang="ar">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>  </title>
       <!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحة الدرس</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* === إعدادات عامة === */
        :root {
            --primary-color: #00aaff;
            --primary-dark-color: #007bff;
            --primary-darker-color: #0056b3;
            --dark-bg: #121212;
            --light-dark-bg: #1a1a1a;
            --medium-dark-bg: #222;
            --dark-gray-bg: #333;
            --light-gray-bg: #444;
        }

        body {
            font-family: 'Poppins', 'Amiri', serif;
            background-color: var(--dark-bg);
            color: white;
            margin: 0;
            padding: 20px;
            text-align: center;
            padding-top: 100px; /* مساحة للشريط العلوي الثابت */
        }

        /* === الشريط العلوي === */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 90px;
            background-color: var(--dark-gray-bg);
            color: white;
            padding: 0 16px;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            box-sizing: border-box;
            gap: 15px; /* مسافة بين العناصر */
        }

        .sidebar h3 {
            margin: 0;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 0; /* يمنع التقلص */
        }
        
        /* حاوية شريط التقدم */
        .progress-bar-container {
            width: 100%; /* اجعله يأخذ المساحة المتاحة */
            max-width: 600px;
            height: 25px;
            background-color: var(--light-gray-bg);
            border-radius: 15px;
            position: relative;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            flex-grow: 1; /* يسمح له بالتمدد */
        }

.progress-bar {
    height: 100%;
    width: 50%;

  background-color: #0066ff; /* <-- هذا السطر يجعل الشريط أزرق */

    border-radius: 15px;
    transition: width 0.3s ease-in-out;
}



        .progress-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        /* أزرار الشريط العلوي */
        .sidebar-button {
            padding: 8px 12px;
            font-size: 0.9rem;
            box-sizing: border-box;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            background-color: var(--primary-dark-color);
            color: white;
            white-space: nowrap; /* يمنع التفاف النص */
        }
        .sidebar-button:hover {
            background-color: var(--primary-darker-color);
        }
        .finish-button {
             background-color: var(--primary-color);
        }

        /* === محتوى الدرس (الفقاعات) === */
        .lesson-container {
            margin-top: 20px;
        }
        .bubble {
            background: rgba(30, 30, 30, 0.95);
            box-shadow: 0 6px 20px rgba(0, 150, 255, 0.4);
            border-left: 6px solid var(--primary-color);
            padding: 20px;
            border-radius: 20px;
            margin: 20px auto 70px auto;
            max-width: 60rem;
            transition: transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
            text-align: right;
            position: relative;
            cursor: pointer;
        }
        .bubble:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 150, 255, 0.5);
        }

        .interact-button {
            position: absolute;
            top: 5px;
            left: 6px;
            background-color: var(--primary-dark-color);
            color: white;
            border: none;
            padding: 8px 12px;
            font-size: 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .interact-button:hover {
            background-color: var(--primary-darker-color);
        }
        
        /* صورة خارجية */
        .outside-image {
            display: block;
            margin: 20px auto;
            max-width: 100%;
            height: auto;
        }
        
        /* زر إعادة التحميل */
        .refresh-button {
            background: linear-gradient(135deg, var(--light-dark-bg), var(--dark-gray-bg));
            color: #ffffff;
            border: 1px solid var(--light-gray-bg);
            padding: 10px 22px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 25px;
            font-family: 'Poppins', Arial, sans-serif;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
            display: inline-flex;
            align-items: center;
            gap: 6px;
            min-width: 160px;
            justify-content: center;
        }
        .refresh-button:hover {
            background: linear-gradient(135deg, #292929, var(--light-gray-bg));
            transform: translateY(-3px);
            box-shadow: 0 6px 18px rgba(255, 255, 255, 0.15);
        }
        .refresh-button::before {
            content: "🔄";
            font-size: 18px;
        }

        /* === النوافذ المنبثقة (Modals) === */
        .modal, #end-lesson-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 400px;
            background: var(--medium-dark-bg);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 150, 255, 0.5);
            text-align: center;
        }
        .modal h3, #end-lesson-modal h3 {
            color: var(--primary-color);
        }
        .modal button, #end-lesson-modal button {
            background-color: var(--primary-dark-color);
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px;
            font-size: 16px;
        }
        .modal button:hover, #end-lesson-modal button:hover {
             background-color: var(--primary-darker-color);
        }
        
        /* نافذة نهاية الدرس */
        #end-lesson-modal {
            max-width: 600px;
            background-color: var(--dark-gray-bg);
            padding: 30px;
        }
         #end-lesson-modal h3 {
            font-size: 24px;
         }
         #end-lesson-modal p {
            font-size: 18px;
         }
        
        /* === استجابة التصميم للشاشات المختلفة (Media Queries) === */
        
        /* شاشات متوسطة (Tablets) */
        @media (max-width: 768px) {
            body {
                padding-top: 80px;
            }
            .sidebar {
                height: 70px;
                gap: 10px;
            }
            .sidebar h3 {
                font-size: 0.9rem;
            }
             .sidebar-button {
                padding: 6px 10px;
                font-size: 0.8rem;
            }
            .bubble {
                max-width: 90%;
                padding: 15px;
            }
            .refresh-button {
                padding: 8px 18px;
                font-size: 14px;
                min-width: 140px;
            }
        }

        /* شاشات صغيرة (الهواتف) */
        @media (max-width: 480px) {
            body {
                padding: 10px;
                padding-top: 130px; /* مساحة إضافية بسبب التفاف الشريط */
                font-size: 15px;
            }
            .sidebar {
                flex-wrap: wrap; /* السماح للعناصر بالالتفاف */
                height: auto; /* ارتفاع تلقائي */
                padding: 10px;
                justify-content: center;
            }
            .sidebar h3 {
                display: none; /* إخفاء النص لتوفير مساحة */
            }
            .progress-bar-container {
                order: -1; /* وضع شريط التقدم في الأعلى */
                width: 100%;
                height: 20px;
                margin-bottom: 10px;
            }
            .progress-percentage {
                font-size: 12px;
            }
            .bubble {
                padding: 10px;
            }
            .interact-button {
                font-size: 12px;
                padding: 5px 8px;
            }
             .refresh-button {
                padding: 7px 16px;
                font-size: 13px;
                min-width: 120px;
            }
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <button class="sidebar-button finish-button" onclick="finishLesson()">
            ✅ انتهيت
        </button>
        
        <h3 id="proo">📊 <span>التقدم</span></h3>

        <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
            <div class="progress-percentage" id="progress-percentage">0%</div>
        </div>

        <button onclick="goToUncompletedBubble()" class="sidebar-button">
            🔍 الفقاعات غير المكتملة
        </button>
    </div>


   
 




</body>
</html>
    


    <br>       <br>    <br>
    <div class="refresh-container"  id="ref">
        <button class="refresh-button" onclick="location.reload();">تحديث الصفحة</button>
    </div>
    <br>
    <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 70vh; text-align: center;">
      
     
        <h1 class="lesson-title">تَضَاعُفُ الْحِمْضِ النَّوَوِيِّ لَدَى بِدَائِيَّاتِ وَحَقِيقِيَّاتِ النَّوَى</h1>
        <h2 class="lesson-subtitle">🔻PROKARYOTIC AND EUKARYOTIC DNA REPLICATION🔻</h2>
        <h2 class="lesson-subtitle">🔻RÉPLICATION DE L'ADN PROCARYOTE ET EUCARYOTE🔻</h2>
    
    </div>
          
    </div>
    



     <!DOCTYPE html>
     <html lang="ar">
     <head>
         <meta charset="UTF-8">
         <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <title>تم عبر برنامج 2019 الطب الجزائري</title>
     
         <style>
         body {
             font-family: 'Poppins', 'Amiri', serif;
             direction: rtl;
             text-align: right;
             background-color: #121212;
             color: white;
             margin: 0;
             padding: 20px;
         }
         
         .container {
             max-width: 600px;
             margin: auto;
             background: #1e1e1e;
             padding: 20px;
             border-radius: 10px;
             box-shadow: 0 0 15px rgba(0, 150, 255, 0.3);
         }
         
         h2 {
             text-align: center;
             color: #00aaff;
         }
         
         .lesson {
             display: flex;
             align-items: center;
             justify-content: space-between;
             padding: 15px;
             border-bottom: 1px solid #444;
             flex-direction: column;
             background: rgba(30, 30, 30, 0.9);
             border-radius: 10px;
             margin-bottom: 10px;
             transition: transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
         }
         
         .lesson:hover {
             transform: translateY(-3px);
             box-shadow: 0 6px 15px rgba(0, 150, 255, 0.4);
         }
         
         .lesson input {
             transform: scale(1.3);
             accent-color: #00aaff;
         }
         
         .lesson span {
             flex-grow: 1;
             margin-right: 10px;
         }
         
         .translation {
             font-size: 12px;
             color: #bbb;
             margin-top: 5px;
         }
         
         .progress-bar {
             width: 100%;
             background: #444;
             height: 12px;
             border-radius: 6px;
             margin: 10px 0;
             overflow: hidden;
         }
         
         .progress {
             height: 100%;
             background: #00aaff;
             width: 0%;
             transition: width 0.3s;
         }
         
         .btn {
             display: block;
             width: 100%;
             padding: 12px;
             background: #00aaff;
             color: white;
             text-align: center;
             border: none;
             border-radius: 6px;
             cursor: pointer;
             font-size: 16px;
             margin-top: 10px;
             transition: background 0.3s ease-in-out;
         }
         
         .btn:hover {
             background: #0077cc;
         }
         
         .lang {
             text-align: center;
             color: #bbb;
             font-size: 14px;
             margin-top: 20px;
         }
     </style>    






     <style>

        /* تنسيقات عامة للفقاعات والجداول */
.bubble {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch; /* لتحسين التمرير على الأجهزة المحمولة */
}

table {
    width: 100%;
    border-collapse: collapse;
    margin: 15px 0;
    min-width: 600px; /* عرض أدنى للجدول لضمان القراءة */
}

th, td {
    padding: 12px 15px;
    text-align: right;
    border: 1px solid #ddd;
}

th {
    background-color: #f2f2f2;
    font-weight: bold;
}

/* تنسيقات خاصة للجداول الإنجليزية والفرنسية */
table[dir="rtl"] {
    text-align: right;
}

table:not([dir="rtl"]) {
    text-align: left;
}

/* تحسينات للعرض على الهواتف */
@media screen and (max-width: 768px) {
    th, td {
        padding: 8px 10px;
        font-size: 14px;
    }
    
    h3 {
        font-size: 16px;
    }
    
    p {
        font-size: 14px;
    }
}












        
     </style>
     </head>
     <body>
         <div class="container">

             <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
                <h2>الأهداف العامة والخاصة في الدرس</h2>
            </div>
            
             <div class="progress-bar"><div class="progress"></div></div>
             <div id="lessonList"></div>
             <button class="btn" onclick="completeAll()">إكمال الكل</button>
             <div class="lang">
                
                العربية

                <br>
            English | Français 
            </div>
         </div>
     
         <script>
             const lessons = [
        


             { ar: "  الاهداف العامة   " },




        { ar: "  الاهداف الخاصة بالدرس   " },







    ];

     
             const lessonList = document.getElementById("lessonList");
             lessons.forEach((lesson, index) => {
                 const div = document.createElement("div");
                 div.className = "lesson";
                 div.innerHTML = `
                     <input type="checkbox" onchange="updateProgress()" id="lesson${index}">
                     <span>${lesson.ar}</span>
                     <div class="translation">${lesson.en}</div>
                     <div class="translation">${lesson.fr}</div>
                 `;
                 lessonList.appendChild(div);
             });
     
             function updateProgress() {
                 const checkboxes = document.querySelectorAll("input[type=checkbox]");
                 let completed = 0;
                 checkboxes.forEach(cb => { if (cb.checked) completed++; });
                 document.querySelector(".progress").style.width = (completed / lessons.length * 100) + "%";
             }
     
             function completeAll() {
                 document.querySelectorAll("input[type=checkbox]").forEach(cb => cb.checked = true);
                 updateProgress();
             }
         </script>
     </body>
     </html>




<div class="bubble">
  <button class="interact-button" id="replication-plan" onclick="markBubbleAsCompleted(this)">تفاعل</button>

  <!-- بالعربية -->
  <ul>
    <li><strong>خطة الدرس:</strong></li>
    <ul>
      <li>1- التعريف</li>
      <li>2- خصائص التضاعف</li>
      <li>3- الأدوات الجزيئية للتضاعف</li>
      <li>4- آليات التضاعف عند بدائيات النوى</li>
      <li>5- آليات التضاعف عند حقيقيات النوى</li>
    </ul>
  </ul>

  <br>

  <!-- بالإنجليزية -->
  <div class="bubble" dir="ltr">
    <ul>
      <li><strong>Course Outline:</strong></li>
      <ul>
        <li>1- Definition</li>
        <li>2- Characteristics of replication</li>
        <li>3- Molecular tools of replication</li>
        <li>4- Replication mechanisms in prokaryotes</li>
        <li>5- Replication mechanisms in eukaryotes</li>
      </ul>
    </ul>
  </div>

  <br>

  <!-- بالفرنسية -->
  <div class="bubble">
    <ul>
      <li><strong>Plan du cours :</strong></li>
      <ul>
        <li>1- Définition</li>
        <li>2- Caractéristiques de la réplication</li>
        <li>3- Outils moléculaires de la réplication</li>
        <li>4- Mécanismes de la réplication chez les procaryotes</li>
        <li>5- Mécanismes de la réplication chez les eucaryotes</li>
      </ul>
    </ul>
  </div>
</div>



<div class="bubble">
  <button class="interact-button" id="replication-definition" onclick="markBubbleAsCompleted(this)">تفاعل</button>

  <!-- بالعربية -->
  <ul>
    <li><strong>1- التعريف:</strong></li>
    <ul>
      <li>التضاعف هو العملية التي تقوم من خلالها الخلية بنسخ حمضها النووي (ADN) قبل أن تنقسم.</li>
      <li>يُعد هذا الآلية ضرورية لنقل المادة الوراثية إلى الخلايا البنات.</li>
      <li>وهو ظاهرة معقدة ومنظمة تخضع لسيطرة عدة إنزيمات وبروتينات، من بينها بوليميرازات الـ ADN.</li>
      <li>يُعتبر هذا الحدث أساسيًا وقد تحدث فيه أخطاء، ولهذا السبب توجد آليات للمراقبة مدعومة بآليات لإصلاح الـ ADN.</li>
      <li>يحدث التضاعف خلال الطور البيني قبل أي انقسام خلوي.</li>
      <li>ويحدث تحديدًا خلال المرحلة S (مرحلة التركيب) من الطور البيني في الخلايا حقيقية النواة.</li>
    </ul>
  </ul>

  <br>

  <!-- بالإنجليزية -->
  <div class="bubble" dir="ltr">
    <ul>
      <li><strong>1- Definition:</strong></li>
      <ul>
        <li>Replication is the process by which the cell copies its DNA before dividing.</li>
        <li>This mechanism is necessary for the transmission of genetic material to daughter cells.</li>
        <li>It is a complex and ordered phenomenon under the control of several enzymes and proteins, including DNA polymerases.</li>
        <li>This is an essential event where errors may occur, which is why there are control mechanisms complemented by DNA repair systems.</li>
        <li>Replication occurs during interphase before any cell division.</li>
        <li>It takes place specifically during the S (synthesis) phase of the interphase in eukaryotic cells.</li>
      </ul>
    </ul>
  </div>

  <br>

  <!-- بالفرنسية -->
  <div class="bubble">
    <ul>
      <li><strong>1- Définition :</strong></li>
      <ul>
        <li>La réplication est le processus par lequel la cellule copie son ADN avant de se diviser.</li>
        <li>Ce mécanisme est nécessaire pour la transmission du matériel génétique aux cellules filles.</li>
        <li>C’est un phénomène complexe et ordonné sous le contrôle de plusieurs enzymes, et de protéines dont les ADN polymérases.</li>
        <li>Il s’agit d’un évènement essentiel ou peuvent survenir des erreurs, c’est la raison pour laquelle il y a des mécanismes de contrôle complétés par des mécanismes de réparation de l’ADN.</li>
        <li>La réplication se déroule pendant l’interphase avant toute division cellulaire.</li>
        <li>Elle se produit exactement au cours de la phase S (synthèse) de l’interphase chez les cellules eucaryotes.</li>
      </ul>
    </ul>
  </div>
</div>








<div class="bubble">
  <button class="interact-button" id="replication-rappel" onclick="markBubbleAsCompleted(this)">تفاعل</button>

  <!-- بالعربية -->
  <ul>
    <li><strong>تذكير:</strong></li>
    <ul>
      <li>تحتوي الخلايا حقيقية النواة على نواة مفصولة عن السيتوبلازم وDNA خطي.</li>
      <li>أما الخلايا بدائية النواة، فلا تحتوي على نواة: مادتها الوراثية توجد مباشرة في السيتوبلازم، وتكون على شكل كروموسوم واحد وDNA دائري.</li>
    </ul>
  </ul>

  <br>

  <!-- بالإنجليزية -->
  <div class="bubble" dir="ltr">
    <ul>
      <li><strong>Reminder:</strong></li>
      <ul>
        <li>Eukaryotes have a nucleus separated from the cytoplasm and linear DNA.</li>
        <li>Prokaryotes do not have a nucleus: their genetic material is directly in the cytoplasm and appears as a single chromosome and circular DNA.</li>
      </ul>
    </ul>
  </div>

  <br>

  <!-- بالفرنسية -->
  <div class="bubble">
    <ul>
      <li><strong>RAPPEL :</strong></li>
      <ul>
        <li>Les eucaryotes ont un noyau isolé du cytoplasme et un ADN linéaire.</li>
        <li>Les procaryotes n’ont pas de noyau : leur matériel génétique est directement dans le cytoplasme, et se présente sous la forme d’un chromosome unique et d’un ADN circulaire.</li>
      </ul>
    </ul>
  </div>
</div>







<div class="bubble">
  <button class="interact-button" id="replication-characteristics" onclick="markBubbleAsCompleted(this)">تفاعل</button>

  <!-- بالعربية -->
  <ul>
    <li><strong>2- خصائص التضاعف:</strong></li>
    <ul>
      <li><strong>2-1- شبه محافظة:</strong> وفقًا لقانون Meselson وStahl عام 1957. يتم تضاعف الـ ADN بطريقة شبه محافظة؛ إذ تحتوي كل جزيئة ناتجة على شريط أبوي وآخر جديد.</li>

      <li><strong>2-2- موجهة:</strong> يُقرأ كل شريط أبوي في الاتجاه 3’ إلى 5’ ويُستخدم كقالب لتكوين شريط مكمل ومضاد للتوازي يُسمى الشريط البنوي أو الشريط الجديد، ويُركب في الاتجاه 5’ إلى 3’.</li>

      <li><strong>2-3- ثنائية الاتجاه:</strong> يُفك شريطي الـ ADN في اتجاهين متعاكسين ويُستخدمان كقالب.</li>

      <li><strong>2-4- شبه متقطع:</strong> يتم تركيب الـ ADN دائمًا في الاتجاه 5’ إلى 3’، أما الشريط الذي يُقرأ بعكس اتجاه الشوكة فيُسمى الشريط المتقطع.</li>
    </ul>
  </ul>



  



      <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED  GENETICS/A49.png" alt="شرح الاختصارات الطبية" class="outside-image">
                </figure>
            </div>
      <li><em>الشكل 01: التضاعف شبه المحافظ للـ ADN</em></li>

                    <li><em>Figure 01: Semi-conservative replication of DNA</em></li>
        <li><em>Figure 01 : Réplication semi-conservatrice de l’ADN</em></li>

  <br>

  <!-- بالإنجليزية -->
  <div class="bubble" dir="ltr">
    <ul>
      <li><strong>2- Characteristics of replication:</strong></li>
      <ul>
        <li><strong>2-1- Semi-conservative:</strong> According to the law of Meselson and Stahl in 1957. DNA replicates in a semi-conservative manner. Each synthesized molecule has one parental strand and one newly synthesized strand.</li>

        <li><strong>2-2- Oriented:</strong> Each parental strand is read from 3’ to 5’ and serves as a template for the synthesis of a complementary and antiparallel strand, called the daughter or newly synthesized strand, made in the 5’ to 3’ direction.</li>

        <li><strong>2-3- Bidirectional:</strong> The two DNA strands are unwound in opposite directions and used as templates.</li>

        <li><strong>2-4- Semi-discontinuous:</strong> DNA is always synthesized in the 5’ to 3’ direction, and the strand read in the opposite direction of the replication fork is called the discontinuous strand.</li>
      </ul>
    </ul>
  </div>

  <br>

  <!-- بالفرنسية -->
  <div class="bubble">
    <ul>
      <li><strong>2- Caractéristiques de la réplication :</strong></li>
      <ul>
        <li><strong>2-1- Semi-conservatrice :</strong> selon la loi de Meselson et Stahl en 1957. L’ADN se réplique selon un mode semi conservatif. Chaque molécule synthétisée présente un brin parental et un brin néosynthétisé.</li>

        <li><strong>2-2- Orientée :</strong> Chaque brin parental est lu dans le sens 3’ vers 5’ et sert de matrice à la synthèse d’un brin complémentaire et antiparallèle, appelé brin fils ou brin néosynthétisé, synthétisé dans le sens 5’ vers 3’.</li>

        <li><strong>2-3- Bidirectionnelle :</strong> Les 2 brins d’ADN sont déroulés dans deux directions opposées et servent de matrice.</li>

        <li><strong>2-4- Semi-discontinue :</strong> La synthèse de l’ADN se fait toujours dans le sens 5’ vers 3’ et le brin lu dans le sens inverse de la fourche est dit brin discontinu.</li>
      </ul>
    </ul>
  </div>
</div>




<div class="bubble">
  <button class="interact-button" id="replication-tools" onclick="markBubbleAsCompleted(this)">تفاعل</button>

  <!-- بالعربية -->
  <ul>
    <li><strong>3- الأدوات الجزيئية لتضاعف الـ DNA:</strong></li>
    <ul>
      <li><strong>3-1- شريط من الـ DNA الكروموسومي:</strong> وهو الشريط القالب.</li>
      <li><strong>3-2- النيوكليوتيدات:</strong> على شكل ثلاثي الفوسفات (ATP، TTP، CTP، وGTP).</li>
      <li><strong>3-3- كاتيونات Mg++:</strong> يتطلب نشاط بوليميرازات الـ DNA وجود أيونات Mg2+ كعوامل مرافقة، والتي ترتبط خاصة مع مجموعات الفوسفات للنيوكليوتيدات والـ DNA.</li>
      <li><strong>3-4- الإنزيمات:</strong>
        <ul>
          <li><strong>بوليميرازات الـ DNA:</strong> هي الإنزيمات الأساسية في التضاعف، مسؤولة عن بلمرة النيوكليوتيدات أثناء تضاعف الـ DNA. تتحرك على طول شريط الـ DNA المفرد وتضيف نيوكليوتيدات حرة عند النهاية 3'. وهي من 3 أنواع (I، II، III) في البكتيريا، و5 أنواع (α، β، δ، ε، γ) في الخلايا حقيقية النواة.</li>
          <li><strong>البريمازات:</strong> هي بوليميرازات RNA قادرة على تركيب بادئة من RNA.</li>
          <li><strong>الهليكازات:</strong> تحتاج إلى الطاقة الناتجة عن تحلل الـ ATP لكسر الروابط الهيدروجينية بين شريطي الـ DNA.</li>
          <li><strong>بروتينات الربط الأحادي (SSB):</strong> ترتبط بأحد الشريطين لمنع إعادة التكوين الحلزوني المزدوج والحفاظ على الشريطين منفصلين.</li>
          <li><strong>التوبوإيزوميرازات:</strong> تزيل التفاف الـ DNA الزائد أمام شوكة التضاعف وتخفف التوترات بوجود ATP.</li>
        </ul>
      </li>
    </ul>
  </ul>

  <br>

  <!-- بالإنجليزية -->
  <div class="bubble" dir="ltr">
    <ul>
      <li><strong>3- Molecular tools of replication:</strong></li>
      <ul>
        <li><strong>3-1- A chromosomal DNA strand:</strong> which serves as the template strand.</li>
        <li><strong>3-2- Nucleotides:</strong> in the form of triphosphates (ATP, TTP, CTP, and GTP).</li>
        <li><strong>3-3- Mg++ cations:</strong> The activity of DNA polymerases requires the presence of Mg2+ ions as cofactors, which specifically bind to the phosphate groups of nucleotides and DNA.</li>
        <li><strong>3-4- Enzymes:</strong>
          <ul>
            <li><strong>DNA polymerases:</strong> the key enzymes of replication, responsible for nucleotide polymerization during DNA replication. They move along the single DNA strand and add free nucleotides to the 3’ end. They include 3 types (I, II, III) in prokaryotes and 5 types (α, β, δ, ε, γ) in eukaryotes.</li>
            <li><strong>Primases:</strong> RNA polymerases capable of synthesizing RNA primers.</li>
            <li><strong>Helicases:</strong> require the energy from ATP hydrolysis to break the hydrogen bonds between the two DNA strands.</li>
            <li><strong>SSB (Single Strand Binding) proteins:</strong> bind to one strand to prevent reformation of the double helix and keep the two strands separated.</li>
            <li><strong>Topoisomerases:</strong> remove supercoils ahead of the replication fork and relieve tension with the help of ATP.</li>
          </ul>
        </li>
      </ul>
    </ul>
  </div>

  <br>

  <!-- بالفرنسية -->
  <div class="bubble">
    <ul>
      <li><strong>3- Outils moléculaires de la réplication :</strong></li>
      <ul>
        <li><strong>3-1- Un brin d’ADN chromosomique :</strong> qui est le brin matrice.</li>
        <li><strong>3-2- Des nucléotides :</strong> sous la forme de triphosphate (ATP, TTP, CTP et GTP).</li>
        <li><strong>3-3- Des cations Mg++ :</strong> L'activité des ADN polymérases nécessite la présence d’ions Mg2+ comme cofacteurs qui se fixent en particulier sur les groupes phosphate des nucléotides et de l'ADN.</li>
        <li><strong>3-4- Les enzymes :</strong>
          <ul>
            <li><strong>Les ADN polymérases :</strong> sont les enzymes fondamentales à la réplication, responsables de la polymérisation des nucléotides lors de la réplication de l’ADN. Elles se déplacent le long de l’ADN simple brin et ajoutent des nucléotides libres à l’extrémité 3’. Elles sont de 3 types (I, II et III) pour les procaryotes et de 5 types (α, β, δ, ε et γ) pour les eucaryotes.</li>
            <li><strong>Les primases :</strong> sont des ARN polymérases capables de synthétiser l’amorce d’ARN.</li>
            <li><strong>Les hélicases:</strong> nécessitent l’énergie fournie par l’hydrolyse de l’ATP pour briser les liaisons hydrogènes entre les 02 brins d’ADN.</li>
            <li><strong>Les protéines de liaison SSB (Single Strand Binding) :</strong> s’attachent à l’un des brins, afin d’empêcher la reformation de la double hélice, et de garder les deux brins séparés.</li>
            <li><strong>Les topoisomérases :</strong> suppriment les surenroulements en amont de la fourche de réplication et relâchent les tensions en présence d’ATP.</li>
          </ul>
        </li>
      </ul>
    </ul>
  </div>
</div>





<div class="bubble">
  <button class="interact-button" id="prokaryote-replication" onclick="markBubbleAsCompleted(this)">تفاعل</button>

  <!-- بالعربية -->
  <ul>
    <li><strong>٤- آليات تضاعف الـ DNA عند بدائيات النوى:</strong></li>
    <ul>
      <li>يحدث تضاعف الـ DNA في الخلايا بدائيات وحقيقيات النوى وفقًا لآلية متشابهة، غير أن الآلية تكون أكثر تعقيدًا بكثير عند حقيقيات النوى.</li>
      <li>يُتخذ تضاعف الـ DNA في بكتيريا الإشريكية القولونية <em>(E.Coli)</em> كنموذج لدراسة هذه الآلية عند بدائيات النوى.</li>
      <li>يمكن تقسيم التضاعف إلى ثلاث مراحل رئيسية:</li>
    </ul>
  </ul>

  <br>

  <!-- بالإنجليزية -->
  <div class="bubble" dir="ltr">
    <ul>
      <li><strong>4- Mechanisms of DNA replication in prokaryotes:</strong></li>
      <ul>
        <li>DNA replication in both eukaryotic and prokaryotic cells follows a similar mechanism, though it is significantly more complex in eukaryotes.</li>
        <li>The model commonly used for prokaryotic replication is the replication process in <em>E. Coli</em>.</li>
        <li>The replication process can be subdivided into three main stages:</li>
      </ul>
    </ul>
  </div>

  <br>

  <!-- بالفرنسية -->
  <div class="bubble">
    <ul>
      <li><strong>4- Mécanismes de la réplication chez les procaryotes :</strong></li>
      <ul>
        <li>La réplication de l'ADN dans les cellules eucaryotes et procaryotes se déroule selon un mécanisme identique. Elle est cependant beaucoup plus complexe chez les eucaryotes.</li>
        <li>On prend comme modèle de réplication chez les procaryotes : la réplication chez <em>E.Coli</em>.</li>
        <li>On peut subdiviser la réplication en 3 temps :</li>
      </ul>
    </ul>
  </div>
</div>








<div class="bubble">
  <button class="interact-button" id="replication-initiation" onclick="markBubbleAsCompleted(this)">تفاعل</button>

  <!-- بالعربية -->
  <ul>
    <li><strong>٤-١- البدء (Initiation):</strong></li>
    <ul>
      <li>يُقال إن التضاعف موجَّه، حيث يبدأ عند موقع محدد يُدعى Ori C.</li>
      <li>Ori C هو تسلسل يتكوّن من 246 زوجًا من القواعد ويحتوي على 4 مواقع نوعية.</li>
      <li>ترتبط بروتينات محددة بهذه المواقع الأربعة وتبدأ بتجميع البروتينات والإنزيمات اللازمة لعملية التضاعف.</li>
      <li>تشمل المراحل المتتابعة ما يلي:
        <ul>
          <li>فك التفاف اللولب المزدوج بواسطة إنزيم التوبويزوميراز II المعروف أيضًا بالجيراز.</li>
          <li>فتح اللولب بواسطة إنزيم الهيليكاز.</li>
          <li>تثبيت مؤقت للجزء المفتوح (الإبقاء على التفاف اللولب مفتوحًا) بواسطة بروتينات SSB.</li>
        </ul>
      </li>
      <li>يمثل ذلك بداية تكوّن "عين التضاعف" التي يُطلق على أطرافها على شكل "Y" اسم **شوكة التضاعف**.</li>
     
   
    </ul>
  </ul>







      <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED  GENETICS/A50.png" alt="شرح الاختصارات الطبية" class="outside-image">
                </figure>
            </div>
 <li><em>الشكل 02: بداية التضاعف.</em></li>
 <li><em>Figure 02: Start of replication.</em></li>
 <li><em>Figure 02 : Le début de la réplication.</em></li>



      <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED  GENETICS/A51.png" alt="شرح الاختصارات الطبية" class="outside-image">
                </figure>
            </div>
      <li><em>الشكل 03: شوكة التضاعف.</em></li>  
      <li><em>Figure 03: Replication fork.</em></li>
    <li><em>Figure 03 : La fourche de la réplication.</em></li>
  <br>

  <!-- بالإنجليزية -->
  <div class="bubble" dir="ltr">
    <ul>
      <li><strong>4-1- Initiation:</strong></li>
      <ul>
        <li>Replication is said to be directed; it starts at a specific site called Ori C.</li>
        <li>Ori C is a 246 base pair sequence containing 4 specific sites.</li>
        <li>A specific protein binds to these 4 sites and initiates the assembly of the necessary replication proteins and enzymes.</li>
        <li>The following sequential steps occur:
          <ul>
            <li>Unwinding of the helix by topoisomerase II, also known as gyrase.</li>
            <li>Opening of the helix by helicase.</li>
            <li>Temporary stabilization of the opened region (maintaining the helix in an open state) by SSB proteins.</li>
          </ul>
        </li>
        <li>This marks the beginning of the replication bubble, whose "Y"-shaped edges are called the **replication fork**.</li>
   
      </ul>
    </ul>
  </div>

  <br>

  <!-- بالفرنسية -->
  <div class="bubble">
    <ul>
      <li><strong>4-1- l’initiation :</strong></li>
      <ul>
        <li>La réplication est dite orientée ; elle commence au niveau d'un site spécifique : le site Ori C.</li>
        <li>Ori C est une séquence de 246 paires de bases qui contient 4 sites spécifiques.</li>
        <li>Une protéine spécifique s'associe à ces 4 sites et initie l'assemblage des protéines et des enzymes nécessaires à la réplication.</li>
        <li>On aura donc les étapes successives suivantes :
          <ul>
            <li>→ Déroulement de l'hélice par la topoisomérase II, appelée aussi gyrase.</li>
            <li>→ Ouverture de l'hélice par l'hélicase.</li>
            <li>→ Stabilisation transitoire de la partie déroulée (maintien de l’hélice ouverte) par les protéines SSB.</li>
          </ul>
        </li>
        <li>Ceci correspond au début de la formation de l'oeil de réplication dont les bords en "Y" sont appelés <strong>FOURCHE DE REPLICATION</strong>.</li>
      
      </ul>
    </ul>
  </div>
</div>








<div class="bubble">
    <button class="interact-button" id="elongation-dna" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>٤-٢- الاستطالة:</strong></li>
        <ul>
            <li>تتم عملية تصنيع الـDNA بشكل ثنائي الاتجاه انطلاقاً من موقع Ori C، حيث تحدث على طول جزيء الـDNA في الاتجاهين المعاكسين (شوكتا تضاعف).</li>
            <li>تتطلب عملية الاستطالة عمل نوع من الإنزيمات الخاصة: بوليميرازات الـDNA التي تستخدم ريبونوكليوتيدات ثلاثية الفوسفات (dNTP) كركائز لأن التبلمر يحتاج إلى طاقة.</li>
            <li>كل من السلسلتين الأبويتين تعمل كقالب لتصنيع جزيء DNA جديد. وهما مضادتا التوازي، واحدة في اتجاه 5'→3' والأخرى 3'→5'.</li>
            <li>الاستطالة تتم دائماً في اتجاه 5'→3' وتنتج سلسلة مكملة ومضادة للتوازي مع السلسلة القالب.</li>
            <li>لبدء تصنيع الـDNA، تحتاج بوليميرازات الـDNA إلى جزء صغير مزدوج السلسلة يتكون من بادئة RNA مرتبطة بالسلسلة القالب.</li>
            <li>يتم تصنيع هذه البادئة (Primer) بواسطة إنزيم RNA بوليميراز يسمى البريماز.</li>
            <li>تُعد هذه البادئات ضرورية لأن إنزيم DNA بوليميراز يتطلب نهاية 3'-OH حرة لربط أول dNTP.</li>
        </ul>

        <ul>
            <li>يحدث الاستطالة بواسطة DNA بوليميراز III في E.Coli. ونظراً لأن عمل هذا الإنزيم يتم فقط في اتجاه 5'→3'، ولأن السلاسل القالبية مضادة التوازي، يوجد نوعان من آليات التضاعف عند شوكة التضاعف:</li>
            <ul>
                <li><strong>تخليق السلسلة المباشرة (المبكرة):</strong> وهي السلسلة المكملة للسلسلة القالبية ذات الاتجاه 3'→5'، حيث يكون اتجاه النسخ موافق لاتجاه شوكة التضاعف. مما يسمح بتخليق مستمر حتى نقطة النهاية.</li>
                <li><strong>تخليق السلسلة المتأخرة (المتأخرة):</strong> وهي السلسلة المكملة للسلسلة القالبية ذات الاتجاه 5'→3'، حيث يكون اتجاه النسخ معاكس لاتجاه شوكة التضاعف، لذلك يتم تخليقها بشكل متقطع على شكل قطع صغيرة تُسمى "قطع أوكازاكي".</li>
            </ul>
            <li>يبدأ كل جزء ببداية RNA، ثم تحدث الاستطالة بواسطة DNA بوليميراز III، يتبعها إزالة البادئة بواسطة إنزيم له نشاط إكسونوكلياز 5'→3' (DNA بوليميراز I في البكتيريا أو RNase H في الخلايا حقيقية النواة)، ثم يتم استبدالها بـ DNA، وتُربط الأجزاء بواسطة إنزيم DNA ligase.</li>
        </ul>
    </ul>

    <br>

          <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED  GENETICS/A52.png" alt="شرح الاختصارات الطبية" class="outside-image">
                </figure>
            </div>
        <li><strong>الشكل 04:</strong> تصنيع بادئة RNA</li>

                <li><strong>Figure 04:</strong> RNA primer synthesis</li>
            <li><strong>Figure 04 :</strong> Synthèse de l’amorce ARN</li>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>4-2- Elongation:</strong></li>
            <ul>
                <li>DNA synthesis is bidirectional starting from Ori C; it proceeds along the DNA molecule in both directions (two replication forks).</li>
                <li>Elongation requires specific enzymes: DNA polymerases that use deoxyribonucleoside triphosphates (dNTPs) as substrates because polymerization requires energy.</li>
                <li>Each of the two parental strands at the replication fork serves as a template for a new DNA strand. The two strands are antiparallel: one in the 5'→3' direction, the other in the 3'→5' direction.</li>
                <li>DNA elongation always proceeds in the 5'→3' direction, producing a complementary, antiparallel strand to the template.</li>
                <li>To initiate DNA synthesis, DNA polymerases require a short double-stranded region formed by an RNA primer base-paired to the template strand.</li>
                <li>This primer is synthesized by an RNA polymerase called primase.</li>
                <li>These RNA primers are essential because DNA polymerase needs a free 3'-OH end to bind the first dNTP.</li>
            </ul>

            <ul>
                <li>Elongation is carried out by DNA polymerase III in E. coli. Since the polymerase works only in the 5'→3' direction, and the template strands are antiparallel, there are two different replication mechanisms:</li>
                <ul>
                    <li><strong>Leading strand synthesis:</strong> Complementary to the 3'→5' parental strand. Synthesis proceeds continuously in the 5'→3' direction along the same direction as the replication fork.</li>
                    <li><strong>Lagging strand synthesis:</strong> Complementary to the 5'→3' parental strand. Synthesis occurs in the opposite direction of the fork movement and proceeds discontinuously in fragments called Okazaki fragments.</li>
                </ul>
                <li>Each fragment begins with an RNA primer, followed by elongation by DNA polymerase III, removal of the primer by an enzyme with 5'→3' exonuclease activity (DNA polymerase I in bacteria or RNase H in eukaryotes), replacement with DNA by DNA polymerase I, and final joining of fragments by DNA ligase.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>4-2- L’élongation :</strong></li>
            <ul>
                <li>La synthèse de l'ADN est bidirectionnelle à partir de l’Ori C ; elle a lieu le long de la molécule d’ADN dans les deux sens opposés (deux fourches de réplication).</li>
                <li>L'élongation nécessite l'action d'enzymes spécifiques : les ADN polymérases qui utilisent comme substrats les désoxyribonucléosides triphosphates (dNTP) car la polymérisation nécessite de l'énergie.</li>
                <li>Chacun des deux brins d’ADN situés au niveau de la fourche de réplication sert de matrice pour la synthèse d’un nouveau brin. Les deux brins parentaux sont antiparallèles : l’un dans le sens 5'→3' et l’autre dans le sens 3'→5'.</li>
                <li>L'élongation de l'ADN progresse toujours dans le sens 5'→3' et produit un brin complémentaire et antiparallèle au brin matrice.</li>
                <li>Pour commencer la synthèse, les ADN polymérases ont besoin d'une région double brin formée d'une amorce d’ARN appariée au brin matrice.</li>
                <li>Cette amorce est synthétisée par une ARN polymérase appelée primase.</li>
                <li>Ces amorces sont indispensables car l'ADN polymérase nécessite une extrémité 3'-OH libre pour ajouter le premier dNTP.</li>
            </ul>

            <ul>
                <li>L’élongation se fait grâce à l’ADN polymérase III chez E.Coli. Comme cette polymérase agit uniquement dans le sens 5'-3' et que les brins matrices sont antiparallèles, deux mécanismes sont présents :</li>
                <ul>
                    <li><strong>Brin direct (précoce) :</strong> Complémentaire au brin parental orienté 3'→5'. La synthèse est continue dans le même sens que la fourche de réplication.</li>
                    <li><strong>Brin retardé (tardif) :</strong> Complémentaire au brin parental 5'→3'. La synthèse est discontinue, en fragments appelés fragments d’Okazaki.</li>
                </ul>
                <li>Chaque fragment débute par une amorce d’ARN, suivie d'une élongation par l’ADN polymérase III, puis d’une digestion de l’amorce (ADN polymérase I ou RNase H), et enfin remplacement par de l’ADN et ligation des fragments par l’ADN ligase.</li>
            </ul>
        </ul>

    </div>


      <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED  GENETICS/A53.png" alt="شرح الاختصارات الطبية" class="outside-image">
                </figure>
            </div>
        <li><strong>الشكل 05:</strong> السلسلة المتأخرة (قطع أوكازاكي) والسلسلة المبكرة</li>
            <li><strong>Figure 05:</strong> Lagging strand (Okazaki fragments) and leading strand</li>

                <li><strong>Figure 05 :</strong> Brin tardif (fragments d’Okazaki) et brin précoce</li>

</div>














<div class="bubble">
    <button class="interact-button" id="termination-dna" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>٤-٣- الانتهاء:</strong></li>
        <ul>
            <li>وجود تسلسلات (موقف) لكل من شوكتي التضاعف.</li>
            <li>تلتقي شوكتا التضاعف على بعد 180° من موقع ORI C.</li>
            <li>البروتين (Tus) (مادة استخدام الموقف) يتعرف على تسلسلات التوقف ويثبط عمل الهيليكاز، مما يجعل شريطَي الـDNA مرتبطين.</li>
            <li>يحدث الانفصال بواسطة التوبوإيزوميراز IV.</li>
            <li>من الناحية الشكلية، في E.Coli، نلاحظ تكوّن الشكل ثيتا (θ) أثناء التضاعف، الذي يؤدي إلى فصل جزيئين من DNA.</li>
            <li>في E.Coli، كما في معظم بدائيات النوى، هناك أصل تضاعف واحد فقط.</li>
            <li>التضاعف في بدائيات النوى سريع: 1000 قاعدة في الثانية (20 إلى 100 دقيقة).</li>
        </ul>
     

    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>4-3- Termination:</strong></li>
            <ul>
                <li>Presence of terminator sequences for each of the two replication forks.</li>
                <li>The two replication forks meet at 180° from the ORI C.</li>
                <li>The protein (Tus) (terminator utilization substance) recognizes the stop sequences and inhibits helicase activity, thus keeping the two DNA strands bound.</li>
                <li>Dissociation occurs with topoisomerase IV.</li>
                <li>Morphologically, in E. coli, the formation of the theta (θ) shape is observed during replication, which leads to the separation of two DNA molecules.</li>
                <li>In E. coli, as in most prokaryotes, there is only one replication origin.</li>
                <li>Replication in prokaryotes is fast: 1000 bases per second (20 to 100 minutes).</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>4-3- La terminaison :</strong></li>
            <ul>
                <li>Présence de séquences (terminator) pour chacune des deux fourches.</li>
                <li>Les deux fourches de la réplication se rencontrent à 180° de l’ORI C.</li>
                <li>La protéine (Tus) (terminator utilization substance) reconnaît les séquences d’arrêt et inhibe l’action de l’hélicase, donc les deux brins d’ADN restent liés.</li>
                <li>Dissociation avec la topoisomérase IV.</li>
                <li>Sur le plan morphologique, pour E.Coli, on remarque la formation de la forme thêta (θ) au cours de la réplication, qui aboutit à la séparation de deux molécules d’ADN.</li>
                <li>Chez E.Coli, comme chez la plupart des procaryotes, il existe UNE SEULE ORIGINE DE RÉPLICATION.</li>
                <li>La réplication chez les procaryotes est rapide : 1000 bases/seconde (20 à 100 minutes).</li>
            </ul>
        </ul>
    </div>




      <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED  GENETICS/A54.png" alt="شرح الاختصارات الطبية" class="outside-image">
                </figure>
            </div>
   <li><strong>الشكل 06:</strong> تضاعف الـDNA في E.Coli</li>
                    <li><strong>Figure 06:</strong> DNA replication in E. coli</li>
                <li><strong>Figure 06 :</strong> Réplication de l’ADN chez E. coli</li>

</div>












<div class="bubble">
    <button class="interact-button" id="replication-eukaryotes" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>5- آليات التضاعف لدى حقيقيات النوى :</strong></li>
        <ul>
            <li>نفس المبدأ مع بعض الاختلافات:</li>
            <li>في حقيقيات النوى، موقع الأصل للتضاعف يسمى "التسلسل المستقل للتضاعف" (ARS). ويوجد على الـDNA الخطي عدد كبير جدًا من ARS.</li>
            <li>أثناء التضاعف، يتكون عدة "عيون" تضاعف على نفس الصبغي. كل وحدة تضاعف تسمى REPLICON.</li>
            <li>في الإنسان يوجد أصل تضاعف تقريبًا كل 150 نوكليوتيد. سرعة التضاعف 50 نوكليوتيد/ثانية لكل شريط ويستغرق 6 إلى 7 ساعات لتضاعف 6×10⁹ نوكليوتيدات خلال المرحلة S.</li>
            <li>لأن الـDNA مرتبط بالهيستونات، يجب تفكيك النوكليوسومات للسماح بفك الـDNA وتضاعفه. وتُعاد الجزيئات الجديدة بسرعة للارتباط بالهيستونات وتكوين نوكليوسومات جديدة.</li>
            <li>يوجد 5 أنواع من إنزيمات البوليميراز في حقيقيات النوى حالياً:</li>
            <ul>
                <li>الـDNA بوليميراز α: له وظيفة بريماز أيضاً بالتعاون مع إنزيمات أخرى.</li>
                <li>الـDNA بوليميراز β و ε: يشاركان في إصلاح الـDNA ولهما نشاط إكسونوكليازي من 3' إلى 5'.</li>
                <li>الـDNA بوليميراز δ: مسؤول عن إطالة الـDNA النووي وله نشاط إكسونوكليازي 3'→5'.</li>
                <li>الـDNA بوليميراز γ: مسؤول عن إطالة الـDNA الميتوكوندري.</li>
            </ul>
            <li><strong>حالة خاصة للتيلوميرات:</strong></li>
            <ul>
                <li>في معظم الخلايا الجسمية المميزة، تتقلص التيلوميرات (تسلسل مكرر GGTTAG GGTTAG مرتبط ببروتين) في أطراف الكروموسومات بحوالي 100 نوكليوتيد مع كل تضاعف.</li>
                <li>هذا التقلص ناتج عن عدم قدرة الـDNA بوليميراز على استبدال المِرساة التي أزيلت بواسطة RNAse H، مما يترك شريطًا مفردًا في الطرف 3' يتدهور.</li>
                <li>طول التيلوميرات يقل من حوالي 12000 نوكليوتيد عند الولادة إلى 4000 نوكليوتيد عند عمر 80 سنة.</li>
                <li>هذا التقلص يؤدي إلى الشيخوخة الخلوية.</li>
                <li>بعد حد معين، تتوقف الخلية عن الانقسام وتتجه نحو الاستماتة (Apoptose) وتموت.</li>
                <li>في الخلايا الجنينية، الجذعية، الجرثومية، والخلايا السرطانية، يتم إطالة التيلوميرات بواسطة إنزيم يُشبه الترانسكريبتاز العكسي يسمى TERT (تيلوميراز ريتروترانسكربتاز)، الذي لا يحتاج إلى قالب DNA كروموسومي، بل يمتلك قالب ARN يسمى TERC (مكون RNA للتيلوميراز).</li>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>5- Mechanisms of replication in eukaryotes:</strong></li>
            <ul>
                <li>It is the same principle but with some differences:</li>
                <li>In eukaryotes, the replication origin site is called "Autonomous Replicating Sequence" (ARS). There are many ARS on linear DNA.</li>
                <li>During replication, multiple replication forks (replication eyes) form on the same chromosome. Each replication unit is called a REPLICON.</li>
                <li>In humans, there is approximately one origin of replication every 150 nucleotides. The replication speed is 50 nucleotides/second per strand and it takes 6 to 7 hours to replicate the 6×10⁹ nucleotides during the S phase.</li>
                <li>Since DNA is associated with histones, nucleosomes must dissociate to allow DNA unwinding and replication. Newly formed DNA molecules rapidly organize into nucleosomes by associating with histones.</li>
                <li>Five DNA polymerases are currently described in eukaryotes:</li>
                <ul>
                    <li>DNA polymerase α: which also has primase function by associating with other enzymes.</li>
                    <li>DNA polymerases β and ε: involved in DNA repair mechanisms as they have 3'→5' exonuclease activity.</li>
                    <li>DNA polymerase δ (delta): responsible for nuclear DNA elongation. It also has 3'→5' exonuclease activity.</li>
                    <li>DNA polymerase γ (gamma): responsible for mitochondrial DNA elongation.</li>
                </ul>
                <li><strong>Special case of telomeres:</strong></li>
                <ul>
                    <li>In most differentiated somatic cells, telomeres (repeated sequence GGTTAG GGTTAG associated with a protein) at chromosome ends shorten by about 100 nucleotides with each replication.</li>
                    <li>This shortening is due to the inability of DNA polymerase to replace the primer removed by RNAse H, leaving a single strand at the 3' end which is then degraded.</li>
                    <li>Telomeres decrease from about 12,000 nucleotides at birth to 4,000 nucleotides at 80 years old.</li>
                    <li>The shortening leads the cell towards senescence.</li>
                    <li>After a certain limit, the cell stops dividing and is directed towards apoptosis and death.</li>
                    <li>In embryonic cells, stem cells, germ cells, and cancer cells, telomeres are lengthened by a reverse transcriptase enzyme called TERT (telomerase reverse transcriptase), which does not require a chromosomal DNA template but carries its own RNA template called TERC (telomerase RNA component).</li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>5- Mécanismes de la réplication chez les eucaryotes :</strong></li>
            <ul>
                <li>C'est le même principe avec cependant certaines différences :</li>
                <li>Chez les eucaryotes, le site : origine de réplication est appelé "Séquence autonome de réplication" (ARS). Il existe sur l'ADN linéaire un très grand nombre d'ARS.</li>
                <li>Au moment de la réplication, il se forme alors plusieurs yeux de réplication sur un même chromosome. Chaque unité de réplication est appelée REPLICON.</li>
                <li>Chez l’homme il existe environ une origine de réplication tous les 150 nucléotides. La vitesse de réplication est de 50 nucléotides/seconde pour chaque brin et il faut 6 à 7 heures pour répliquer les 6.10⁹ nucléotides pendant la phase S.</li>
                <li>L'ADN étant associé aux histones, il faut que les nucléosomes se dissocient pour permettre le déroulement de l'ADN et sa réplication. Les molécules d’ADN nouvellement formées s'organisent très rapidement en nucléosomes en s'associant aux histones.</li>
                <li>Chez les eucaryotes, 5 ADN polymérases sont décrites actuellement :</li>
                <ul>
                    <li>L'ADN polymérase α : qui a aussi une fonction primase en s'associant à d’autres enzymes.</li>
                    <li>L'ADN polymérases β et ADN pol ε : sont impliqués dans les mécanismes de réparation de l'ADN car elles ont une activité exonucléasique dans le sens 3'→5'.</li>
                    <li>L'ADN polymérase δ (delta) : qui est responsable de l'élongation de l'ADN nucléaire. Elle a aussi une activité exonucléasique 3'→5'.</li>
                    <li>L'ADN polymérase γ (gamma) : responsable de l'élongation de l'ADN mitochondrial.</li>
                </ul>
                <li><strong>Cas particulier des télomères :</strong></li>
                <ul>
                    <li>Dans la plupart des cellules somatiques différenciées les télomères, (séquence répétée GGTTAG GGTTAG associée à une protéine) situés aux extrémités des chromosomes se raccourcissent à chaque réplication d’environ 100 nucléotides.</li>
                    <li>Ce raccourcissement est dû à l’incapacité de l’ADN polymérase de remplacer l’amorce éliminée par la RNAse H. il subsiste un monobrin à l’extrémité 3’ qui est alors dégradé.</li>
                    <li>Les télomères passent de 12000 nucléotides chez un nouveau-né à 4000 nucléotides chez une personne de 80 ans.</li>
                    <li>Le raccourcissement conduit la cellule vers la sénescence.</li>
                    <li>Au bout d’une certaine limite, la cellule cesse de se diviser, elle est orientée vers l’Apoptose et meure.</li>
                    <li>Dans les cellules embryonnaires, les cellules souches, les cellules germinales et cancéreuses, les télomères sont rallongés grâce à une enzyme de type transcriptase réverse. Cette enzyme TERT (télomérase retrotranscriptase) n’a pas besoin d’une matrice de l’ADN chromosomique, car elle possède elle-même une matrice ARN appelée TERC (télomérase RNA component).</li>
                </ul>
            </ul>
        </ul>
    </div>
</div>

<div class="bubble">
  <!-- بالعربية -->
  <ul>
    <li><strong>الشكل 07 :</strong> عمل التيلوميراز.</li>
  </ul>
 <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED  GENETICS/A55.png" alt="شرح الاختصارات الطبية" class="outside-image">
                </figure>
            </div>
  <br>

  <!-- بالإنجليزية -->
  <div class="bubble" dir="ltr">
    <ul>
      <li><strong>Figure 07:</strong> Action of telomerase.</li>
    </ul>
  </div>

  <br>

  <!-- بالفرنسية -->
  <div class="bubble">
    <ul>
      <li><strong>Figure 07 :</strong> Action de la télomérase.</li>
    </ul>
  </div>
</div>







<div class="bubble">
  <!-- بالعربية -->
  <ul>
    <li><strong>الجدول: مقارنة بين آلية التكرار في الخلية بدائية النواة والخلية حقيقية النواة :</strong></li>
    <table style="width:100%; border-collapse: collapse;" border="1" dir="rtl">
      <thead>
        <tr>
          <th>العنصر</th>
          <th>خلية بدائية النواة</th>
          <th>خلية حقيقية النواة</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>الكروموسوم</td>
          <td>وحيد، دائري وعاري</td>
          <td>عدة، هي مركبات من الـ ADN والبروتين</td>
        </tr>
        <tr>
          <td>منشأ التكرار</td>
          <td>واحد فقط</td>
          <td>عدة منشأ</td>
        </tr>
        <tr>
          <td>حجم الموجه (الأمبراز)</td>
          <td>9 إلى 12 نوكليوتيد</td>
          <td>10 نوكليوتيدات</td>
        </tr>
        <tr>
          <td>إزالة التواء الـ ADN</td>
          <td>جيراز</td>
          <td>توبوإيزوميرازات (I، II)</td>
        </tr>
        <tr>
          <td>ADN بوليميراز</td>
          <td>3 أنواع</td>
          <td>5 أنواع</td>
        </tr>
        <tr>
          <td>بروتينات تثبيت اللولب</td>
          <td>SSB</td>
          <td>RP.A (بروتين التكرار A)</td>
        </tr>
        <tr>
          <td>إزالة الموجه</td>
          <td>ADN بوليميراز I</td>
          <td>RNase H</td>
        </tr>
        <tr>
          <td>سد الفجوات الناتجة عن الموجه</td>
          <td>ADN بوليميراز I</td>
          <td>ADN بوليميراز بيتا</td>
        </tr>
        <tr>
          <td>شظايا أوكازاكي:<br> - التركيب<br> - الحجم<br> - الربط</td>
          <td>ADN بوليميراز III<br>1000 إلى 2000 قاعدة<br>ليغاز</td>
          <td>ADN بوليميراز α، δ، و ε<br>100 إلى 200 قاعدة<br>ليغاز (I، II، III)</td>
        </tr>
        <tr>
          <td>تركيب الموجه</td>
          <td>بريماز</td>
          <td>ADN بوليميراز ألفا</td>
        </tr>
        <tr>
          <td>تصحيح أخطاء التكرار</td>
          <td>ADN بوليميراز III</td>
          <td>ADN بوليميراز α و δ</td>
        </tr>
      </tbody>
    </table>
  </ul>

  <br>

  <!-- بالإنجليزية -->
  <div class="bubble" dir="ltr">
    <ul>
      <li><strong>Table: Comparison of replication mechanism between prokaryotic and eukaryotic cells :</strong></li>
      <table style="width:100%; border-collapse: collapse;" border="1">
        <thead>
          <tr>
            <th>Feature</th>
            <th>Prokaryotic Cell</th>
            <th>Eukaryotic Cell</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Chromosome</td>
            <td>Single, circular and naked</td>
            <td>Multiple, DNA-protein complexes</td>
          </tr>
          <tr>
            <td>Origin of replication</td>
            <td>Single</td>
            <td>Multiple</td>
          </tr>
          <tr>
            <td>Primer size</td>
            <td>9 to 12 nucleotides</td>
            <td>10 nucleotides</td>
          </tr>
          <tr>
            <td>DNA supercoiling removal</td>
            <td>Gyrase</td>
            <td>Topoisomerases (I, II)</td>
          </tr>
          <tr>
            <td>DNA polymerase</td>
            <td>Three types</td>
            <td>Five types</td>
          </tr>
          <tr>
            <td>Helix stabilizing proteins</td>
            <td>SSB</td>
            <td>RP.A (Replication Protein A)</td>
          </tr>
          <tr>
            <td>Primer removal</td>
            <td>DNA polymerase I</td>
            <td>RNase H</td>
          </tr>
          <tr>
            <td>Filling gaps left by primer</td>
            <td>DNA polymerase I</td>
            <td>DNA polymerase beta</td>
          </tr>
          <tr>
            <td>Okazaki fragments:<br> - Synthesis<br> - Size<br> - Ligation</td>
            <td>DNA polymerase III<br>1000 to 2000 bp<br>Ligase</td>
            <td>DNA polymerases α, δ, ε<br>100 to 200 bp<br>Ligase (I, II, III)</td>
          </tr>
          <tr>
            <td>Primer synthesis</td>
            <td>Primase</td>
            <td>DNA polymerase alpha</td>
          </tr>
          <tr>
            <td>Error correction</td>
            <td>DNA polymerase III</td>
            <td>DNA polymerases α and δ</td>
          </tr>
        </tbody>
      </table>
    </ul>
  </div>

  <br>

  <!-- بالفرنسية -->
  <div class="bubble">
    <ul>
      <li><strong>Tableau : Comparaison du mécanisme de réplication entre cellule procaryote et cellule eucaryote :</strong></li>
      <table style="width:100%; border-collapse: collapse;" border="1" dir="ltr">
        <thead>
          <tr>
            <th>Élément</th>
            <th>Cellule procaryote</th>
            <th>Cellule eucaryote</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Chromosome</td>
            <td>Unique, circulaire et nu</td>
            <td>Plusieurs, complexes ADN-protéine</td>
          </tr>
          <tr>
            <td>Origine de réplication</td>
            <td>Une seule</td>
            <td>Plusieurs</td>
          </tr>
          <tr>
            <td>Taille de l’amorce</td>
            <td>9 à 12 nucléotides</td>
            <td>10 nucléotides</td>
          </tr>
          <tr>
            <td>Élimination du surenroulement de l’ADN</td>
            <td>Gyrase</td>
            <td>Topoisomérases (I, II)</td>
          </tr>
          <tr>
            <td>ADN polymérase</td>
            <td>Trois types</td>
            <td>Cinq types</td>
          </tr>
          <tr>
            <td>Protéines stabilisant l’hélice</td>
            <td>SSB</td>
            <td>RP.A (protéine de réplication A)</td>
          </tr>
          <tr>
            <td>Élimination de l’amorce</td>
            <td>ADN polymérase I</td>
            <td>RNase H</td>
          </tr>
          <tr>
            <td>Lacunes laissées par l’amorce comblées par</td>
            <td>ADN polymérase I</td>
            <td>ADN polymérase bêta</td>
          </tr>
          <tr>
            <td>Fragments d’Okazaki :<br> - Synthèse<br> - Taille<br> - Ligation</td>
            <td>ADN polymérase III<br>1000 à 2000 pb<br>Ligase</td>
            <td>ADN poly α, δ et ε<br>100 à 200 pb<br>Ligase (I, II, III)</td>
          </tr>
          <tr>
            <td>Synthèse de l’amorce</td>
            <td>Primase</td>
            <td>ADN polymérase alpha</td>
          </tr>
          <tr>
            <td>Correction des erreurs de réplication</td>
            <td>ADN polymérase III</td>
            <td>ADN polymérase α et δ</td>
          </tr>
        </tbody>
      </table>
    </ul>
  </div>
</div>

     


      <div style="display: flex; gap: 10px;">
                <figure class="bubble">
                    <img src="2MED  GENETICS/A56.png" alt="شرح الاختصارات الطبية" class="outside-image">
                </figure>
            </div>

<!-- تصميم جديد كليًا بدون خاصية الطفو -->
<div style="display: flex; justify-content: center; align-items: center; height: 200px; background-color: #f5f5f5; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

  <button style="background-color: #d32f2f; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease;">
    إضافات  قريبا 
  </button>

</div>













    <div id="end-lesson-modal">
        <h3>أحسنت يا طبيبنا إن شاء الله</h3>
              <h3>🎉  لقد أكملت الدرس.</h3>
        <p>لقد أتممت جميع الفقاعات بنجاح.</p>
        <p id="lesson-summary">الوقت المستغرق: 00 دقيقة و 00 ثانية. عدد الفقاعات التي تم التفاعل معها: 0 من أصل 0.</p>
        <button class="reload-button" onclick="reloadPage()">إعادة الحفظ</button>
        <button onclick="goToTestsPage()">الانتقال إلى صفحة الاختبارات</button>
    </div>

    <div class="modal" id="question-modal">
        <h3 id="modal-question">هل حفظت هذه الفقاعة؟</h3>
        <button onclick="closeModal(true)">نعم</button>
        <button onclick="closeModal(false)">لا</button>
    </div>

    <script>
    let totalBubbles = 10; 
    let completedBubbles = 0; 
    let startTime = Date.now();
    let bubbleButton = null;
    
    function showQuestion() {
        document.getElementById('question-modal').style.display = 'block';
    }
    
    function closeModal(answer) {
        document.getElementById('question-modal').style.display = 'none';
    
        if (answer) {
            completedBubbles++;
            updateProgress();
            bubbleButton.style.backgroundColor = '#4CAF50'; 
            bubbleButton.innerText = 'تم التفاعل'; 
            bubbleButton.disabled = true; 
    
            if (completedBubbles === totalBubbles) {
                enableFinishButton();
            }
        }
    }
    
    function updateProgress() {
        let progress = (completedBubbles / totalBubbles) * 100; 
        document.getElementById('progress-bar').style.width = `${progress}%`;
        document.getElementById('progress-percentage').innerText = `${Math.round(progress)}%`;
    
        const finishButton = document.querySelector('.finish-button');
        if (progress === 100) {
            finishButton.disabled = false; 
            finishButton.style.backgroundColor = '#00aaff'; 
            finishButton.style.cursor = 'pointer'; 
        } else {
            finishButton.disabled = true;
            finishButton.style.backgroundColor = '#ccc'; 
            finishButton.style.cursor = 'not-allowed'; 
        }
    }
    
    function markBubbleAsCompleted(button) {
        bubbleButton = button; 
        showQuestion(); 
    }
    
    function finishLesson() {
        let elapsedTime = Date.now() - startTime;
        let minutes = Math.floor(elapsedTime / 60000);
        let seconds = Math.floor((elapsedTime % 60000) / 1000);
        let summary = `الوقت المستغرق: ${minutes} دقيقة و ${seconds} ثانية. عدد الفقاعات التي تم التفاعل معها: ${completedBubbles} من أصل ${totalBubbles}.`;
        document.getElementById('lesson-summary').innerText = summary;
        document.getElementById('end-lesson-modal').style.display = 'block';
    }
    
    function reloadPage() {
        location.reload();
    }
    
    function goToTestsPage() {
        window.location.href = 'MED02.html';
    }
    
    function initializeFinishButton() {
        const finishButton = document.querySelector('.finish-button');
        finishButton.disabled = true; 
        finishButton.style.backgroundColor = '#ccc'; 
        finishButton.style.cursor = 'not-allowed'; 
    }
    
    window.onload = initializeFinishButton;
    
    // وظيفة للانتقال إلى أول فقاعة غير مكتملة
    function goToUncompletedBubble() {
        let bubbles = document.querySelectorAll('.interact-button');
        for (let bubble of bubbles) {
            if (!bubble.disabled) { // تعني أن الفقاعة لم يتم التفاعل معها
                bubble.scrollIntoView({ behavior: 'smooth', block: 'center' });
                bubble.style.border = "3px solid red"; // تمييزها باللون الأحمر
                break;
            }
        }
    }


</script>











</html>






















































<br><br><br><br><br><br><br>




<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📚 بطاقات فلاش تفاعلية</title>
    <style>
        body {
            font-family: 'Amiri', serif;
            background-color: #121212;
            color: #fff;
            text-align: center;
            padding: 20px;
            margin: 0;
            direction: rtl;
        }

        .flashcard {
            width: 100%;
            height: 300px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .flipped {
            transform: rotateY(180deg);
        }

        .flashcard-side {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(255, 255, 255, 0.2);
        }

        .front {
            background-color: #1e1e1e;
        }

        .back {
            background-color: #2c2c2c;
            transform: rotateY(180deg);
        }

        .flashcard-image {
            width: 40%;
            height: 100%;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .flashcard-image img {
            max-width: 100%;
            max-height: 100%;
            transition: transform 0.3s ease-in-out;
            cursor: pointer;
        }

        .flashcard-image img.expanded {
            transform: scale(1.5);
        }

        .flashcard-content {
            width: 65%;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            text-align: right;
            direction: rtl;
            overflow-y: auto;
            max-height: 150px;
            white-space: normal;
            word-wrap: break-word;
            position: relative;
        }
        .hint-container {
    position: fixed; /* استخدم fixed لجعل التلميح ثابتًا في المكان */
    top: -190px; /* 20px من أعلى الصفحة */
    left: 50%;
    transform: translateX(-50%); /* لتوسيط التلميح بشكل أفقي */
    width: 80%; /* عرض التلميح */
    background-color: rgba(0, 0, 0, 0.7);
    padding: 10px;
    border-radius: 10px;
    font-size: 16px;
    color: #f1c40f;
    box-shadow: 0 4px 8px rgba(255, 255, 255, 0.2);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease-out;
}

        /* عند إظهار التلميح */
        .hint-container.show {
            opacity: 1;
            pointer-events: auto;
        }

        .buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 15px;
            gap: 10px;
        }

        .navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s, transform 0.2s;
        }

        button:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }

        .arrow {
            font-size: 30px;
            cursor: pointer;
            transition: color 0.3s, transform 0.2s;
        }

        .arrow:hover {
            color: #00aaff;
            transform: scale(1.2);
        }

        @media (max-width: 480px) {
            .flashcard {
                height: 230px;
            }

            .flashcard-image {
                width: 40%;
                max-height: 150px;
            }

            .flashcard-content {
                font-size: 14px;
                padding: 10px;
                max-height: 120px;
            }

            button {
                font-size: 14px;
                padding: 8px;
            }
        }
    </style>
</head>
<body>
       

            <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 30vh; text-align: center;">
      
                <h2  id="flashcard-section">📚 بطاقات فلاش تفاعلية</h2>
         
            </div>
            

   
    <div class="flashcard-container" onclick="flipCard(event)">
        <div class="flashcard" id="flashcard">
            <div class="flashcard-side front">
                <div class="flashcard-image">
                    <img id="cardImageFront" src="" alt="صورة البطاقة" onclick="toggleImageSize(this)">
                </div>
                <div class="flashcard-content">
                    <h3 id="question"></h3>
                    <!-- حاوية التلميح -->
                    <div id="hintContainer" class="hint-container">
                        <p id="hint" class="hint"></p>
                    </div>
                </div>
            </div>
            <div class="flashcard-side back">
                <div class="flashcard-image">
                    <img id="cardImageBack" src="" alt="صورة البطاقة" onclick="toggleImageSize(this)">
                </div>
                <div class="flashcard-content">
                    <h3>الإجابة:</h3>
                    <p id="answer"></p>
                </div>
            </div>
        </div>
    </div>

    <br><br>
    <div class="buttons">
        <button onclick="showHint()">🔍 تلميح</button>
        <button onclick="shuffleCards()">🔀 خلط البطاقات</button>
    </div>

    <br>
    <div class="navigation">
        <span class="arrow" onclick="nextCard()">➡️</span>
        <span id="cardNumber">1 / 3</span>
        <span class="arrow" onclick="prevCard()">⬅️</span>
    </div>

    <script>
        const flashcards = [
            {
                question : "خمن البيانات والعنوان:<br>🔹 باللغة العربية (AR): خمن البيانات والعنوان<br>🔹 باللغة الإنجليزية (EN): Guess the data and the title<br>🔹 باللغة الفرنسية (FR): Devinez les données et le titre",
                hint : "🔍 شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5 (AR)<br>🔍 In English (EN): Axial slice from a CT scan / TDM of the chest at the Th5 level<br>🔍 En français (FR): Coupe axiale d'un scanner TDM du thorax au niveau Th5",
                answer: `
                    <ul style="padding-right: 20px; text-align: right; direction: rtl; list-style: none; line-height: 1.8; font-size: 18px;">
                        <li><b>  العنوان:</b><br>
                            🔹 <b>شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5.  (AR):</b><br>
                            🔹 <b>Axial slice of a CT scan / TDM of the thorax at the Th5 level.  (EN):</b><br>
                            🔹 <b> Coupe axiale d'un scanner / TDM thoracique au niveau Th5 (FR):</b>
               
                        </li><br>
                        <span style="font-size: 20px; font-weight: bold;">🔍 شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5:</span><br>
                        <ol style="padding-right: 20px; text-align: right;">
                            <li>1️⃣ : الرئة اليمنى (Right Lung) - <i>Poumon droit</i></li><br>
                            <li>2️⃣ : الرئة اليسرى (Left Lung) - <i>Poumon gauche</i></li><br>
                            <li>3️⃣ : الجذع الرئوي (Pulmonary Trunk) - <i>Tronc pulmonaire</i></li><br>
                            <li>4️⃣ : الشريان الرئوي الأيمن (Right Pulmonary Artery) - <i>Artère pulmonaire droite</i></li><br>
                            <li>5️⃣ : الشريان الرئوي الأيسر (Left Pulmonary Artery) - <i>Artère pulmonaire gauche</i></li><br>
                            <li>6️⃣ : الوريد الأجوف العلوي (Superior Vena Cava) - <i>Veine cave supérieure</i></li><br>
                            <li>7️⃣ : الأبهر الصدري الصاعد (Ascending Thoracic Aorta) - <i>Aorte thoracique ascendante</i></li><br>
                            <li>8️⃣ : الأبهر الصدري النازل (Descending Thoracic Aorta) - <i>Aorte thoracique descendante</i></li><br>
                            <li>9️⃣ : الوريد الرئوي الأيسر (Left Pulmonary Vein) - <i>Veine pulmonaire gauche</i></li><br>
                            <li>🔟 : الكتف الأيسر (Left Scapula) - <i>Scapula gauche</i></li><br>
                        </ol>
                    </ul>
                `,
                imageFront: "2MEDU1ANATOMIE/A101.png", // صورة الجهة الأمامية
                imageBack: "2MEDU1ANATOMIE/A101.png", // صورة الجهة الخلفية
                isHtml: true
            },
    {
        question: `🔹 <b>  خمن الشرايين الوربية( Costal) التي تغذي الغدة الثديية.   </b> 🔹<br>
        🔹 <b>باللغة العربية (AR):</b> خمن الشرايين الوربية( intercostal) التي تغذي الغدة الثديية.  br>
        🔹 <b>In English (EN):</b> Guess the intercostal arteries that supply the mammary gland<br>
        🔹 <b>En français (FR):</b> Devinez les artères intercostales qui irriguent la glande mammaire`,
        
        hint: `🔍 <b>تلميح / Hint / Indice</b><br>
        🔴 <b>باللغة العربية (AR):</b> عددها ثلاثة بالترتيب.<br>
        🔵 <b>In English (EN):</b> They are three in order.<br>
        ⚪ <b>En français (FR):</b> Ils sont au nombre de trois dans l'ordre.`,
        
        answer: `
            <div style="text-align: center;">
                <ul style="padding-right: 20px; text-align: right; direction: rtl; list-style: none; line-height: 1.8; font-size: 18px;">
                    <li>2️⃣ <b>الشريان الوربي الثاني</b> (Intercostal Artery 2) - <i>Deuxième artère intercostale</i></li><br>
                    <li>3️⃣ <b>الشريان الوربي الثالث</b> (Intercostal Artery 3) - <i>Troisième artère intercostale</i></li><br>
                    <li>4️⃣ <b>الشريان الوربي الرابع</b> (Intercostal Artery 4) - <i>Quatrième artère intercostale</i></li><br>
                </ul>
            </div>
        `,
        imageFront: "/A101.png", // صورة الجهة الأمامية
                imageBack: "2MED U4 ANATOMIE/A47.jpg", // صورة الجهة الخلفية
                isHtml: true
    }



    ];

let currentIndex = 0;
let flipped = false;

function updateCard() {
    const card = flashcards[currentIndex];
    document.getElementById("question").innerHTML = card.question;
    document.getElementById("answer").innerHTML = card.answer;
    document.getElementById("cardImageFront").src = card.imageFront;
    document.getElementById("cardImageBack").src = card.imageBack;
    document.getElementById("cardNumber").textContent = `${currentIndex + 1} / ${flashcards.length}`;
}

function flipCard(event) {
    event.stopPropagation();
    flipped = !flipped;
    document.getElementById("flashcard").classList.toggle("flipped", flipped);
}

function nextCard() {
    currentIndex = (currentIndex + 1) % flashcards.length;
    flipped = false;
    document.getElementById("flashcard").classList.remove("flipped");
    updateCard();
}

function prevCard() {
    currentIndex = (currentIndex - 1 + flashcards.length) % flashcards.length;
    flipped = false;
    document.getElementById("flashcard").classList.remove("flipped");
    updateCard();
}

updateCard();
</script>




























<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>نظام الأزرار العائمة الذكي - نسخة الهاتف</title>

    <style>
        .floating-system {
            position: fixed;
            z-index: 9999;
            bottom: 25px;
            left: 25px; /* تغيير من right إلى left */
            display: flex;
            flex-direction: row;
            gap: 15px;
            align-items: center;
            touch-action: none;
        }
        
        /* الزر الرئيسي */
        .main-floating-btn {
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(108, 92, 231, 0.4);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            -webkit-tap-highlight-color: transparent;
            position: relative;
            order: 1;
        }
    
        /* الأزرار الثانوية */
        .secondary-btn {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, #00b894, #55efc4);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 22px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 184, 148, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateX(30px);
            visibility: hidden;
            -webkit-tap-highlight-color: transparent;
            position: relative;
        }
        
        .secondary-btn.search-btn {
            background: linear-gradient(135deg, #0984e3, #74b9ff);
        }
        
        .secondary-btn.speech-btn {
            background: linear-gradient(135deg, #e17055, #fab1a0);
        }
        
        .secondary-btn.contact-btn {
            background: linear-gradient(135deg, #fd79a8, #ff9ff3);
        }
        
        .secondary-btn.flashcard-btn {
            background: linear-gradient(135deg, #fdcb6e, #ffeaa7);
            color: #333;
        }
    
      .secondary-btn.eldars-btn {
          background: linear-gradient(135deg, #9b59b6, #8e44ad);
      }
  
        /* حالة الأزرار عند الفتح */
        .floating-system.expanded {
            flex-direction: row-reverse;
        }
        
        .floating-system.expanded .secondary-btn {
            opacity: 1;
            transform: translateX(0);
            visibility: visible;
        }
        
        .floating-system.expanded .search-btn {
            transition-delay: 0.1s;
        }
        
        .floating-system.expanded .speech-btn {
            transition-delay: 0.2s;
        }
        
        .floating-system.expanded .contact-btn {
            transition-delay: 0.3s;
        }
        
        .floating-system.expanded .flashcard-btn {
            transition-delay: 0.4s;
        }
            
      .floating-system.expanded .eldars-btn {
          transition-delay: 0.5s;
      }
    
        /* تأثير النبض */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0.7); }
            70% { box-shadow: 0 0 0 12px rgba(108, 92, 231, 0); }
            100% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0); }
        }
    
        .pulse-effect {
            animation: pulse 1.5s infinite;
        }
    
        /* تحسينات للهواتف الصغيرة */
        @media (max-width: 480px) {
            .floating-system {
                bottom: 20px;
                left: 20px; /* تغيير من right إلى left */
                gap: 12px;
            }
            
            .main-floating-btn {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }
            
            .secondary-btn {
                width: 52px;
                height: 52px;
                font-size: 22px;
            }
            
            /* زيادة مساحة الضغط */
            .main-floating-btn::after,
            .secondary-btn::after {
                content: '';
                position: absolute;
                top: -15px;
                left: -15px;
                right: -15px;
                bottom: -15px;
            }
        }
    
        /* أنماط القلم الناطق */
        .notification {
            position: fixed;
            bottom: 100px;
            right: 20px;
            background: #008cff;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            font-size: 18px;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.5s, transform 0.5s;
            display: none;
            z-index: 9998;
            max-width: 80%;
        }
    
        .show-notification {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }
        
        /* أنماط البحث */
        .search-bubble {
            position: fixed;
            bottom: 120px;
            right: 30px;
            width: 350px;
            max-height: 60vh;
            background-color: rgb(82, 82, 82);
            border-radius: 18px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            display: none;
            flex-direction: column;
            z-index: 10000;
            overflow: hidden;
            animation: bubbleAppear 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
    
        .search-bubble.show {
            display: flex;
        }
    
        @keyframes bubbleAppear {
            from {
                transform: translateY(20px) scale(0.9);
                opacity: 0;
            }
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }
    
        .bubble-header {
            padding: 15px;
            background-color: #ffffff;
            border-bottom: 1px solid #424242;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    
        .bubble-title {
            font-weight: bold;
            color: #333;
        }
    
        .close-bubble {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #777;
            padding: 0;
            margin: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    
        .bubble-content {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }
    
        .search-input {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: none;
            border-bottom: 2px solid #989898;
            outline: none;
        }
    
        .search-input:focus {
            border-bottom-color: #2185d0;
        }
    
        .search-results {
            max-height: calc(60vh - 120px);
            overflow-y: auto;
        }
    
        .result-item {
            padding: 15px;
            border-bottom: 1px solid #747272;
            cursor: pointer;
            transition: background 0.2s;
        }
    
        .result-item:hover {
            background-color: #393737;
        }
    
        .result-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2185d0;
        }
    
        .highlight {
            background-color: #009c05;
            padding: 0 2px;
            border-radius: 3px;
        }
        .no-results {
            padding: 20px;
            text-align: center;
            color: #999;
        }
    
        @media (max-width: 768px) {
            .search-bubble {
                right: 15px;
                width: calc(100% - 30px);
                max-height: 50vh;
                bottom: 100px;
            }
            
            .search-results {
                max-height: calc(50vh - 120px);
            }
        }
        
        /* أنماط نافذة التواصل */
        .popupCONTACT {
            position: fixed;
            top: 50%;
            right: 50%;
            transform: translate(50%, -50%);
            width: 90%;
            max-width: 300px;
            background: #ffffff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            z-index: 1001;
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }
    
        .close-btnCONTACT {
            position: absolute;
            top: 10px;
            left: 10px;
            background: transparent;
            border: none;
            font-size: 22px;
            color: #ff4d4d;
            cursor: pointer;
            font-weight: bold;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    
        .contact-containerCONTACT {
            text-align: center;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            margin: auto;
        }
    
        .contact-titleCONTACT {
            font-size: 22px;
            margin-bottom: 10px;
        }
    
        .contact-textCONTACT {
            font-size: 16px;
            color: #333;
            margin-bottom: 15px;
        }
    
        .social-linksCONTACT {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
    
        .btnCONTACT {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 12px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 16px;
            font-weight: bold;
            color: white;
            transition: 0.3s;
        }
    
        .telegram-btnCONTACT { background: #0088cc; }
        .facebook-btnCONTACT { background: #1877f2; }
        .instagram-btnCONTACT { background: #e1306c; }
    
  
  
  
  
   /* أنماط نافذة Eldars */
   .eldars-popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  max-width: 600px;
  height: 80vh;
  background: white;
  border-radius: 15px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  z-index: 10010;
  display: none;
  overflow: hidden;
  animation: fadeIn 0.3s ease-in-out;
  }
  
  .eldars-popup.show {
  display: block;
  }
  
  .eldars-header {
  padding: 15px;
  background: #9b59b6;
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  }
  
  .eldars-title {
  font-weight: bold;
  font-size: 18px;
  }
  
  .close-eldars {
  background: none;
  border: none;
  color: white;
  font-size: 24px;
  cursor: pointer;
  }
  
  .eldars-content {
  width: 100%;
  height: calc(100% - 50px);
  overflow: hidden;
  position: relative;
  }
  
  .eldars-iframe {
  width: 100%; /* عرض العنصر 100% ليشغل المساحة المتاحة */
  height: 100%; /* ارتفاع العنصر 100% ليشغل المساحة المتاحة */
  position: absolute;
  top: 0;
  left: 0;
  transform: none; /* إزالة التكبير الزائد */
  border: none;
  overflow: auto; /* تمكين التمرير داخل الـiframe إذا لزم الأمر */
  }
  
  /* تحسين العرض على الشاشات الصغيرة (الهواتف) */
  @media (max-width: 768px) {
  .eldars-popup {
      max-width: 90%;
      height: 85vh; /* تقليل ارتفاع النافذة لتكون أكثر مرونة */
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  /* تحسين العرض على الشاشات الصغيرة جدًا (الهاتف المحمول) */
  @media (max-width: 480px) {
  .eldars-popup {
      max-width: 95%;
      height: 90vh;
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  /* تحسين العرض على الشاشات الكبيرة */
  @media (min-width: 1024px) {
  .eldars-popup {
      max-width: 800px;
      height: 80vh;
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(50%, -45%); }
            to { opacity: 1; transform: translate(50%, -50%); }
        }
    
        /* تحسينات للهواتف الصغيرة */
        @media (max-width: 480px) {
            .floating-system {
                bottom: 15px;
                left: 15px; /* تغيير من right إلى left */
                gap: 8px;
            }
            
            .main-floating-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .secondary-btn {
                width: 42px;
                height: 42px;
                font-size: 18px;
            }
            
            /* تحسينات للبحث على الشاشات الصغيرة */
            .search-bubble {
                bottom: 90px;
                max-height: 60vh;
            }
            
            /* تحسينات لنافذة التواصل */
            .popupCONTACT {
                max-width: 90%;
                padding: 15px;
            }
            
            .contact-titleCONTACT {
                font-size: 18px;
            }
            
            .contact-textCONTACT {
                font-size: 14px;
            }
            
            .btnCONTACT {
                padding: 10px;
                font-size: 14px;
            }
            
            /* زيادة مساحة الضغط للأزرار */
            .main-floating-btn::after,
            .secondary-btn::after {
                content: '';
                position: absolute;
                top: -10px;
                left: -10px;
                right: -10px;
                bottom: -10px;
            }
            
            /* تحسينات للإشعارات */
            .notification {
                bottom: 80px;
                right: 10px;
                font-size: 14px;
                padding: 10px 15px;
            }
        }
    
        /* تحسينات إضافية للشاشات الصغيرة جدًا */
        @media (max-width: 360px) {
            .floating-system {
                bottom: 10px;
                left: 10px; /* تغيير من right إلى left */
                gap: 6px;
            }
            
            .main-floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }
            
            .secondary-btn {
                width: 38px;
                height: 38px;
                font-size: 16px;
            }
        }
        </style>
    </style>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- نظام الأزرار العائمة -->
    <div class="floating-system" id="floatingSystem">
        <!-- الأزرار الثانوية -->
        <button class="secondary-btn flashcard-btn" id="flashcardBtn" title="البطاقات التعليمية">
            <i class="far fa-copy"></i>
        </button>
        
        <button class="secondary-btn contact-btn" id="contactBtn" title="الدعم الفني">
            <i class="fas fa-headset"></i>
        </button>


    



        <button class="secondary-btn speech-btn" id="speechBtn" title="القلم الناطق">
            <i class="fas fa-microphone-alt"></i>
        </button>
        
        <button class="secondary-btn search-btn" id="searchBtn" title="البحث الذكي">
            <i class="fas fa-search"></i>
        </button>
        
        <!-- الزر الرئيسي -->
        <button class="main-floating-btn" id="mainFloatingBtn">
            <i class="fas fa-plus"></i>
        </button>
    </div>


    <!-- إشعارات القلم الناطق -->
    <div id="notification" class="notification"></div>


    <div>
        <label>🔹 اختر جنس الصوت:</label>
        <select id="voiceGender">
            <option value="male">ذكر</option>
            <option value="female">أنثى</option>
        </select>
    </div>

    <div class="speed-control">
        <label for="speedRange">🔊 سرعة الصوت:</label>
        <input type="range" id="speedRange" min="0.5" max="2" step="0.1" value="1">
    </div>
    <!-- فقاعة البحث -->
    <div class="search-bubble" id="searchBubble">
        <div class="bubble-header">
            <div class="bubble-title">البحث في الموقع</div>
            <button class="close-bubble" id="closeBubble" aria-label="إغلاق البحث">×</button>
        </div>
        <div class="bubble-content">
            <input type="text" class="search-input" id="searchInput" 
                   placeholder="اكتب كلمة البحث..." autocomplete="off"
                   aria-label="مربع البحث">
            <div class="search-results" id="searchResults"></div>
        </div>
    </div>

    <!-- نافذة التواصل -->
    <div class="popupCONTACT" id="popupCONTACT">
        <button class="close-btnCONTACT" id="closeContactBtn">✖</button>
        <div class="contact-containerCONTACT">
            <h3 class="contact-titleCONTACT" style="text-align: center; color: black; font-size: 24px; font-weight: bold;">📩 تواصل معنا</h3>

            <p class="contact-textCONTACT">في حالة توفر مشكلة أو لديك اقتراح سواء حول اختبار أو غيره تواصل معنا</p>
            
            <div class="social-linksCONTACT">
                <a href="http://t.me/ADATEALM_bot" target="_blank" class="btnCONTACT telegram-btnCONTACT">
                    <i class="fab fa-telegram"></i> بوت تيليغرام
                </a>
                
                <a href="https://t.me/adatealm" target="_blank" class="btnCONTACT telegram-btnCONTACT">
                    <i class="fab fa-telegram"></i> تيليغرام
                </a>
                
                <a href="https://www.facebook.com/share/1BFTe2mWNL/" target="_blank" class="btnCONTACT facebook-btnCONTACT">
                    <i class="fab fa-facebook"></i> فيسبوك
                </a>
                
                <a href="https://www.instagram.com/adat_ealm?igsh=djg1eXlwMTJvM2xw" target="_blank" class="btnCONTACT instagram-btnCONTACT">
                    <i class="fab fa-instagram"></i> إنستغرام
                </a>
            </div>
        </div>
    </div>


    <script>
        // عناصر الواجهة
        const floatingSystem = document.getElementById('floatingSystem');
        const mainBtn = document.getElementById('mainFloatingBtn');
        const searchBtn = document.getElementById('searchBtn');
        const speechBtn = document.getElementById('speechBtn');
        const contactBtn = document.getElementById('contactBtn');
        const flashcardBtn = document.getElementById('flashcardBtn');
        const searchBubble = document.getElementById('searchBubble');
        const closeBubble = document.getElementById('closeBubble');
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const popupCONTACT = document.getElementById('popupCONTACT');
        const closeContactBtn = document.getElementById('closeContactBtn');
        const notification = document.getElementById('notification');
        
        // حالات النظام
        let isExpanded = false;
        let isDragging = false;
        let startX, startY, initialX, initialY;
        let isSpeechEnabled = false;
        let speechSynthesisInstance = window.speechSynthesis || null;
        let currentUtterance = null;
        let voices = [];
        let currentResults = [];
        let selectedIndex = -1;
        let searchTimeout;
        
        // تهيئة النظام
        function initSystem() {
            // إضافة تأثير النبض بعد 3 ثواني
            setTimeout(() => {
                mainBtn.classList.add('pulse-effect');
                setTimeout(() => {
                    mainBtn.classList.remove('pulse-effect');
                }, 3000);
            }, 3000);
            
            // تهيئة Web Speech API
            if (speechSynthesisInstance) {
                speechSynthesisInstance.onvoiceschanged = function() {
                    voices = speechSynthesisInstance.getVoices();
                };
                
                // تحميل الأصوات مباشرة إذا كانت متاحة
                voices = speechSynthesisInstance.getVoices();
            } else {
                speechBtn.style.display = 'none';
            }
            
            // جعل النظام قابلاً للسحب
            setupDragAndDrop();
            
            // إضافة أحداث اللمس
            setupTouchEvents();
        }
        
        // إعداد أحداث اللمس
        function setupTouchEvents() {
            // منع السلوك الافتراضي لللمس
            const buttons = [mainBtn, searchBtn, speechBtn, contactBtn, flashcardBtn];
            
            buttons.forEach(btn => {
                btn.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // محاكاة تأثير الضغط
                    this.style.transform = 'scale(0.95)';
                    
                    // تحديد الزر الذي تم الضغط عليه
                    if (btn === mainBtn) {
                        toggleSystem();
                    } else if (btn === searchBtn) {
                        toggleSearch();
                    } else if (btn === speechBtn) {
                        toggleSpeech();
                    } else if (btn === contactBtn) {
                        togglePopupCONTACT();
                    } else if (btn === flashcardBtn) {
                        goToFlashCard();
                    }
                }, { passive: false });
                
                btn.addEventListener('touchend', function() {
                    this.style.transform = '';
                });
            });
        }
        
        // تبديل حالة النظام (مفتوح/مغلق)
        function toggleSystem() {
            isExpanded = !isExpanded;
            floatingSystem.classList.toggle('expanded', isExpanded);
            
            if (isExpanded) {
                mainBtn.innerHTML = '<i class="fas fa-times"></i>';
                mainBtn.style.transform = 'rotate(135deg)';
                isDragging = false;
            } else {
                mainBtn.innerHTML = '<i class="fas fa-plus"></i>';
                mainBtn.style.transform = 'rotate(0)';
                closeAllPopups();
            }
        }
        
        // إغلاق جميع النوافذ المنبثقة
        function closeAllPopups() {
            searchBubble.classList.remove('show');
            popupCONTACT.style.display = 'none';
        }
        
        // تهيئة السحب والإفلات
        function setupDragAndDrop() {
            // للأجهزة التي تعمل باللمس
            mainBtn.addEventListener('touchstart', handleDragStart, { passive: false });
            document.addEventListener('touchmove', handleDragMove, { passive: false });
            document.addEventListener('touchend', endDrag);
            
            // للأجهزة التي تعمل بالماوس
            mainBtn.addEventListener('mousedown', handleDragStart);
            document.addEventListener('mousemove', handleDragMove);
            document.addEventListener('mouseup', endDrag);
        }
        
        function handleDragStart(e) {
            if (isExpanded) return;
            
            isDragging = true;
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;
            
            startX = clientX;
            startY = clientY;
            initialX = floatingSystem.offsetLeft;
            initialY = floatingSystem.offsetTop;
            
            if (e.cancelable) e.preventDefault();
        }
        
        function handleDragMove(e) {
            if (!isDragging || isExpanded) return;
            
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;
            const deltaX = clientX - startX;
            const deltaY = clientY - startY;
            
            let newX = initialX + deltaX;
            let newY = initialY + deltaY;
            
            // تحديد الحدود لمنع الخروج من الشاشة
            newX = Math.max(0, Math.min(newX, window.innerWidth - floatingSystem.offsetWidth));
            newY = Math.max(0, Math.min(newY, window.innerHeight - floatingSystem.offsetHeight));
            
            floatingSystem.style.left = newX + 'px';
            floatingSystem.style.top = newY + 'px';
            floatingSystem.style.right = 'auto';
            floatingSystem.style.bottom = 'auto';
            
            if (e.cancelable) e.preventDefault();
        }
        




        function endDrag() {
    if (!isDragging) return;
    isDragging = false;
    
    // جعل النظام يلتصق بالجانب الأيسر دائماً
    floatingSystem.style.left = '20px';
    floatingSystem.style.right = 'auto';
    floatingSystem.style.bottom = '20px';
    floatingSystem.style.top = 'auto';
}
       
        // وظائف الأزرار
        function toggleSearch() {
            if (isExpanded) toggleSystem();
            searchBubble.classList.toggle('show');
            if (searchBubble.classList.contains('show')) {
                searchInput.focus();
            }
        }
        
        function toggleSpeech() {
            if (!speechSynthesisInstance) {
                showNotification("⚠️ هذه الميزة غير مدعومة في متصفحك");
                return;
            }
            
            if (isExpanded) toggleSystem();
            isSpeechEnabled = !isSpeechEnabled;
            showNotification(isSpeechEnabled ? "✅ تم تفعيل القلم الناطق!" : "⛔ تم إيقاف القلم الناطق!");
            
            if (isSpeechEnabled) {
                document.addEventListener('mouseup', handleTextSelection);
                document.addEventListener('touchend', handleTextSelection);
            } else {
                document.removeEventListener('mouseup', handleTextSelection);
                document.removeEventListener('touchend', handleTextSelection);
                stopSpeech();
            }
        }
        
        function handleTextSelection(e) {
            if (!isSpeechEnabled) return;
            
            // منع النقر العادي إذا كان القلم الناطق مفعلاً
            if (e.target.closest('.floating-system, .search-bubble, .popupCONTACT')) {
                return;
            }
            
            let selectedText = window.getSelection().toString().trim();
            if (selectedText.length > 0) {
                speakText(selectedText);
            }
        }
        
        function speakText(text) {
            stopSpeech();
            
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = /[\u0600-\u06FF]/.test(text) ? "ar-SA" : "en-US";
            
            // اختيار الصوت المناسب
            if (voices.length > 0) {
                const arabicVoices = voices.filter(v => v.lang.includes('ar'));
                if (arabicVoices.length > 0) {
                    utterance.voice = arabicVoices[0];
                }
            }
            
            utterance.rate = 1;
            utterance.volume = 1.0;
            
            currentUtterance = utterance;
            speechSynthesisInstance.speak(utterance);
        }
        
        function stopSpeech() {
            if (speechSynthesisInstance && speechSynthesisInstance.speaking) {
                speechSynthesisInstance.cancel();
            }
            currentUtterance = null;
        }
        
        function togglePopupCONTACT() {
            if (isExpanded) toggleSystem();
            popupCONTACT.style.display = popupCONTACT.style.display === "block" ? "none" : "block";
        }
        
        function goToFlashCard() {
            if (isExpanded) toggleSystem();
            document.getElementById('flashcard-section').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }
        
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add("show-notification");
            
            setTimeout(() => {
                notification.classList.remove("show-notification");
            }, 2000);
        }
        
        // أحداث البحث
        function handleSearchInput(e) {
            const query = e.target.value.trim();
            clearTimeout(searchTimeout);
            
            if (query.length < 2) {
                clearResults();
                return;
            }
            
            searchTimeout = setTimeout(() => {
                performSearch(query);
            }, 300);
        }
        
        function performSearch(query) {
            clearResults();
            currentResults = [];
            selectedIndex = -1;
            
            const searchableElements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, li, [id]');
            
            searchableElements.forEach(element => {
                const text = element.textContent || element.innerText;
                const elementId = element.id || (element.parentNode.id || '');
                
                if (text.toLowerCase().includes(query.toLowerCase())) {
                    const previewText = text.length > 100 ? text.substring(0, 100) + '...' : text;
                    
                    currentResults.push({
                        element: element,
                        id: elementId,
                        title: element.tagName.startsWith('H') ? text : (elementId || 'قسم في الصفحة'),
                        preview: previewText,
                        fullText: text
                    });
                }
            });
            
            if (currentResults.length === 0) {
                showNoResults();
                return;
            }
            
            displayResults(currentResults, query);
        }
        
        function displayResults(results, query) {
            results.forEach((result, index) => {
                const resultItem = document.createElement('div');
                resultItem.className = 'result-item';
                resultItem.innerHTML = `
                    <div class="result-title">${highlightText(result.title, query)}</div>
                    <div class="result-preview">${highlightText(result.preview, query)}</div>
                `;
                resultItem.addEventListener('click', () => navigateToResult(result));
                searchResults.appendChild(resultItem);
            });
        }
        
        function highlightText(text, query) {
            if (!query) return text;
            return text.replace(
                new RegExp(query, 'gi'), 
                match => `<span class="highlight">${match}</span>`
            );
        }
        
        function navigateToResult(result) {
            if (result.element) {
                result.element.scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
                
                const originalBg = result.element.style.backgroundColor;
                result.element.style.backgroundColor = '#fff9c4';
                setTimeout(() => {
                    result.element.style.backgroundColor = originalBg;
                }, 2000);
            }
            
            searchBubble.classList.remove('show');
        }
        
        function showNoResults() {
            searchResults.innerHTML = '<div class="no-results">لا توجد نتائج مطابقة</div>';
        }
        
        function clearResults() {
            searchResults.innerHTML = '';
            currentResults = [];
            selectedIndex = -1;
        }
        
        // إضافة الأحداث
        mainBtn.addEventListener('click', toggleSystem);
        searchBtn.addEventListener('click', toggleSearch);
        speechBtn.addEventListener('click', toggleSpeech);
        contactBtn.addEventListener('click', togglePopupCONTACT);
        flashcardBtn.addEventListener('click', goToFlashCard);
        closeBubble.addEventListener('click', () => searchBubble.classList.remove('show'));
        closeContactBtn.addEventListener('click', togglePopupCONTACT);
        searchInput.addEventListener('input', handleSearchInput);
        
        // تهيئة النظام عند التحميل
        window.addEventListener('load', initSystem);
        
        // إعادة حساب المواقع عند تغيير حجم النافذة
        window.addEventListener('resize', endDrag);
    </script>
</body>
</html>








































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تحويل اتجاه النص تلقائيًا مع الحفاظ على التنسيق</title>
    <style>
        body {
    
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .rtl {
            direction: rtl;
            text-align: right;
        }
        
        .ltr {
            direction: ltr;
            text-align: left;
        }
        
        /* تنسيقات إضافية للحفاظ على المظهر */
        .mixed-content {
            unicode-bidi: embed;
        }
    </style>
</head>
<body>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // عناصر أكثر تحديداً مع استثناء العناصر التي قد تحتوي على أطفال معقدة
            const elements = document.querySelectorAll('p, div:not(div div), span, li, h1, h2, h3, h4, h5, h6');
            
            elements.forEach(element => {
                // تجاهل العناصر التي تحتوي على أطفال معقدة
                if (element.children.length > 0 && !(element.children.length === 1 && element.children[0].tagName === 'SPAN')) {
                    return;
                }
                
                const text = element.textContent.trim();
                
                if (!text) return;
                
                // تحليل النص لتحديد إذا كان إنجليزي/عربي
                const hasArabic = /[\u0600-\u06FF]/.test(text);
                const hasEnglish = /[a-zA-Z]/.test(text);
                
                // إذا كان النص يحتوي على الإنجليزية فقط
                if (hasEnglish && !hasArabic) {
                    element.classList.add('ltr');
                    element.classList.remove('rtl');
                } 
                // إذا كان النص يحتوي على العربية فقط
                else if (hasArabic && !hasEnglish) {
                    element.classList.add('rtl');
                    element.classList.remove('ltr');
                }
                // إذا كان نصاً مختلطاً
                else if (hasArabic && hasEnglish) {
                    element.classList.add('mixed-content');
                    
                    // تحديد الاتجاه الأساسي بناءً على الحرف الأول
                    const firstChar = text.charAt(0);
                    if (/[a-zA-Z]/.test(firstChar)) {
                        element.style.direction = 'ltr';
                        element.style.textAlign = 'left';
                    } else {
                        element.style.direction = 'rtl';
                        element.style.textAlign = 'right';
                    }
                }
            });
        });
    </script>
</body>
</html>
























































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>تنبيه طبي - INFATM</title>
    <style>
        /* تهيئة عامة */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-text-size-adjust: 100%;
            touch-action: manipulation;
        }

        /* زر الخطر العائم - تصميم جديد */
        ._x1 {
            position: fixed;
            top: 120px; /* تغيير من bottom إلى top */
            right: 10px;  /* تعديل القيمة */
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #ff0000, #c00000);
            color: white;
            font-size: 21px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.3), 
                        inset 0 2px 4px rgba(255, 255, 255, 0.3);
            transition: all 0.2s ease;
            z-index: 1000;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            animation: _a1 2s infinite;
        }

        @keyframes _a1 {
            0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 0, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); }
        }

        ._x1:hover {
            transform: scale(1.1);
            background: linear-gradient(135deg, #ff3333, #d10000);
        }

        ._x1:active {
            transform: scale(0.95);
            animation: none;
        }

        /* طبقة التعتيم */
        ._x2 {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1001;
            display: none;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        /* نافذة المحتوى */
        ._x3 {
            position: fixed;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            display: flex;
            flex-direction: column;
            z-index: 10012;
            display: none;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            background: white;
        }

        ._x4 {
          background: linear-gradient(to right, #e74c3c, #c0392b);
          color: white;
          padding: 18px;
          text-align: center;
          position: relative;
          flex-shrink: 0;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      ._x4 h2 {
          font-size: 1.3rem;
          font-weight: 600;
          text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
      }

        ._x5 {
            flex-grow: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            background-color: #f5f5f5;
        }

        /* زر الإغلاق الجديد */
        ._x6 {
            position: absolute;
            top: 12px;
            left: 12px;
            background: white;
            color: #e74c3c;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: all 0.2s;
        }

        ._x6:hover {
            transform: rotate(90deg);
            background: #ffebee;
        }

        /* مؤشر التحميل */
        ._x7 {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 20px;
        }

        ._x8 {
            width: 45px;
            height: 45px;
            border: 5px solid rgba(231, 76, 60, 0.2);
            border-top: 5px solid #e74c3c;
            border-radius: 50%;
            animation: _a2 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes _a2 {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        ._x7 p {
            color: #7f8c8d;
            font-size: 1.1rem;
            margin-top: 10px;
        }

        /* المحتوى المعروض */
        ._x9 {
            padding: 18px;
            line-height: 1.7;
            font-size: 1rem;
            color: #333;
        }

        /* التكيف مع الشاشات الصغيرة */
        @media (max-width: 480px) {
            ._x1 {
                width: 30px;
                height: 30px;
                font-size: 16px;
                bottom: 20px;
            }
            
            ._x4 {
                padding: 15px;
            }
            
            ._x4 h2 {
                font-size: 1.1rem;
            }
            
            ._x6 {
                width: 28px;
                height: 28px;
                font-size: 1rem;
            }
        }

        /* تحسينات لللمس على الهواتف */
        @media (hover: none) {
            ._x1:hover {
                transform: scale(1);
                background: linear-gradient(135deg, #ff0000, #c00000);
            }
            
            ._x6:hover {
                transform: rotate(0deg);
                background: white;
            }
        }
    </style>
</head>
<body>

<!-- زر الخطر العائم الجديد -->
<button class="_x1" onclick="_f1()">⚠️</button>

<!-- طبقة التعتيم -->
<div class="_x2" id="_d1"></div>

<!-- نافذة المحتوى -->
<div class="_x3" id="_d2">
    <div class="_x4">
        <button class="_x6" onclick="_f1()">×</button>
        <h2 >⚠️  محتوى زر التنبيه  الخطر   ⚠️   </h2>
    </div>
    <div class="_x5" id="_d3">
        <div class="_x7">
            <div class="_x8"></div>
            <p>جاري تحميل المحتوى ...</p>
        </div>
    </div>
</div>

<script>
    // متغيرات التطبيق
    let _v1 = false;
    const _u1 = "https://s22mcs.github.io/S22MCS02-/MEDECINE_EXAM_NOTE.html";
    
    // عناصر DOM
    const _d2 = document.getElementById('_d2');
    const _d1 = document.getElementById('_d1');
    const _d3 = document.getElementById('_d3');
    const _b1 = document.querySelector('._x1');
    
    // تبديل عرض/إخفاء النافذة
    function _f1() {
        if (_d2.style.display === 'flex') {
            _f2();
        } else {
            _f3();
        }
    }
    
    function _f3() {
        // إيقاف تأثير النبض عند الفتح
        _b1.style.animation = 'none';
        
        _d1.style.display = 'block';
        _d2.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        
        if (!_v1) {
            _f4();
        }
    }
    
    function _f2() {
        // إعادة تشغيل تأثير النبض عند الإغلاق
        _b1.style.animation = '_a1 2s infinite';
        
        _d1.style.display = 'none';
        _d2.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
    
    // تحميل المحتوى
    async function _f4() {
        try {
            // استخدام iframe كحل أساسي
            _f5();
            _v1 = true;
        } catch (error) {
            _f6(error);
        }
    }
    
    // عرض المحتوى باستخدام iframe
    function _f5() {
        _d3.innerHTML = `
            <iframe src="${_u1}" 
                    style="width:100%; height:100%; border:none;"
                    sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
                    loading="lazy">
            </iframe>
        `;
    }
    
    // عرض رسالة الخطأ
    function _f6(_e1) {
        _d3.innerHTML = `
            <div class="_x7">
                <div style="color: #e74c3c; margin-bottom: 15px; font-size: 1.2rem;">⚠️ خطأ في تحميل المحتوى</div>
                <p style="margin-bottom: 20px; color: #555;">${_e1.message}</p>
                <button onclick="_f7()" 
                        style="padding: 10px 20px; 
                               background: linear-gradient(to right, #e74c3c, #c0392b); 
                               color: white; 
                               border: none; 
                               border-radius: 30px;
                               font-size: 1rem;
                               box-shadow: 0 3px 10px rgba(231, 76, 60, 0.3);
                               transition: all 0.2s;">
                    إعادة المحاولة
                </button>
            </div>
        `;
    }
    
    // إعادة تحميل المحتوى
    function _f7() {
        _d3.innerHTML = `
            <div class="_x7">
                <div class="_x8"></div>
                <p>جاري تحميل المحتوى الطبي...</p>
            </div>
        `;
        _f4();
    }
    
    // إغلاق النافذة عند النقر خارجها
    _d1.addEventListener('click', _f2);
    
    // منع إغلاق النافذة عند النقر داخلها
    _d2.addEventListener('click', (e) => {
        e.stopPropagation();
    });
    
    // تحسين الأداء للهواتف
    if ('connection' in navigator) {
        if (navigator.connection.saveData || navigator.connection.effectiveType.includes('2g')) {
            // تحسينات لشبكات الجيل الثاني
            _b1.style.animation = 'none';
        }
    }
    
    // إضافة اهتزاز عند النقر (للهواتف)
    function _f8() {
        if ('vibrate' in navigator) {
            navigator.vibrate(10);
        }
    }
    
    // إضافة الاهتزاز للأزرار
    document.querySelector('._x1').addEventListener('click', _f8);
    document.querySelector('._x6')?.addEventListener('click', _f8);
</script>

</body>
</html>



  












<style>
    /* أنماط الزر الطافي */
    .theme-toggle {
        position: fixed;
        top:100px;
        left: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: #333;
        color: #fff;
        border: none;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        z-index: 9999;
        transition: all 0.3s ease;
    }
    
    .theme-toggle:hover {
        transform: scale(1.1);
    }
    
    /* أنماط الوضع النهاري */
    body.light-mode {
        background-color: #f5f5f5;
        color: #333;
    }
    

    

body.dark-mode .hover-image-container {
    color: #ffffff;
}

body.dark-mode .image-tooltip {
    color: #66bfff;
}

body.dark-mode .image-tooltip-content {
    background-color: #222;
    box-shadow: 0 10px 25px rgba(255, 255, 255, 0.1);
}

body.dark-mode .tooltip-caption {
    color: #ccc;
}
    body.light-mode .sidebar {
        background-color: #f0f0f0;
        color: #333;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    
    body.light-mode .bubble {
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        border-left: 6px solid #007bff;
        color: #333;
    }
    
    body.light-mode .progress-bar-container {
        background-color: #e0e0e0;
    }
    
    body.light-mode .finish-button {
        background-color: #007bff;
        color: white;
    }
    
    body.light-mode .interact-button {
        background-color: #007bff;
        color: white;
    }
    
    body.light-mode .refresh-button {
        background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
        color: #333;
        border: 1px solid #ccc;
    }
    
    body.light-mode #end-lesson-modal {
        background-color: #f5f5f5;
        color: #333;
    }
    
    body.light-mode .modal {
        background: #f5f5f5;
        color: #333;
    }
</style>

<button class="theme-toggle" id="themeToggle">☀️</button>

<script>
    // اختيار العناصر
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    
    // التحقق من التفضيل المحفوظ
    const currentTheme = localStorage.getItem('theme');
    if (currentTheme === 'light') {
        body.classList.add('light-mode');
        body.classList.remove('dark-mode');
        themeToggle.textContent = '🌙';
    } else {
        body.classList.add('dark-mode');
        themeToggle.textContent = '☀️';
    }
    
    // حدث النقر على الزر
    themeToggle.addEventListener('click', () => {
        if (body.classList.contains('dark-mode')) {
            // التحويل إلى الوضع النهاري
            body.classList.add('light-mode');
            body.classList.remove('dark-mode');
            themeToggle.textContent = '🌙';
            localStorage.setItem('theme', 'light');
        } else {
            // التحويل إلى الوضع الليلي
            body.classList.add('dark-mode');
            body.classList.remove('light-mode');
            themeToggle.textContent = '☀️';
            localStorage.setItem('theme', 'dark');
        }
    });
</script>






            
            
            
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>أداة التحكم في التكبير/التصغير</title>
  <style>
    /* تنسيقات أداة التكبير/التصغير */
    .zoom-controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      background: rgba(40, 40, 40, 0.9);
      padding: 12px;
      border-radius: 24px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .zoom-btn {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: #007bff;
      color: white;
      border: none;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    
    .zoom-btn:hover {
      background: #0056b3;
      transform: scale(1.05);
    }
    
    .zoom-value {
      color: white;
      font-family: Arial, sans-serif;
      font-size: 14px;
      font-weight: bold;
      min-width: 40px;
      text-align: center;
    }
    
    /* للهواتف */
    @media (max-width: 768px) {
      .zoom-controls-container {
        bottom: 15px;
        left: 15px;
      }
      
      
    }
  </style>
</head>
<body>



<script>
  // إعدادات التكبير
  const zoomSettings = {
    current: 1, // هذه القيمة سيتم تغييرها عند التحميل إذا لم توجد قيمة محفوظة
    min: 0.3, // غيرت الحد الأدنى ليتناسب مع القيمة الافتراضية
    max: 2,
    step: 0.1
  };

  // عناصر التحكم
  const elements = {
    zoomIn: document.getElementById('zoom-in'),
    zoomOut: document.getElementById('zoom-out'),
    zoomReset: document.getElementById('zoom-reset'),
    zoomValue: document.getElementById('zoom-value'),
    html: document.documentElement
  };

  // تطبيق مستوى التكبير الحالي
  function applyZoom() {
    elements.html.style.fontSize = `${zoomSettings.current * 100}%`;
    elements.zoomValue.textContent = `${Math.round(zoomSettings.current * 100)}%`;
    
    // حفظ الإعدادات
    localStorage.setItem('pageZoomLevel', zoomSettings.current);
  }

  // تكبير النص
  elements.zoomIn.addEventListener('click', () => {
    if (zoomSettings.current < zoomSettings.max) {
      zoomSettings.current += zoomSettings.step;
      applyZoom();
    }
  });

  // تصغير النص
  elements.zoomOut.addEventListener('click', () => {
    if (zoomSettings.current > zoomSettings.min) {
      zoomSettings.current -= zoomSettings.step;
      applyZoom();
    }
  });

  // إعادة التعيين
  elements.zoomReset.addEventListener('click', () => {
    zoomSettings.current = 1;
    applyZoom();
  });

  window.addEventListener('DOMContentLoaded', () => {
    const savedZoom = localStorage.getItem('pageZoomLevel');
    if (savedZoom) {
      zoomSettings.current = parseFloat(savedZoom);
    } else {
      // القيمة الافتراضية عند أول فتح (30%)
      zoomSettings.current = 0.1;
    }
    applyZoom();
  });

  // اختصارات لوحة المفاتيح
  document.addEventListener('keydown', (e) => {
    if (e.ctrlKey && e.key === '0') {
      e.preventDefault();
      elements.zoomReset.click();
    }
  });
</script>

</body>
</html>






































































































































































