<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ترحيب بالمستخدم</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&family=Amiri:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', 'Amiri', serif;
            background-color: #121212;
            color: white;
            text-align: center;
            margin: 0;
            padding: 20px;
        }

        .popup {
            display: none;
            position: fixed;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e1e;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 150, 255, 0.6);
            text-align: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, top 0.3s ease-in-out;
        }

        .popup h3 {
            color: #00aaff;
            font-size: 22px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 10px;
        }

        .input-group input {
            width: 85%;
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #00aaff;
            text-align: center;
            font-size: 16px;
            background-color: #222;
            color: white;
            outline: none;
            transition: 0.3s;
        }

        .input-group input:focus {
            border-color: #007bff;
            box-shadow: 0 0 10px rgba(0, 150, 255, 0.5);
        }

        .gender-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .gender-buttons button {
            background: linear-gradient(90deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 8px;
            font-size: 16px;
            transition: background 0.3s ease, transform 0.2s ease-in-out;
        }

        .gender-buttons button:hover {
            background: linear-gradient(90deg, #0056b3, #003c80);
            transform: scale(1.05);
        }

        .gender-buttons button.selected {
            background: #FFD700;
            color: black;
            font-weight: bold;
        }

        .submit-button {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 25px;
            cursor: pointer;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 16px;
            transition: background 0.3s ease, transform 0.2s ease-in-out;
        }

        .submit-button:hover {
            background: #218838;
            transform: scale(1.05);
        }

        .fade-in {
            opacity: 1 !important;
            top: 50% !important;
        }

        #greeting {
            display: none;
            font-size: 24px;
            font-weight: bold;
            margin-top: 50px;
            text-shadow: 2px 2px 10px rgba(0, 150, 255, 0.5);
        }

        #studyMessage {
            display: none;
            font-size: 18px;
            margin-top: 15px;
            color: #FFD700;
            font-style: italic;
        }
    </style>
</head>
<body>

        
    <div id="welcomePopup" class="popup">
        <h3>  ! السلام عليكم و أهلاً يا طبيب/طبيبة مستقبلنا ان شاء الله  </h3>

        <p>من فضلك أدخل/ادخلي اسمك واختر/اختاري جنسك:</p>

    
        <div class="input-group">
            <input type="text" id="username" placeholder="أدخل اسمك">
        </div>
    
        <div class="gender-buttons">
            <button id="femaleButton" onclick="selectGender('female')"> امرأة</button>
            <button id="maleButton" onclick="selectGender('male')">  رجل</button>
           
        </div>
    
        <button class="submit-button" onclick="submitInfo()">متابعة</button>
    </div>
    
    <!-- يجب أن يكون خارج نافذة الإدخال حتى يظهر عند الضغط على متابعة -->
    <div id="greetingContainer" style="display: none; flex-direction: column; align-items: center; gap: 10px; margin-top: 70px;">
        <h2 id="welcomeMessage" style="color: #00aaff; text-align: center;"></h2>
        <img id="doctorImage" src="" alt="صورة الطبيب" style="width: 60px; height: 60px; border-radius: 50%;">
        <h1 id="greeting" style="margin: 0; font-size: 22px;"></h1>
    </div>
    <p id="studyMessage"></p>
    <p id="nationMessage" style="color: #FFD700; font-weight: bold; font-size: 18px;"></p>
    
    <script>
        let selectedGender = "";
    
        document.addEventListener("DOMContentLoaded", function () {
            let storedName = localStorage.getItem("username");
            let storedGender = localStorage.getItem("gender");
            let visitCount = parseInt(localStorage.getItem("visitCount") || "0");
    
            visitCount += 1;
            localStorage.setItem("visitCount", visitCount);
    
            if (visitCount >= 3) {
                localStorage.removeItem("username");
                localStorage.removeItem("gender");
                localStorage.setItem("visitCount", "0");
                storedName = null;
            }
    
            if (storedName && storedGender) {
                displayGreeting(storedName, storedGender);
            } else {
                let popup = document.getElementById('welcomePopup');
                popup.style.display = 'block';
                setTimeout(() => popup.classList.add('fade-in'), 50);
            }
        });
    
        function selectGender(gender) {
            selectedGender = gender;
            document.getElementById("maleButton").classList.remove("selected");
            document.getElementById("femaleButton").classList.remove("selected");
    
            if (gender === "male") {
                document.getElementById("maleButton").classList.add("selected");
            } else {
                document.getElementById("femaleButton").classList.add("selected");
            }
        }
    


        function submitInfo() {
    let name = document.getElementById('username').value.trim();
    if (name === "") {
        alert("❌ يرجى إدخال اسمك");
        return;
    }
    if (!selectedGender) {
        alert("❌ يرجى اختيار الجنس");
        return;
    }

    console.log("🚀 إرسال الاسم:", name);
    console.log("🚀 إرسال الجنس:", selectedGender);

    localStorage.setItem("username", name);
    localStorage.setItem("gender", selectedGender);
    localStorage.setItem("visitCount", "0");

    displayGreeting(name, selectedGender);

    let popup = document.getElementById('welcomePopup');
    popup.classList.remove('fade-in');
    setTimeout(() => popup.style.display = 'none', 500);
}






function displayGreeting(name, gender) {
    console.log("✅ تم استلام الاسم:", name);
    console.log("✅ تم استلام الجنس:", gender);

    let welcomeMessage = `السلام عليكم ومرحبًا بك يا ${name}`;  
    
    
    let greetingMessage = gender === "male" 
        ? `مرحبًا دكتور ${name}!` 
        : `مرحبًا دكتورة ${name}!`;

    let studyMessage = gender === "male" 
        ? "ادرس جيدًا يا طبيب المسلمين إن شاء الله 📚" 
        : "ادرسِ جيدًا يا طبيبة المسلمات إن شاء الله 📚";

  

        

        let nationNeedsYou = 
    " يقول الله تعالى وبعد بسم الله الرحمان الرحيم :\n" +
    " ﴾الَّذِينَ يَتَّخِذُونَ الْكَافِرِينَ أَوْلِيَاءَ مِن دُونِ الْمُؤْمِنِينَ ۚ أَيَبْتَغُونَ عِندَهُمُ الْعِزَّةَ فَإِنَّ الْعِزَّةَ لِلَّهِ جَمِيعًا ﴿\n" +
    "[النساء: 139]\n\n" +
    
    " يقول الله تعالى وبعد بسم الله الرحمان الرحيم :\n" +
    "﴾ لَهُ مُعَقِّبَاتٌ مِّن بَيْنِ يَدَيْهِ وَمِنْ خَلْفِهِ يَحْفَظُونَهُ مِنْ أَمْرِ اللَّهِ ۗ إِنَّ اللَّهَ لَا يُغَيِّرُ مَا بِقَوْمٍ حَتَّىٰ يُغَيِّرُوا مَا بِأَنفُسِهِمْ ۗ وَإِذَا أَرَادَ اللَّهُ بِقَوْمٍ سُوءًا فَلَا مَرَدَّ لَهُ ۚ وَمَا لَهُم مِّن دُونِهِ مِن وَالٍ ﴿\n" +
    "[الرعد: 11]\n\n" +

    "أمتكم بحاجة إليكم.. كونوا عونًا لها في سبيل الله، اجعلوا علمكم طريقًا لنهضة أمتكم.. أمتكم بحاجة إليكم.\n\n" +
    
    "فعن السلف الصالح عمر بن الخطاب رضي الله عنه قال:\n" +
    "\"إنَّا كنَّا أذَلَّ قومٍ، فأعزَّنا اللَّهُ بالإسلامِ، فمهما نطلُبِ العِزَّةَ بغيرِ ما أعزَّنا اللَّهُ به أذلَّنا اللَّهُ.\"";

// وضع النص داخل العنصر بدون أكواد HTML ظاهرة
document.getElementById('nationMessage').textContent = nationNeedsYou;






    let imageSrc = gender === "male" 
        ? "S22MCS PARTS/doctor.png" 
        : "S22MCS PARTS/doctormuslim.png";

    // تحديث العناصر في الصفحة
    document.getElementById('welcomeMessage').innerText = welcomeMessage;
    document.getElementById('greeting').innerText = greetingMessage;
    document.getElementById('studyMessage').innerText = studyMessage;
    document.getElementById('nationMessage').innerText = nationNeedsYou;
    document.getElementById('doctorImage').src = imageSrc;

    // عرض القسم بالكامل
    document.getElementById('greetingContainer').style.display = 'flex';
    document.getElementById('studyMessage').style.display = 'block';
    document.getElementById('nationMessage').style.display = 'block';
}

        
    </script>
    
</body>
</html>



















































<!DOCTYPE html>
        <html lang="ar">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>التقدم في الحفظ</title>
            <style>
    body {
    font-family: 'Poppins', 'Amiri', serif;
    background-color: #121212;
    color: white;
    margin: 0;
    padding: 20px;
    text-align: center;
    padding-top: 120px; /* Add padding to prevent content from being hidden under the header */
}

/* Updated Sidebar to Header */
.sidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%; /* Full width */
    height:50px; /* Adjust height as needed */
    background-color: #333;
    text-align: center;
    padding: 10px 20px; /* Adjust padding as needed */
    z-index: 1000;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); /* Add shadow for better visibility */
}

/* Progress Bar Container */
.progress-bar-container {
    width: 60%; /* Adjust width as needed */
    height: 30px;
    background-color: #444;
    border-radius: 15px;
    position: relative;
    margin: 0 auto; /* Center the progress bar */
}

/* Progress Bar */
.progress-bar {
    height: 100%;
    width: 0;
    background-color: #00aaff;
    border-radius: 15px;
    transition: width 0.3s ease-in-out;
}

#proo {
    margin-right: 10rem;
    font-size: 2rem;
}

/* Progress Percentage */
.progress-percentage {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 18px;
    font-weight: bold;
}

/* Finish Button */
.finish-button {
    background-color: #00aaff;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    margin-right: 3rem;
}

.finish-button:hover {
    background-color: #0077cc;
}

/* Disabled Finish Button */
.finish-button:disabled {
    background-color: #ccc; /* Grayed out */
    cursor: not-allowed; /* Show not-allowed cursor */
    opacity: 0.7; /* Make it slightly transparent */
}

/* Lesson Container */
.lesson-container {
    margin-top: 20px; /* Adjust margin to account for the header */
}


/* Bubble Styles */
.bubble {
    background: rgba(30, 30, 30, 0.95);
    box-shadow: 0 6px 20px rgba(0, 150, 255, 0.4);
    border-left: 6px solid #00aaff;
    padding: 20px;
    border-radius: 20px;
    margin: 20px auto;
    max-width: 60rem;
    transition: transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
    text-align: right;
    direction: rtl;
    position: relative;
    cursor: pointer;
}

.bubble:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 30px rgba(0, 150, 255, 0.5);
}

.interact-button {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: #007bff;
    color: white;
    border: none;
    padding: 8px 12px;
    font-size: 14px;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.interact-button:hover {
    background-color: #0056b3;
}

/* Modal Styles */
.modal {
    display: none;
    position: fixed;
    z-index: 2000;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 400px;
    background: #222;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 150, 255, 0.5);
    text-align: center;
}

.modal h3 {
    margin-bottom: 15px;
    color: #00aaff;
}

.modal button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 15px;
    cursor: pointer;
    border-radius: 5px;
    margin: 10px;
    font-size: 16px;
}

.modal button:hover {
    background-color: #0056b3;
}

/* End Lesson Modal */
#end-lesson-modal {
    display: none;
    position: fixed;
    z-index: 2000;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 80%;
    max-width: 600px;
    background-color: #333;
    padding: 30px;
    border-radius: 10px;
    color: white;
    text-align: center;
    box-shadow: 0 6px 30px rgba(0, 150, 255, 0.5);
}

#end-lesson-modal h3 {
    color: #00aaff;
    font-size: 24px;
    margin-bottom: 20px;
}

#end-lesson-modal p {
    font-size: 18px;
    margin-bottom: 20px;
}

#end-lesson-modal button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    border-radius: 5px;
    margin: 10px;
    font-size: 16px;
}

#end-lesson-modal button:hover {
    background-color: #0056b3;
}

.reload-button {
    background-color: #28a745;
}

.reload-button:hover {
    background-color: #218838;
}



/* Vibration Animation */
@keyframes vibrate {
    0% { transform: translateX(0); }
    20% { transform: translateX(-5px); }
    40% { transform: translateX(5px); }
    60% { transform: translateX(-5px); }
    80% { transform: translateX(5px); }
    100% { transform: translateX(0); }
}

.vibrate {
    animation: vibrate 0.5s ease-in-out; /* Vibrate for 0.5 seconds */
}













.outside-image {
    display: block; /* يجعل الصورة عنصرًا منفصلًا */
    margin: 20px auto; /* يضع الصورة في المنتصف */
    max-width: 100%; /* يضمن أن الصورة لا تتجاوز حجم الشاشة */
    height: auto; /* يحافظ على الأبعاد الأصلية للصورة */
}










/* Refresh Container */
.refresh-container {
    text-align: center;
    margin-top: 15px;
}

.refresh-button {
    background: linear-gradient(135deg, #1a1a1a, #333); /* ألوان داكنة مريحة */
    color: #ffffff;
    border: 1px solid #444;
    padding: 10px 22px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    border-radius: 25px;
    font-family: 'Poppins', Arial, sans-serif;
    transition: all 0.3s ease-in-out;
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
    outline: none;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    min-width: 160px;
    justify-content: center;
}

.refresh-button:hover {
    background: linear-gradient(135deg, #292929, #444);
    transform: translateY(-3px);
    box-shadow: 0 6px 18px rgba(255, 255, 255, 0.15);
}

.refresh-button:active {
    transform: scale(0.96);
}

.refresh-button::before {
    content: "🔄"; /* أيقونة التحديث */
    font-size: 18px;
}

/* تحسين للهواتف */
@media (max-width: 768px) {
    .refresh-button {
        padding: 8px 18px;
        font-size: 14px;
        min-width: 140px;
    }
}

@media (max-width: 480px) {
    .refresh-button {
        padding: 7px 16px;
        font-size: 13px;
        min-width: 120px;
        border-radius: 20px;
    }
}




</style>





<body>
    <div class="sidebar">
        <button class="finish-button" onclick="finishLesson()">انتهيت من الدرس</button>
        <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
            <div class="progress-percentage" id="progress-percentage">0%</div>
        </div>
        <h3 id="proo" >📊 التقدم</h3>
    </div>

    <br>
    <div class="refresh-container"  id="ref">
        <button class="refresh-button" onclick="location.reload();">تحديث الصفحة</button>
    </div>
    <br>
    <div class="lesson-container">
        <h1 class="lesson-title">الغشاء البلوري</h1>
        <h2 class="lesson-subtitle">🔻 THE PLEURA 🔻</h2>
        <h2 class="lesson-subtitle">🔻 LA PLEVRE 🔻</h2>
    </div>


    <div class="bubble">
        <button class="interact-button"  id="inter1" onclick="markBubbleAsCompleted(this)">تفاعل</button>
        <h3 class="intro" style="text-align: center;">I. عامــات</h3>
        <p><strong>الجنبة هي غشاء مصلي يتكون من وريقتين متصلتين عند سرة الرئة. تكون الوريقة الجدارية ملتصقة بالقفص الصدري، بينما تكون الوريقة الحشوية ملاصقة لسطح الرئة. تفصل بينهما التجويف الجنبي.</strong></p>
        <p><strong>يعد هذا التجويف شبه افتراضي، حيث يحتوي بشكل طبيعي على كمية قليلة من السائل وعدد قليل من كريات الدم البيضاء. يسود داخله ضغط سلبي يسمح بتمدد الرئة أثناء الشهيق.</strong></p>
        <br>
        <div class="bubble" dir="ltr">
            <h3 class="intro" style="text-align: center;">I. GENERALITIES</h3>
            <p><strong>The pleura is a serous membrane consisting of two layers that are continuous at the pulmonary hilum. The parietal layer is applied against the rib cage, while the visceral layer is attached to the lung surface. They are separated by the pleural cavity.</strong></p>
            <p><strong>The cavity is almost virtual and typically contains only a small amount of fluid and some white blood cells. It maintains a negative pressure that allows for lung expansion during inspiration.</strong></p>
        </div>
        <br>
        <div class="bubble" dir="ltr">
            <h3 class="intro" style="text-align: center;">I. GENERALITES</h3>
            <p><strong>La plèvre est une membrane séreuse composée de deux feuillets en continuité au niveau du hile pulmonaire. Le feuillet pariétal est appliqué contre la cage thoracique, tandis que le feuillet viscéral est en contact avec la surface pulmonaire. Ils sont séparés par la cavité pleurale.</strong></p>
            <p><strong>Celle-ci est presque virtuelle et ne contient normalement qu'une petite quantité de liquide et quelques globules blancs. Une pression négative y règne, ce qui permet l'expansion pulmonaire lors de l'inspiration.</strong></p>
        </div>
    </div>

    <div class="bubble">
        <button class="interact-button"  id="inter2" onclick="markBubbleAsCompleted(this)">تفاعل</button>
        <h3 class="intro" style="text-align: center;">2. الأصل الجنيني</h3>
        <p><strong>تنشأ الجنبة من أصل ميزوبلاستي.</strong></p>
        <p><strong>تشتق الوريقة الحشوية من الميزوبلاست المحيط ببراعم الرئة (المعروفة باسم الأحشاء الجنينية).</strong></p>
        <p><strong>تشتق الوريقة الجدارية من الجدار الجسدي الجنيني.</strong></p>
        <p><strong>يتشكل التجويف الجنبي نتيجة تقسيم الجوف الجنيني الداخلي، أو ما يعرف بالتجويف التاموري الجنبي البريتوني.</strong></p>
        <br>
        <div class="bubble">
            <h3 class="intro" style="text-align: center;">2. Embryological Origin</h3>
            <p><strong>The pleura is of mesoblastic origin.</strong></p>
            <p><strong>The visceral layer derives from the mesoblast surrounding the pulmonary buds (the splanchnopleure).</strong></p>
            <p><strong>The parietal layer derives from the somatopleure.</strong></p>
            <p><strong>The pleural cavity originates from the partitioning of the intra-embryonic coelom, also known as the pericardio-pleuroperitoneal cavity.</strong></p>
        </div>
        <br>
        <div class="bubble">
            <h3 class="intro" style="text-align: center;">2. Origine embryologique</h3>
            <p><strong>La plèvre est d’origine mésoblastique.</strong></p>
            <p><strong>Le feuillet viscéral dérive du mésoblaste qui entoure les bourgeons pulmonaires (la splanchnopleure).</strong></p>
            <p><strong>Le feuillet pariétal dérive de la somatopleure.</strong></p>
            <p><strong>La cavité pleurale provient du cloisonnement du cœlome intra-embryonnaire, ou cavité péricardo-pleuropéritonéale.</strong></p>
        </div>
    </div>







    <div class="bubble">
        <button class="interact-button"  id="inter2" onclick="markBubbleAsCompleted(this)">تفاعل</button>

        <h3 class="intro" style="text-align: center;">3. البنية النسيجية للجنبة</h3>
        <p><strong>تتكون كل جنبة من غشاء مصلي رقيق، يلتصق بالنسيج الضام تحت الجنبي، ويتألف من ثلاث طبقات.</strong></p>
        
        <h4>أ. الجنبة ذاتها:</h4>
        <p><strong>الجنبة أو المصل الجنبي (سواء الورقة الحشوية أو الجدارية) تتكون من ميزوثيليوم يرتكز على طبقة تحت ميزوثيلية ومستوى ليفي-مرن سطحي.</strong></p>

        <h4>1) الميزوثيليوم:</h4>
        <ul>
            <li><strong>هو نسيج طلائي حرشفي بسيط (يشبه البطانة)، يسمى ميزوثيليوم بسبب أصله الميزوديرمي.</strong></li>
            <li><strong>يتكون من طبقة واحدة من الخلايا المسطحة متعددة الأضلاع، بقطر يتراوح بين 30 و50 ميكرومتر وسماكة 8 ميكرومتر. يكون النواة دائرية أو بيضوية ومركزية الموقع.</strong></li>
            <li><strong>أنظمة الوصل بين الخلايا من النوع الرخو.</strong></li>
            <li><strong>يمكن أن تتقشر الخلايا الميزوثيلية في التجويف الجنبي، وتكتسب خصائص بلعمية، مما يجعلها تشبه الهيستوسيتات.</strong></li>
            <li><strong>يرتكز الميزوثيليوم على النسيج الضام تحته دون وجود غشاء قاعدي منظم تمامًا بينهما.</strong></li>
            <li><strong>يشكل السطح الذي تنزلق عليه الوريقتان الجنبية.</strong></li>
        </ul>


        <h3 class="intro" style="text-align: center;">2) الطبقة تحت الميزوثيليوم</h3>
        <ul>
            <li><strong>هي طبقة رقيقة تتكون من نسيج ضام رخو يحتوي على عدد قليل من الخلايا.</strong></li>
            <li><strong>هذه المنطقة خالية من الأوعية الدموية واللمفاوية.</strong></li>
            <li><strong>في الجنبة الجدارية، تحتوي على منطقة بها فجوات لمفاوية ومسام تتيح الاتصال بين التجويف الجنبي والجهاز اللمفاوي للجنبة الجدارية.</strong></li>
            <li><strong>تلعب البلاعم، الموجودة في كل من التجويف الجنبي والطبقة تحت الميزوثيليوم، دورًا في الدفاع المناعي لهذه الأغشية.</strong></li>
        </ul>

        <h3 class="intro" style="text-align: center;">3) الطبقة الليفية المرنة السطحية</h3>
        <ul>
            <li><strong>تتكون من ألياف مرنة وكولاجينية مرتبة في شبكة كثيفة.</strong></li>
            <li><strong>غنية بالأوعية الدموية واللمفاوية.</strong></li>
            <li><strong>كل طبقة جنبية متصلة وفقًا لموقعها: الطبقة الجدارية متصلة بالقفص الصدري، والطبقة الحشوية متصلة بالرئة عبر الطبقة تحت الجنبية والطبقة الليفية المرنة العميقة.</strong></li>
        </ul>




        
    <br> <br>
    <div class="bubble">
    <h3 class="intro" style="text-align: center;">3. Histological Structure of the Pleura</h3>
    <p><strong>Each pleura is a thin serous membrane, adherent to the subpleural connective tissue, and composed of three layers.</strong></p>
    
    <h4>A. The Pleura Proper:</h4>
    <p><strong>The pleura proper, or pleural serosa (whether visceral or parietal), consists of a mesothelium resting on a sub-mesothelial layer and a superficial fibroelastic layer.</strong></p>

    <h4>1) The Mesothelium:</h4>
    <ul>
        <li><strong>It is a simple squamous epithelium (endothelium-like), called mesothelium due to its mesodermal origin.</strong></li>
        <li><strong>It consists of a single layer of flattened, polygonal cells measuring 30 to 50 μm in diameter and 8 μm in thickness. The nucleus is round or oval and centrally located.</strong></li>
        <li><strong>The junctional systems are of a loose type.</strong></li>
        <li><strong>Mesothelial cells can desquamate into the pleural cavity, acquiring phagocytic properties and resembling histiocytes.</strong></li>
        <li><strong>The mesothelium rests on the underlying connective tissue without a perfectly organized basal membrane in between.</strong></li>
        <li><strong>It constitutes the sliding surface of the two pleural layers.</strong></li>
    </ul>




    <h3 class="intro" style="text-align: center;">2) The Submesothelial Layer</h3>
    <ul>
        <li><strong>It is thin, composed of loose connective tissue containing a few scattered cells.</strong></li>
        <li><strong>This zone lacks blood and lymphatic vessels.</strong></li>
        <li><strong>In the parietal pleura, it features an area where lymphatic lacunae and pores establish communication between the pleural cavity and the lymphatics of the parietal pleura.</strong></li>
        <li><strong>Macrophages, located both in the pleural cavity and within the submesothelial layer, contribute to the defense mechanisms of these membranes.</strong></li>
    </ul>

    <h3 class="intro" style="text-align: center;">3) The Superficial Fibroelastic Layer</h3>
    <ul>
        <li><strong>It consists of elastic and collagen fibers arranged in a dense network.</strong></li>
        <li><strong>It is rich in blood and lymphatic vessels.</strong></li>
        <li><strong>Each pleural layer is respectively attached: the parietal layer to the rib cage, and the visceral layer to the lung via the subpleural layer and the deep fibroelastic layer.</strong></li>
    </ul>

   </div>





    <br> <br>
    <div class="bubble">
        <h3 class="intro" style="text-align: center;">3. Structure histologique de la plèvre</h3>
        <p><strong>Chaque plèvre est une séreuse fine, adhérente au tissu conjonctif sous-pleural, et composée de trois couches.</strong></p>

        <h4>A. La plèvre proprement dite :</h4>
        <p><strong>La plèvre proprement dite ou séreuse pleurale (qu’il s’agisse du feuillet viscéral ou pariétal) est constituée par un mésothélium reposant sur une couche sous-mésothéliale et un plan fibro-élastique superficiel.</strong></p>

        <h4>1) Le mésothélium :</h4>
        <ul>
            <li><strong>C'est un épithélium pavimenteux simple (endothéliforme), appelé mésothélium en raison de son origine mésodermique.</strong></li>
            <li><strong>Il est formé d'une seule assise de cellules aplaties, polygonales, de 30 à 50 μm de diamètre et de 8 μm d'épaisseur. Le noyau, rond ou ovalaire, est central.</strong></li>
            <li><strong>Les systèmes de jonction sont de type lâche.</strong></li>
            <li><strong>Les cellules mésothéliales peuvent desquamer dans la cavité pleurale. Elles prennent alors des caractères de cellules phagocytaires et ressemblent à des histiocytes.</strong></li>
            <li><strong>Le mésothélium repose sur le conjonctif sous-jacent sans interposition de membrane basale parfaitement organisée.</strong></li>
            <li><strong>Il constitue la surface de glissement des deux feuillets.</strong></li>
        </ul>




        <h3 class="intro" style="text-align: center;">2) La Couche Sous-Mésothéliale</h3>
        <ul>
            <li><strong>Elle est fine, constituée d’un tissu conjonctif lâche avec peu de cellules.</strong></li>
            <li><strong>Cette zone est dépourvue de vaisseaux sanguins et lymphatiques.</strong></li>
            <li><strong>Dans la plèvre pariétale, elle présente une zone où des lacunes lymphatiques et des pores permettent la communication entre la cavité pleurale et les lymphatiques de la plèvre pariétale.</strong></li>
            <li><strong>Les macrophages, situés à la fois dans la cavité pleurale et dans la couche sous-mésothéliale, jouent un rôle défensif pour ces feuillets.</strong></li>
        </ul>

        <h3 class="intro" style="text-align: center;">3) Le Plan Fibro-Élastique Superficiel</h3>
        <ul>
            <li><strong>Il est constitué de fibres élastiques et collagènes en réseau serré.</strong></li>
            <li><strong>Il est riche en vaisseaux sanguins et lymphatiques.</strong></li>
            <li><strong>Chaque feuillet est rattaché respectivement : le feuillet pariétal au gril costal et le feuillet viscéral au poumon, par la couche sous-pleurale et le plan fibro-élastique profond.</strong></li>
        </ul>
        </div>
    </div>








    <div class="bubble">
        <button class="interact-button"  id="inter2" onclick="markBubbleAsCompleted(this)">تفاعل</button>

        <h3 class="intro" style="text-align: center;">B. الطبقة تحت الجنبية</h3>
        <ul>
            <li><strong>تتكون من نسيج ضام دهني يحتوي على ألياف كولاجينية، ألياف مرنة، والعديد من الخلايا: الخلايا الليفية، الأرومات الليفية، الخلايا الليمفاوية، والبلاعم.</strong></li>
            <li><strong>تحتوي على العديد من الأوعية الدموية واللمفاوية، مما يضمن تغذية الغشاء الجنبي.</strong></li>
            <li><strong>بالإضافة إلى ذلك، فهي غنية بالتعصيب، خاصةً على الجانب الجداري.</strong></li>
        </ul>
       
        <br> <br>
        <div class="bubble">
    
    
            <h3 class="intro" style="text-align: center;">B. The Subpleural Layer</h3>
            <ul>
                <li><strong>It consists of connective-adipose tissue containing collagen fibers, elastic fibers, and numerous cells: fibroblasts, fibrocytes, lymphocytes, and macrophages.</strong></li>
                <li><strong>It has numerous blood and lymphatic vessels, ensuring the pleura's nutrition.</strong></li>
                <li><strong>Additionally, it is richly innervated, especially on the parietal side.</strong></li>
            </ul>
        
    
        </div>
    
        <br> <br>
        <div class="bubble">
            <h3 class="intro" style="text-align: center;">B. La Couche Sous-Pleurale</h3>
            <ul>
                <li><strong>Elle est formée d’un tissu conjonctivo-adipeux contenant des fibres de collagène, des fibres élastiques et de nombreuses cellules : fibroblastes, fibrocytes, lymphocytes et macrophages.</strong></li>
                <li><strong>Elle comporte de nombreux vaisseaux sanguins et lymphatiques, assurant ainsi la nutrition de la plèvre.</strong></li>
                <li><strong>Elle est, de plus, richement innervée, surtout du côté pariétal.</strong></li>
            </ul>
        </div>
    </div>
    
    
    
    
    






<div class="bubble">
    <button class="interact-button"  id="inter2" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <h3 class="intro" style="text-align: center;">C. الطبقة الليفية المرنة العميقة</h3>
    <ul>
        <li><strong>تستمر الطبقة تحت الجنبية بطبقة ليفية مرنة عميقة تابعة للأعضاء الكامنة.</strong></li>
        <li><strong>تشكل الغلاف الليفي المرن للفصيصات في حالة الغشاء الجنبي الحشوي، واللفافة داخل الصدر في حالة الغشاء الجنبي الجداري.</strong></li>
    </ul>


   
    <br> <br>
    <div class="bubble">
    
        <h3 class="intro" style="text-align: center;">C. The Deep Fibroelastic Layer</h3>
        <ul>
            <li><strong>The subpleural layer continues as a deep fibroelastic layer belonging to the underlying organs.</strong></li>
            <li><strong>It forms the fibroelastic envelope of the lobules in the case of the visceral pleura and the endothoracic fascia in the case of the parietal pleura.</strong></li>
        </ul>
    </div>
    <br> <br>
    <div class="bubble">
        <h3 class="intro" style="text-align: center;">C. Le Plan Fibro-Élastique Profond</h3>
        <ul>
            <li><strong>La couche sous-pleurale se continue par un plan fibro-élastique profond appartenant aux organes sous-jacents.</strong></li>
            <li><strong>Il s'agit de l'enveloppe fibro-élastique des lobules dans le cas de la plèvre viscérale et du fascia endothoracique dans le cas de la plèvre pariétale.</strong></li>
        </ul>
    </div>
</div>


















<div class="bubble">
    <button class="interact-button"  id="inter2" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <h3 class="intro" style="text-align: center;">D. التجويف الجنبي</h3>
    <ul>
        <li><strong>هو الفراغ الرقيق جدًا الموجود بين وريقتي الغشاء الجنبي.</strong></li>
        <li><strong>يبلغ سمكه حوالي 20 ميكرومترًا ومملوء بسائل جنبي.</strong></li>
        <li><strong>يتميز السائل بلزوجة منخفضة، وهو مشابه للسائل اللمفاوي الخلالي، وينشأ من بلازما الدم عبر عملية الرشح.</strong></li>
        <li><strong>يساعد الغشاء السائل الرقيق بين وريقتي الجنب في تحقيق الالتصاق المشابه للالتصاق بين شريحتين زجاجيتين مبللتين، مما يسمح بتمدد الرئتين أثناء الشهيق وحركة سلسة بين وريقتي الجنب أثناء التنفس.</strong></li>
        <li><strong>يشكل الغشاءان الجنبيان والسائل الجنبي معًا ارتباطًا مرنًا بين القفص الصدري والرئتين.</strong></li>
        <li><strong>يحتوي السائل الجنبي على أقل من 50 كريات دم بيضاء لكل مم³ (معظمها خلايا وحيدة النواة)، كما يحتوي على خلايا ميزوثيلية متقشرة تكتسب خصائص بلعمية وتتصرف كخلايا هيستوسيتية.</strong></li>
    </ul>
   

    <br> <br>
    <div class="bubble">
   
        <h3 class="intro" style="text-align: center;">D. The Pleural Cavity</h3>
        <ul>
            <li><strong>It is the very thin space located between the two pleural layers.</strong></li>
            <li><strong>The cavity is about 20 μm thick and filled with pleural fluid.</strong></li>
            <li><strong>The fluid is slightly viscous, similar to interstitial lymph, and originates from plasma through transudation.</strong></li>
            <li><strong>The thin liquid layer between the two pleural sheets creates adhesion similar to two wet glass slides. This enables lung expansion during inspiration and smooth movement of the pleural surfaces during respiration.</strong></li>
            <li><strong>The pleura and pleural fluid together form a flexible connection between the chest wall and the lungs.</strong></li>
            <li><strong>The pleural fluid contains fewer than 50 leukocytes/mm³ (mainly mononuclear cells) and also desquamated mesothelial cells, which acquire phagocytic properties and behave like histiocytes.</strong></li>
        </ul>


    </div>

    <br> <br>
    <div class="bubble">
        <h3 class="intro" style="text-align: center;">D. La Cavité Pleurale</h3>
        <ul>
            <li><strong>C'est l'espace très mince situé entre les deux feuillets pleuraux.</strong></li>
            <li><strong>Il s'agit d'une cavité de 20 μm d'épaisseur, remplie par le liquide pleural.</strong></li>
            <li><strong>Ce liquide est peu visqueux, proche de la lymphe interstitielle, et provient du plasma sanguin par transsudation.</strong></li>
            <li><strong>La présence d'une fine lame liquidienne entre les deux feuillets entraîne une adhérence comparable à celle existant entre deux lames de verre mouillées. Elle permet la traction sur les poumons lors de l'inspiration et le glissement des deux surfaces pleurales l'une par rapport à l'autre lors des mouvements respiratoires.</strong></li>
            <li><strong>L'ensemble des deux plèvres et du liquide pleural réalise une liaison souple entre la cage thoracique et les poumons.</strong></li>
            <li><strong>Le liquide pleural contient moins de 50 leucocytes/mm³ (essentiellement des éléments mononucléés) et contient également des cellules mésothéliales desquamées qui acquièrent alors des propriétés phagocytaires et se comportent comme des histiocytes.</strong></li>
        </ul>
    </div>
</div>



<div class="bubble">
    <button class="interact-button"  id="inter2" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <h3 class="intro" style="text-align: center;">4. التوعية الدموية والتعصيب</h3>
    <ul>
        <li><strong>لا تمتلك الغشاء الجنبي تروية دموية خاصة به، حيث تقع الأوعية الدموية واللمفاوية في الطبقة تحت الجنب.</strong></li>
        <li><strong>يتصل الجنب الجداري مع الأوعية اللمفاوية تحت الجنب.</strong></li>
        <li><strong>يحصل الجنب الحشوي على تعصيب من الضفائر الرئوية.</strong></li>
        <li><strong>أما الجنب الجداري، فيتلقى نهايات عصبية من الأعصاب الوربية والعصب الحجابي والعصب المبهم. تصل هذه النهايات إلى جسيمات حسية، مما يجعل الجنب الجداري حساسًا للغاية.</strong></li>
    </ul>
  

    <br> <br>
    <div class="bubble">

        <h3 class="intro" style="text-align: center;">4. Vascularization and Innervation</h3>
        <ul>
            <li><strong>The pleura has no proper vascularization. Blood and lymphatic vessels are located in the subpleural layer.</strong></li>
            <li><strong>The parietal pleura communicates with the subpleural lymphatics.</strong></li>
            <li><strong>The visceral pleura receives innervation from the pulmonary plexuses.</strong></li>
            <li><strong>However, the parietal pleura receives nerve endings from the intercostal nerves, the phrenic nerve, and the vagus nerve. These endings terminate in sensory corpuscles, making the parietal pleura highly sensitive.</strong></li>
        </ul>
    </div>

    <br> <br>
    <div class="bubble">
        <h3 class="intro" style="text-align: center;">4. Vascularisation et Innervation</h3>
        <ul>
            <li><strong>Elle n'a pas de vascularisation propre. Les vaisseaux sanguins et lymphatiques sont situés dans la couche sous-pleurale.</strong></li>
            <li><strong>La plèvre pariétale communique avec les lymphatiques sous-pleuraux.</strong></li>
            <li><strong>L'innervation de la plèvre viscérale provient des plexus pulmonaires.</strong></li>
            <li><strong>Par contre, la plèvre pariétale reçoit des terminaisons nerveuses des nerfs intercostaux, du nerf phrénique et du nerf vague. Ces terminaisons aboutissent à des corpuscules sensitifs, rendant la plèvre pariétale très sensible.</strong></li>
        </ul>
    </div>
</div>











<div class="bubble">
    <button class="interact-button"  id="inter2" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <h3 class="intro" style="text-align: center;">5. الفيزيولوجيا النسيجية</h3>

    <h4>أ. الدور الميكانيكي للغشاء الجنبي</h4>
    <ul>
        <li><strong>تساعد التكوينات المرنة للغشاء الجنبي في ارتداد الرئة أثناء الزفير، بالتعاون مع جميع التكوينات المرنة الرئوية.</strong></li>
        <li><strong>يتم ضمان انزلاق الطبقتين الجنبية بواسطة:</strong>
            <ul>
                <li>الطبقة السائلة.</li>
                <li>الخلايا الظهارية المتوسطة.</li>
            </ul>
        </li>
    </ul>

    <h4>ب. حركات السائل الجنبي</h4>
    <p>يسمح تركيب الغشاء الجنبي بهذه الحركات:</p>
    <ul>
        <li><strong>يتميز النسيج الظهاري المتوسط بنفاذية عالية بسبب التوصيلات الرخوة بين خلاياه.</strong></li>
        <li><strong>الغشاء القاعدي غير المستمر.</strong></li>
        <li><strong>الحويصلات الدقيقة في الخلايا الظهارية المتوسطة، المسؤولة عن نقل الجزيئات الكبيرة.</strong></li>
        <li><strong>المسام التي تربط بين الحيز الجنبي والأوعية اللمفاوية، مما يسمح بامتصاص السوائل.</strong></li>
    </ul>
   
    <br> <br>
    <div class="bubble">
        <h3 class="intro" style="text-align: center;">5. Histophysiology</h3>

        <h4>A. Mechanical Role of the Pleura</h4>
        <ul>
            <li><strong>The elastic pleural formations support lung retraction during expiration along with the pulmonary elastic structures.</strong></li>
            <li><strong>The sliding of the two pleural layers is ensured by:</strong>
                <ul>
                    <li>The liquid film.</li>
                    <li>The mesothelial cells.</li>
                </ul>
            </li>
        </ul>
    
        <h4>B. Movements of Pleural Fluid</h4>
        <p>The pleural structure allows these movements:</p>
        <ul>
            <li><strong>The mesothelium, due to its loose junctions, exhibits significant permeability.</strong></li>
            <li><strong>The discontinuous basal lamina.</strong></li>
            <li><strong>Micropinocytosis vesicles in mesothelial cells facilitate macromolecule transfer.</strong></li>
            <li><strong>Communication pores between the pleural space and lymphatics enable fluid resorption.</strong></li>
        </ul>
    


    </div>

    <br> <br>
    <div class="bubble">
        <h3 class="intro" style="text-align: center;">5. Histophysiologie</h3>

        <h4>A. Rôle mécanique de la plèvre</h4>
        <ul>
            <li><strong>Les formations élastiques pleurales favorisent la rétraction du poumon lors de l’expiration, conjointement avec les structures élastiques pulmonaires.</strong></li>
            <li><strong>Le glissement des deux feuillets est assuré par :</strong>
                <ul>
                    <li>Le film liquide.</li>
                    <li>Les cellules mésothéliales.</li>
                </ul>
            </li>
        </ul>

        <h4>B. Mouvements du liquide pleural</h4>
        <p>La structure de la plèvre permet ces mouvements :</p>
        <ul>
            <li><strong>Le mésothélium, en raison de ses jonctions lâches, présente une perméabilité importante.</strong></li>
            <li><strong>La lame basale discontinue.</strong></li>
            <li><strong>Les vésicules de micropinocytose des cellules mésothéliales assurent le transfert de macromolécules.</strong></li>
            <li><strong>Les pores de communication entre l’espace pleural et les lymphatiques permettent la résorption des liquides.</strong></li>
        </ul>
    </div>
</div>






<div class="bubble">
    <button class="interact-button"  id="inter2" onclick="markBubbleAsCompleted(this)">تفاعل</button>

      <h3 class="intro" style="text-align: center;">ج. آليات دفاع الغشاء الجنبي</h3>


      
    <figure class="bubble">
        <img src="2MEDU1HISTOLOGIE/A1.jpg" alt="شرح الاختصارات الطبية" class="outside-image">
    </figure>


    <p><strong>لا تظهر البنية المعقدة للغشاء الجنبي البشري في هذه المقاطع من رئة الجرذ، حيث يكون النسيج الظهاري المتوسط فقط هو النموذجي.</strong></p>
    <p><strong>تمتلك خلايا هذا النسيج الظهاري الحرشفي البسيط العديد من الامتدادات الخيطية التي تخترق التجويف الجنبي. ويمثل الغشاء المخاطي طبقة رقيقة شفافة.</strong></p>
    <p><strong>يتميز الغشاء الجنبي البشري بخطوط ترسم شبكة تشبه قرص العسل، وتكون هذه الخطوط أكثر وضوحًا في صور الرئة الأمامية للأشخاص المسنين، حيث تتراكم فيها كميات كبيرة من البلاعم المحملة بجزيئات الكربون المستنشقة عبر الهواء على مر السنين. كل خلية من قرص العسل تشكل قاعدة فصيص.</strong></p>

    <h4>تطبيق سريري: البزل الجنبي</h4>
           <p><strong>يمكن أن يتعرض التجويف الجنبي لعدوى بكتيرية أو فيروسية، وكذلك لأورام. في هذه الحالات، يحدث انصباب جنبي يمكن سحبه عن طريق البزل لإجراء فحوصات كيميائية وبكتريولوجية وسيتولوجية.</strong></p>




    <br> <br>
    <div class="bubble">



                      
    <h3 class="intro" style="text-align: center;">C. Defense Mechanisms of the Pleura</h3>

    <p><strong>The complex organization of the human pleura does not appear in this section of a rat lung, where only the mesothelium is typical.</strong></p>
    <p><strong>The cells of this simple squamous epithelium have numerous thread-like extensions that penetrate the pleural cavity. The chorion is represented by a thin, clear layer.</strong></p>
    <p><strong>The human pleura is marked by lines forming a honeycomb-like network. These lines are particularly visible in a frontal view of an elderly person's lung, emphasized by the accumulation of macrophages overloaded with carbon particles from inhaled air over the years. Each honeycomb forms the base of a lobule.</strong></p>

    <h4>Clinical Application: Pleural Puncture</h4>
    <p><strong>The pleural cavity can be affected by bacterial or viral infections, as well as tumors. In these cases, pleural effusion occurs, which can be punctured for chemical, bacteriological, and cytological analysis.</strong></p>

    </div>

    <br> <br>
    <div class="bubble">
        <h3 class="intro" style="text-align: center;">C. Mécanismes de défense de la plèvre</h3>

        <p><strong>L'organisation complexe de la plèvre humaine n'apparaît pas dans cette coupe de poumon de rat, où seul le mésothélium est typique.</strong></p>
        <p><strong>Les cellules de cet épithélium pavimenteux simple possèdent de nombreuses expansions filiformes qui plongent dans la cavité pleurale. Le chorion est représenté par une mince couche claire.</strong></p>
        <p><strong>La plèvre humaine est sillonnée de lignes formant un réseau en nids d'abeille, particulièrement visibles dans cette vue frontale du poumon d'une personne âgée. Ces lignes sont soulignées par l'accumulation progressive de macrophages chargés de particules de carbone provenant de l'air inhalé. Chaque nid d'abeille constitue la base d'un lobule.</strong></p>

        <h4>Application clinique : la ponction pleurale</h4>
        <p><strong>La cavité pleurale peut être affectée par des infections bactériennes ou virales, ainsi que par des atteintes tumorales. Dans ces cas, un épanchement liquidien pleural se produit, pouvant être ponctionné pour des examens chimiques, bactériologiques et cytologiques.</strong></p>
    </div>
</div>









<div class="bubble">
    <button class="interact-button"  id="inter2" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <figure class="bubble">
        <img src="2MEDU1HISTOLOGIE/A2.jpg" alt="شرح الاختصارات الطبية" class="outside-image">
    </figure>

</div>









<div class="bubble">
    <button class="interact-button"  id="inter2" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <figure class="bubble">
        <img src="2MEDU1HISTOLOGIE/A3.jpg" alt="شرح الاختصارات الطبية" class="outside-image">
    </figure>

</div>




<div class="bubble">
    <button class="interact-button"  id="inter2" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <figure class="bubble">
        <img src="2MEDU1HISTOLOGIE/A4.jpg" alt="شرح الاختصارات الطبية" class="outside-image">
    </figure>

</div>








    <div id="end-lesson-modal">
        <h3>أحسنت يا طبيبنا إن شاء الله!</h3>
        <p id="lesson-summary">الوقت المستغرق: 00 دقيقة و 00 ثانية. عدد الفقاعات التي تم التفاعل معها: 0 من أصل 0.</p>
        <button class="reload-button" onclick="reloadPage()">إعادة الحفظ</button>
        <button onclick="goToTestsPage()">الانتقال إلى صفحة الاختبارات</button>
    </div>

    <div class="modal" id="question-modal">
        <h3 id="modal-question">هل حفظت هذه الفقاعة؟</h3>
        <button onclick="closeModal(true)">نعم</button>
        <button onclick="closeModal(false)">لا</button>
    </div>

    <script>
        let totalBubbles = 8; 
let completedBubbles = 0; 
let startTime = Date.now();
let bubbleButton = null;

function showQuestion() {
    document.getElementById('question-modal').style.display = 'block';
}

function closeModal(answer) {
    document.getElementById('question-modal').style.display = 'none';

    if (answer) {
        completedBubbles++;
        updateProgress();
        bubbleButton.style.backgroundColor = '#4CAF50'; 
        bubbleButton.innerText = 'تم التفاعل'; 
        bubbleButton.disabled = true; 

        if (completedBubbles === totalBubbles) {
            enableFinishButton();
        }
    } else {
    }
}

function updateProgress() {
    let progress = (completedBubbles / totalBubbles) * 100; 
    document.getElementById('progress-bar').style.width = `${progress}%`;
    document.getElementById('progress-percentage').innerText = `${Math.round(progress)}%`;

    const finishButton = document.querySelector('.finish-button');
    if (progress === 100) {
        finishButton.disabled = false; 
        finishButton.style.backgroundColor = '#00aaff'; 
        finishButton.style.cursor = 'pointer'; 
    } else {
        finishButton.disabled = true;
        finishButton.style.backgroundColor = '#ccc'; 
        finishButton.style.cursor = 'not-allowed'; 
    }
}

function markBubbleAsCompleted(button) {
    bubbleButton = button; 
    showQuestion(); 
}

function finishLesson() {
    let elapsedTime = Date.now() - startTime;
    let minutes = Math.floor(elapsedTime / 60000);
    let seconds = Math.floor((elapsedTime % 60000) / 1000);
    let summary = `الوقت المستغرق: ${minutes} دقيقة و ${seconds} ثانية. عدد الفقاعات التي تم التفاعل معها: ${completedBubbles} من أصل ${totalBubbles}.`;
    document.getElementById('lesson-summary').innerText = summary;
    document.getElementById('end-lesson-modal').style.display = 'block';
}

function reloadPage() {
    location.reload();
}
function goToTestsPage() {
    window.location.href = 'MED02.html';
}

function initializeFinishButton() {
    const finishButton = document.querySelector('.finish-button');
    finishButton.disabled = true; 
    finishButton.style.backgroundColor = '#ccc'; 
    finishButton.style.cursor = 'not-allowed'; 
}

window.onload = initializeFinishButton;
    </script>
</body>
</html>






        
















































<br><br><br><br>











<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📚 بطاقات فلاش تفاعلية</title>
    <style>
        body {
            font-family: 'Amiri', serif;
            background-color: #121212;
            color: #fff;
            text-align: center;
            padding: 20px;
            margin: 0;
            direction: rtl;
        }

        .flashcard-container {
            perspective: 1000px;
            width: 90%;
            max-width: 600px;
            margin: 20px auto;
        }

        .flashcard {
            width: 100%;
            height: 300px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .flipped {
            transform: rotateY(180deg);
        }

        .flashcard-side {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(255, 255, 255, 0.2);
        }

        .front {
            background-color: #1e1e1e;
        }

        .back {
            background-color: #2c2c2c;
            transform: rotateY(180deg);
        }

        




        .flashcard-image {
    width: 40%;
    height: 100%;
    border-radius: 10px;
    overflow: hidden; /* يمنع الصورة من الخروج عن الإطار */
    display: flex;
    justify-content: center;
    align-items: center;
}

.flashcard-image img {
    max-width: 100%;
    max-height: 100%;
    transition: transform 0.3s ease-in-out;
    cursor: pointer;
}

.flashcard-image img.expanded {
    transform: scale(1.5);
}



.flashcard-content {
    width: 65%;
    background-color: rgba(0, 0, 0, 0.7);
    padding: 15px;
    border-radius: 10px;
    font-size: 18px;
    text-align: right; /* محاذاة للنصوص العربية */
    direction: rtl; /* التأكد من أن النص يبدأ من اليمين */
    overflow-y: auto; /* السماح بالتمرير العمودي */
    max-height: 150px; /* ضبط ارتفاع مناسب */
    white-space: normal; /* السماح بانكسار الأسطر */
    word-wrap: break-word; /* تجنب خروج النص عن الحدود */
}



        .buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 15px;
            gap: 10px;
        }

        .navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s, transform 0.2s;
        }

        button:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }

        .arrow {
            font-size: 30px;
            cursor: pointer;
            transition: color 0.3s, transform 0.2s;
        }

        .arrow:hover {
            color: #00aaff;
            transform: scale(1.2);
        }

        





        @media (max-width: 480px) {
    .flashcard {
        height: 230px;
    }

    .flashcard-image {
        width: 40%; /* تصغير الصور بشكل متناسب */
        max-height: 150px;
    }

    .flashcard-content {
        font-size: 14px;
        padding: 10px;
        max-height: 120px;
    }

    button {
        font-size: 14px;
        padding: 8px;
    }
}




    </style>
</head>
<body>
    <h2>📚 بطاقات فلاش تفاعلية</h2>
    
    <div class="flashcard-container" onclick="flipCard(event)">
        <div class="flashcard" id="flashcard">
            <div class="flashcard-side front">
                <div class="flashcard-image">
                    <img id="cardImageFront" src="" alt="صورة البطاقة" onclick="toggleImageSize(this)">
                </div>
                <div class="flashcard-content">
                    <h3 id="question"></h3>
                    <p id="hint" class="hint" style="display:none;"></p>
                </div>
            </div>
            <div class="flashcard-side back">
                <div class="flashcard-image">
                    <img id="cardImageBack" src="" alt="صورة البطاقة" onclick="toggleImageSize(this)">
                    
                </div>
                <div class="flashcard-content">
                    <h3>الإجابة:</h3>
                    <p id="answer"></p>
                </div>
            </div>
        </div>
    </div>

    <br><br>
    <div class="buttons">
        <button onclick="showHint()">🔍 تلميح</button>
        <button onclick="shuffleCards()">🔀 خلط البطاقات</button>
    </div>
        
    <br>
    <div class="navigation">
        <span class="arrow" onclick="nextCard()">➡️</span>
        <span id="cardNumber">1 / 3</span>
        <span class="arrow" onclick="prevCard()">⬅️</span>

    </div>

    <script>
     const flashcards = [
    {
        question: "ما هي وظيفة الغشاء البلوري؟ (AR) \nWhat is the function of the pleural membrane? (EN) \nQuelle est la fonction de la plèvre ? (FR)",
        hint: "يوجد بين الرئة والقفص الصدري (AR) \nIt is located between the lung and the rib cage (EN) \nIl est situé entre le poumon et la cage thoracique (FR)",
        answer: "يقلل الاحتكاك ويساعد في التنفس (AR) <br> Reduces friction and helps in breathing (EN) <br> Réduit les frottements et aide à la respiration (FR)",
        image: "lung.png",
        isHtml: true
    },
    {
        question: "ما هي وظيفة الحجاب الحاجز؟ (AR) \nWhat is the function of the diaphragm? (EN) \nQuelle est la fonction du diaphragme ? (FR)",
        hint: "يشارك في عملية التنفس (AR) \nIt is involved in the breathing process (EN) \nIl est impliqué dans le processus respiratoire (FR)",
        answer: "يساعد في توسيع القفص الصدري أثناء الشهيق (AR) <br> Helps expand the rib cage during inhalation (EN) <br> Aide à l'expansion de la cage thoracique pendant l'inhalation (FR)",
        image: "diaphragm.jpg",
        isHtml: true
    },
    {
    question: "خمن البيانات (AR)<br>🔹 Guess the data (EN)<br>🔹 Devinez les données (FR)",
    hint: "🔍 لا يوجد تلميح (AR)<br>🔍 No hint available (EN)<br>🔍 Aucun indice disponible (FR)",
    answer: `
    <ul style="
        padding-right: 20px;
        text-align: right;
        direction: rtl;
        list-style: none;
        line-height: 1.8; /* تحسين تباعد الأسطر */
        font-size: 18px; /* تحسين حجم النص */
    ">
        <li>1️⃣ <b>الغشاء البلوري الحشوي (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Visceral pleura  <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Plèvre viscérale
        </li>

        <li>2️⃣ <b>الغشاء البلوري الجداري (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Parietal pleura  <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Plèvre pariétale
        </li>

        <li>3️⃣ <b>التجويف البلوري (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Pleural cavity  <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Cavité pleurale
        </li>

        <li>4️⃣ <b>الطبقة تحت البلورية (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Subpleural layer  <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Couche sous-pleurale
        </li>

        <li>5️⃣ <b>الرئة (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Lung  <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Poumon
        </li>
    </ul>
    `,
    image: "2MEDU1HISTOLOGIE/AA3.jpg",
    isHtml: true
},





{
    question: "خمن البيانات (AR)<br>🔹 Guess the data (EN)<br>🔹 Devinez les données (FR)",
    hint: "🔍 لا يوجد تلميح (AR)<br>🔍 No hint available (EN)<br>🔍 Aucun indice disponible (FR)",
    answer: `
    <ul style="
        padding-right: 20px;
        text-align: right;
        direction: rtl;
        list-style: none;
        line-height: 1.8; /* تحسين تباعد الأسطر */
        font-size: 18px; /* تحسين حجم النص */
    ">
        <li>1️⃣ <b>القفص الصدري (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Gril costal <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Gril costal
        </li>

        <li>2️⃣ <b>اللفافة داخل الصدرية (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Endothoracic fascia <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Fascia endothoracique
        </li>

        <li>3️⃣ <b>الطبقة تحت الجنبية (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Subpleural layer <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Couche sous-pleurale
        </li>

        <li>4️⃣ <b>النسيج الليفي المرن السطحي (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Superficial fibro-elastic layer <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Plan fibro-élastique superficiel
        </li>

        <li>5️⃣ <b>الطبقة تحت المتوسطة (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Sub-mesothelial layer <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Couche sous-mésothéliale
        </li>

        <li>6️⃣ <b>الظهارة المتوسطة (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Mesothelium <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Mésothélium
        </li>

        <li>🔹 <b>غشاء الجنب الجداري (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Parietal pleura <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Plèvre pariétale
        </li>

        <li>🔹 <b>التجويف البلوري (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Pleural cavity <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Cavité pleurale
        </li>

        <li>🔹 <b>غشاء الجنب الحشوي (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Visceral pleura <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Plèvre viscérale
        </li>

        <li>1️⃣3️⃣ <b>الأوعية الدموية واللمفاوية (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Blood and lymphatic vessels <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Vaisseaux sanguins et lymphatiques
        </li>

        <li>1️⃣4️⃣ <b>الحاجز بين الفصوص (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Interlobular septum <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Cloison interlobulaire
        </li>

        <li>🅰 <b>غشاء الجنب الجداري (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Parietal pleura <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Plèvre pariétale
        </li>

        <li>🅱 <b>غشاء الجنب الحشوي (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Visceral pleura <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Plèvre viscérale
        </li>

        <li>🅲 <b>التجويف البلوري (AR)</b><br>
            🔹 <span style="color: #FFD700;">(EN)</span> Pleural cavity <br>
            🔹 <span style="color: #FFD700;">(FR)</span> Cavité pleurale
        </li>
    </ul>
    `,
    image: "2MEDU1HISTOLOGIE/AA4.jpg",
    isHtml: true
}




];



        let currentIndex = 0;
        let flipped = false;
        function updateCard() {
    const card = flashcards[currentIndex];

    document.getElementById("question").innerHTML = card.question;
    document.getElementById("hint").innerHTML = "🔍 تلميح: " + card.hint;
    document.getElementById("hint").style.display = "none";

    // ضبط عرض الإجابة مع الاتجاه الصحيح والترقيم
    document.getElementById("answer").innerHTML = card.answer;

    document.getElementById("cardImageFront").src = card.image;
    document.getElementById("cardImageBack").src = card.image;
    document.getElementById("cardNumber").textContent = `${currentIndex + 1} / ${flashcards.length}`;
}



        function flipCard(event) {
            event.stopPropagation();
            flipped = !flipped;
            document.getElementById("flashcard").classList.toggle("flipped", flipped);
        }

        function showHint() {
            document.getElementById("hint").style.display = "block";
        }

        function shuffleCards() {
            flashcards.sort(() => Math.random() - 0.5);
            currentIndex = 0;
            flipped = false;
            document.getElementById("flashcard").classList.remove("flipped");
            updateCard();
        }

        function nextCard() {
            if (currentIndex < flashcards.length - 1) {
                currentIndex++;
            } else {
                currentIndex = 0;
            }
            flipped = false;
            document.getElementById("flashcard").classList.remove("flipped");
            updateCard();
        }

        function prevCard() {
            if (currentIndex > 0) {
                currentIndex--;
            } else {
                currentIndex = flashcards.length - 1;
            }
            flipped = false;
            document.getElementById("flashcard").classList.remove("flipped");
            updateCard();
        }

        updateCard();











    


    </script>
</body>
</html>





















































<br><br><br>



<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>القلم الناطق</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&family=Amiri:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', 'Amiri', serif;
            background-color: #121212;
            color: white;
            text-align: center;
            margin: 0;
            padding: 20px;
        }

        .notification {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: #008cff;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            font-size: 18px;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.5s, transform 0.5s;
            display: none;
        }

        .show-notification {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }

        .floating-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #ffcc00;
            color: black;
            font-size: 20px;
            padding: 12px;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            transition: background 0.3s, transform 0.2s;
            z-index: 9999;
        }

        .floating-btn:hover {
            background-color: #ffdb4d;
            transform: scale(1.1);
        }

        .speed-control {
            margin-top: 15px;
        }

        input[type="range"] {
            width: 50%;
            accent-color: #ffcc00;
        }
    </style>
</head>
<body>

    <h1>حدد أي نص لسماعه! 🎧</h1>
    <p>هذه جملة باللغة العربية.</p>
    <p>This is a sentence in English.</p>
    <p>Ceci est une phrase en français.</p>

    <div>
        <label>🔹 اختر جنس الصوت:</label>
        <select id="voiceGender">
            <option value="male">ذكر</option>
            <option value="female">أنثى</option>
        </select>
    </div>

    <div class="speed-control">
        <label for="speedRange">🔊 سرعة الصوت:</label>
        <input type="range" id="speedRange" min="0.5" max="2" step="0.1" value="1">
    </div>

    <button class="floating-btn" onclick="toggleSpeech()">⚡</button>

    <div id="notification" class="notification"></div>

    <script>
        let speechSynthesisInstance = window.speechSynthesis;
        let isSpeechEnabled = false;
        let currentUtterance = null;
        let voices = [];
        let speechRate = 1; 
        let userGender = "male"; 

        function showNotification(message) {
            let notification = document.getElementById("notification");
            notification.textContent = message;
            notification.classList.add("show-notification");

            setTimeout(() => {
                notification.classList.remove("show-notification");
            }, 2000);
        }

        function toggleSpeech() {
            isSpeechEnabled = !isSpeechEnabled;
            showNotification(isSpeechEnabled ? "✅ تم تفعيل القلم الناطق!" : "⛔ تم إيقاف القلم الناطق!");
        }

        document.addEventListener('mouseup', function () {
            if (!isSpeechEnabled) return;

            let selectedText = window.getSelection().toString().trim();
            if (selectedText.length > 0) {
                speakText(selectedText);
            }
        });

        function speakText(text) {
            stopSpeech();

            let utterance = new SpeechSynthesisUtterance(text);
            let lang = detectLanguage(text);
            utterance.lang = lang;
            utterance.voice = getBestVoice(lang);
            utterance.rate = speechRate;
            utterance.volume = 1.0;

            currentUtterance = utterance;
            speechSynthesisInstance.speak(utterance);
        }

        function detectLanguage(text) {
            if (/[\u0600-\u06FF]/.test(text)) return "ar-SA"; 
            if (/[a-zA-Z]/.test(text)) return "en-US"; 
            return "fr-FR"; 
        }

        function getBestVoice() {
    voices = speechSynthesis.getVoices();
    
    let maleVoice = voices.find(voice => voice.lang.startsWith("ar") && voice.name.toLowerCase().includes("m"));
    let femaleVoice = voices.find(voice => voice.lang.startsWith("ar") && voice.name.toLowerCase().includes("f"));

    if (userGender === "male" && maleVoice) {
        return maleVoice;
    } else if (userGender === "female" && femaleVoice) {
        return femaleVoice;
    }

    // إذا لم يتم العثور على صوت مناسب، استخدم أي صوت عربي متاح
    return voices.find(voice => voice.lang.startsWith("ar")) || voices[0];
}

        function transliterateToEnglish(langCode, availableVoices) {
            let transliterationMap = {
                "ar": {
                    "أ": "A", "ب": "B", "ت": "T", "ث": "TH", "ج": "J", "ح": "H", "خ": "KH",
                    "د": "D", "ذ": "DH", "ر": "R", "ز": "Z", "س": "S", "ش": "SH", "ص": "S",
                    "ض": "D", "ط": "T", "ظ": "Z", "ع": "A", "غ": "GH", "ف": "F", "ق": "Q",
                    "ك": "K", "ل": "L", "م": "M", "ن": "N", "ه": "H", "و": "W", "ي": "Y"
                }
            };

            let text = window.getSelection().toString();
            let transliteratedText = text.split("").map(char => transliterationMap[langCode][char] || char).join("");

            let utterance = new SpeechSynthesisUtterance(transliteratedText);
            utterance.lang = "en-US";
            utterance.voice = availableVoices.find(voice => voice.lang.startsWith("en")) || availableVoices[0];
            speechSynthesisInstance.speak(utterance);
        }

        function stopSpeech() {
            if (speechSynthesisInstance.speaking) {
                speechSynthesisInstance.cancel();
            }
            currentUtterance = null;
        }

        document.getElementById("speedRange").addEventListener("input", function () {
            speechRate = this.value;
        });

        document.getElementById("voiceGender").addEventListener("change", function () {
            userGender = this.value;
        });

        window.onload = function() {
            speechSynthesis.onvoiceschanged = function() {
                voices = speechSynthesis.getVoices();
            };
        };
    </script>

</body>
</html>