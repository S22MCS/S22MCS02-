<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تحليل أسئلة الكيمياء الحيوية  </title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    
    <style>
        :root {
            --primary-color: #2c7be5;
            --secondary-color: #6c757d;
            --bg-color: #f8f9fa;
            --card-bg-color: #ffffff;
            --font-color: #12263f;
            --border-color: #e3ebf6;
            --highlight-color: #ff6b6b;
        }
        
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: var(--bg-color);
            color: var(--font-color);
            margin: 0;
            padding: 10px;
            line-height: 1.6;
            font-size: 15px;
        }
        
        .container {
            max-width: 100%;
            margin: auto;
            padding: 0 5px;
        }
        
        h1 {
            color: var(--primary-color);
            text-align: center;
            font-size: 1.6rem;
            margin: 15px 0;
            font-weight: 700;
        }
        
        h2 {
            color: var(--font-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 8px;
            margin-top: 25px;
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        h3 {
            text-align: center;
            color: var(--secondary-color);
            font-size: 1.1rem;
            margin: 15px 0;
            font-weight: 500;
        }

        .card {
            background-color: var(--card-bg-color);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
        }
        
        .intro-card {
            background-color: #f0f7ff;
            border-left: 4px solid var(--primary-color);
        }
        
        .intro-card p {
            font-size: 0.95rem;
            line-height: 1.7;
            margin: 0;
            color: #3a4e6b;
        }
        
        .intro-card strong {
            color: var(--primary-color);
            font-weight: 700;
        }
        
        .table-wrapper {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            margin: 0 -5px;
            padding: 0 5px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
            min-width: 700px;
        }
        
        th, td {
            border: 1px solid var(--border-color);
            padding: 8px 10px;
            text-align: center;
        }
        
        thead th {
            background-color: var(--primary-color);
            color: white;
            font-size: 13px;
            position: sticky;
            top: 0;
            font-weight: 500;
        }
        
        tbody tr:nth-of-type(odd) {
            background-color: #f9fbfe;
        }

        tbody tr:hover {
            background-color: #f0f5ff;
        }
        
        tfoot td {
            font-weight: bold;
            font-size: 14px;
            background-color: #e9f2ff;
        }
        
        td:first-child, th:first-child {
            text-align: right;
            font-weight: 600;
            background-color: #f5f9ff;
            position: sticky;
            right: 0;
            left: auto;
            border-left: 2px solid var(--primary-color);
            white-space: normal;
            min-width: 120px;
        }
        
        thead th:first-child {
            z-index: 3;
            background-color: var(--primary-color);
        }

        .charts-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        .chart-container {
            position: relative;
            height: 280px;
            width: 100%;
        }
        
        .highlight {
            color: var(--highlight-color);
            font-weight: 700;
        }
        
        .summary-card {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
        }
        
        .summary-item {
            background: #f0f5ff;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 13px;
            font-weight: 500;
            color: var(--primary-color);
            flex: 1 1 120px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .summary-item span {
            display: block;
            font-weight: 700;
            font-size: 16px;
            color: var(--font-color);
        }
        
        @media (min-width: 768px) {
            body {
                font-size: 16px;
                padding: 15px;
            }
            
            .container {
                max-width: 750px;
            }
            
            h1 {
                font-size: 1.8rem;
                margin: 20px 0;
            }
            
            h2 {
                font-size: 1.5rem;
                margin-top: 35px;
            }
            
            .card {
                padding: 20px;
                border-radius: 14px;
            }
            
            .intro-card p {
                font-size: 1.05rem;
            }
            
            .chart-container {
                height: 320px;
            }
            
            table {
                font-size: 14px;
            }
            
            th, td {
                padding: 10px 12px;
            }
        }
        
        @media (min-width: 992px) {
            .container {
                max-width: 970px;
            }
            
            .charts-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .chart-container {
                height: 350px;
            }
        }
        
        @media (min-width: 1200px) {
            .container {
                max-width: 1140px;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>تحليل أسئلة الكيمياء الحيوية (البيوشيمي) للسداسي الثاني من طرف اداة علم </h1>

        <div class="card intro-card">
            <p>
                هذا التحليل الإحصائي يستند على مجموعة من أسئلة الامتحانات (QCM) السابقة الموجهة لطلبة <strong>السنة الأولى بكلية الطب - عنابة</strong>.
                البيانات المجمعة تغطي عدة سنوات وصولًا إلى <strong>امتحانات سنة 2022</strong>، وتهدف إلى توضيح أهم الدروس والمحاور التي يتم التركيز عليها بشكل متكرر في مقياس <strong>الكيمياء الحيوية (Biochimie)</strong>.
            </p>
        </div>

        <div class="summary-card">
            <div class="summary-item">
                إجمالي الأسئلة<br>
                <span>269</span>
            </div>
            <div class="summary-item">
                عدد السنوات<br>
                <span>11</span>
            </div>
            <div class="summary-item">
                أكثر درس تكرراً<br>
                <span>Bioénergétique</span>
            </div>
            <div class="summary-item">
                سنة الأكثر أسئلة<br>
                <span>2021 (40)</span>
            </div>
        </div>

        <div class="card">
            <h2>الجدول الإحصائي التفصيلي</h2>
            <p style="text-align: center; color: var(--secondary-color); margin-bottom: 15px; font-size: 14px;">
                يمكن التمرير أفقيًا لمشاهدة البيانات كاملة
            </p>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>الدرس</th>
                            <th>2022</th><th>2021</th><th>2020</th><th>2019</th><th>2018</th><th>2017</th><th>2016</th><th>2015</th><th>2014</th><th>2013</th><th>2012</th><th>الإجمالي</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Concept de Bioénergétique</td><td>3</td><td>3</td><td>5</td><td>7</td><td>12</td><td>3</td><td>3</td><td>2</td><td>1</td><td>4</td><td>4</td><td><b>47</b></td></tr>
                        <tr><td>Les Peptides</td><td>3</td><td>6</td><td>3</td><td>5</td><td>6</td><td>4</td><td>5</td><td>4</td><td>0</td><td>0</td><td>0</td><td><b>36</b></td></tr>
                        <tr><td>Métabolisme des Lipoprotéines</td><td>2</td><td>7</td><td>7</td><td>5</td><td>3</td><td>0</td><td>5</td><td>1</td><td>0</td><td>0</td><td>0</td><td><b>30</b></td></tr>
                        <tr><td>Structure des bases Puriques et Pyrimidiques</td><td>1</td><td>4</td><td>1</td><td>5</td><td>4</td><td>1</td><td>5</td><td>4</td><td>3</td><td>0</td><td>0</td><td><b>28</b></td></tr>
                        <tr><td>Les protéines</td><td>2</td><td>3</td><td>2</td><td>2</td><td>2</td><td>4</td><td>3</td><td>3</td><td>7</td><td>0</td><td>0</td><td><b>28</b></td></tr>
                        <tr><td>Métabolisme des Acides Aminés</td><td>1</td><td>0</td><td>1</td><td>10</td><td>2</td><td>1</td><td>3</td><td>3</td><td>0</td><td>0</td><td>0</td><td><b>21</b></td></tr>
                        <tr><td>Structure de l'ADN</td><td>3</td><td>1</td><td>0</td><td>0</td><td>1</td><td>4</td><td>3</td><td>3</td><td>4</td><td>0</td><td>0</td><td><b>19</b></td></tr>
                        <tr><td>Structure des Enzymes</td><td>2</td><td>6</td><td>4</td><td>0</td><td>2</td><td>1</td><td>1</td><td>2</td><td>0</td><td>0</td><td>0</td><td><b>18</b></td></tr>
                        <tr><td>Carrefour Métabolique</td><td>3</td><td>3</td><td>3</td><td>1</td><td>1</td><td>3</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td><b>14</b></td></tr>
                        <tr><td>Cinétique Enzymatique</td><td>1</td><td>0</td><td>0</td><td>2</td><td>3</td><td>2</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td><b>10</b></td></tr>
                        <tr><td>Enzymes Allostériques</td><td>1</td><td>3</td><td>1</td><td>0</td><td>1</td><td>2</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td><b>9</b></td></tr>
                        <tr><td>Vitamines et Coenzymes</td><td>1</td><td>4</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td><b>5</b></td></tr>
                        <tr><td>Structure de l'ARN</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>2</td><td>0</td><td>0</td><td>0</td><td>0</td><td><b>3</b></td></tr>
                    </tbody>
                    <tfoot>
                        <tr><td>الإجمالي السنوي</td><td>23</td><td>40</td><td>28</td><td>37</td><td>38</td><td>25</td><td>31</td><td>24</td><td>15</td><td>4</td><td>4</td><td><b>269</b></td></tr>
                    </tfoot>
                </table>
            </div>
        </div>
        
        <div class="card">
            <h2>الرسوم البيانية: إجمالي الأسئلة لكل درس</h2>
            <div class="charts-grid">
                <div>
                    <h3>أهم الدروس حسب عدد الأسئلة</h3>
                    <div class="chart-container">
                        <canvas id="totalQuestionsColumnChart"></canvas>
                    </div>
                </div>
                <div>
                    <h3>التوزيع النسبي للدروس</h3>
                    <div class="chart-container">
                        <canvas id="totalQuestionsPieChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>تطور عدد الأسئلة عبر السنوات</h2>
            <div class="chart-container">
                <canvas id="questionsByYearChart"></canvas>
            </div>
        </div>
        
        <div class="card" style="text-align: center; background-color: #f8fafd; border-left: 4px solid var(--primary-color);">
            <p style="margin: 0; font-size: 14px; color: var(--secondary-color);">
                تحليل إحصائي لأسئلة الكيمياء الحيوية - كلية الطب عنابة<br>
                آخر تحديث: 2022 | عدد الأسئلة المحللة: <span class="highlight">269 سؤال</span>
            </p>
        </div>
    </div>

<script>
    // Set default font for all charts
    Chart.defaults.font.family = "'Tajawal', sans-serif";
    Chart.defaults.color = '#6e84a3';
    Chart.defaults.borderColor = 'rgba(228, 234, 244, 0.7)';

    const lessons = [
        'Concept de Bioénergétique', 
        'Les Peptides', 
        'Métabolisme des Lipoprotéines', 
        'Structure des bases Puriques et Pyrimidiques', 
        'Les protéines', 
        'Métabolisme des Acides Aminés', 
        'Structure de l\'ADN', 
        'Structure des Enzymes', 
        'Carrefour Métabolique', 
        'Cinétique Enzymatique', 
        'Enzymes Allostériques', 
        'Vitamines et Coenzymes', 
        'Structure de l\'ARN'
    ];
    
    const totals = [47, 36, 30, 28, 28, 21, 19, 18, 14, 10, 9, 5, 3];
    const years = ['2022', '2021', '2020', '2019', '2018', '2017', '2016', '2015', '2014', '2013', '2012'];
    const annualTotals = [23, 40, 28, 37, 38, 25, 31, 24, 15, 4, 4];

    const chartColors = [
        '#2c7be5', '#00d97e', '#f6c343', '#e63757', '#8bc8f6', '#02a8b5', '#798bff', 
        '#f59762', '#80e6c1', '#a78df5', '#d679e6', '#ff8a8a', '#a5a5a5'
    ];
    
    // Column Chart
    const ctxColumn = document.getElementById('totalQuestionsColumnChart').getContext('2d');
    new Chart(ctxColumn, {
        type: 'bar',
        data: {
            labels: lessons,
            datasets: [{
                label: 'إجمالي عدد الأسئلة',
                data: totals,
                backgroundColor: chartColors,
                borderColor: '#fff',
                borderWidth: 1,
                borderRadius: 6,
                hoverBackgroundColor: '#1c6cdc',
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { 
                legend: { display: false },
                tooltip: {
                    backgroundColor: '#12263f',
                    titleFont: { weight: 'bold', size: 14 },
                    bodyFont: { size: 13 },
                    padding: 12,
                    cornerRadius: 8,
                    displayColors: false,
                    callbacks: {
                        title: function(context) {
                            return context[0].label;
                        },
                        label: function(context) {
                            return 'عدد الأسئلة: ' + context.raw;
                        }
                    }
                }
            },
            scales: {
                y: { 
                    beginAtZero: true, 
                    grid: { drawBorder: false },
                    ticks: { stepSize: 10 }
                },
                x: { 
                    grid: { display: false },
                    ticks: { 
                        display: false,
                        callback: function(value) {
                            return this.getLabelForValue(value).split(' ').slice(0, 2).join(' ');
                        }
                    }
                }
            }
        }
    });

    // Pie Chart
    const ctxPie = document.getElementById('totalQuestionsPieChart').getContext('2d');
    new Chart(ctxPie, {
        type: 'doughnut',
        data: {
            labels: lessons,
            datasets: [{
                data: totals,
                backgroundColor: chartColors,
                borderColor: '#fff',
                borderWidth: 2,
                hoverOffset: 10
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: '65%',
            plugins: {
                legend: { display: false },
                tooltip: {
                    backgroundColor: '#12263f',
                    titleFont: { weight: 'bold', size: 14 },
                    bodyFont: { size: 13 },
                    padding: 12,
                    cornerRadius: 8,
                    callbacks: {
                        label: function(context) {
                            const label = context.label || '';
                            const value = context.raw;
                            const total = context.chart.getDatasetMeta(0).total;
                            const percentage = ((value / total) * 100).toFixed(1);
                            return `${label}: ${value} سؤال (${percentage}%)`;
                        }
                    }
                }
            }
        }
    });

    // Line Chart for yearly totals
    const ctxYear = document.getElementById('questionsByYearChart').getContext('2d');
    new Chart(ctxYear, {
        type: 'line',
        data: {
            labels: years.slice().reverse(),
            datasets: [{
                label: 'إجمالي عدد الأسئلة',
                data: annualTotals.slice().reverse(),
                backgroundColor: 'rgba(44, 123, 229, 0.1)',
                borderColor: 'rgba(44, 123, 229, 1)',
                borderWidth: 3,
                pointBackgroundColor: '#fff',
                pointBorderColor: 'rgba(44, 123, 229, 1)',
                pointBorderWidth: 2,
                pointRadius: 5,
                pointHoverRadius: 7,
                fill: true,
                tension: 0.3
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { 
                legend: { display: false },
                tooltip: {
                    backgroundColor: '#12263f',
                    titleFont: { weight: 'bold', size: 14 },
                    bodyFont: { size: 13 },
                    padding: 12,
                    cornerRadius: 8,
                    displayColors: false,
                    callbacks: {
                        title: function(context) {
                            return 'سنة ' + context[0].label;
                        },
                        label: function(context) {
                            return 'عدد الأسئلة: ' + context.raw;
                        }
                    }
                }
            },
            scales: {
                y: { 
                    beginAtZero: true,
                    grid: { drawBorder: false },
                    ticks: { stepSize: 10 }
                },
                x: {
                    grid: { display: false }
                }
            }
        }
    });
</script>

</body>
</html>