<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>     </title>

    
    <!-- إضافة الفافيكون بصيغة JPG -->
    <link rel="icon" href="S22MCS PARTS/doctor.png" type="image/jpeg">


<style>
.LIKEWIKIIDAFA-tooltip {
    position: relative;
    display: inline-block;
    cursor: pointer;
    color: red;
    font-weight: bold;
    line-height: 1.5;
}

.LIKEWIKIIDAFA-content {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90vw;
    max-width: 650px;
    max-height: 85vh;
    background-color: #fff;
    padding: 20px;
    z-index: 999999;
    overflow-y: auto;
    direction: rtl;
    border-radius: 12px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
    border: 1px solid #e0e0e0;
    font-size: 1rem;
}

.LIKEWIKIIDAFA-content-inner {
    position: relative;
    height: auto;
    padding: 10px;
}

.LIKEWIKIIDAFA-content::-webkit-scrollbar {
    width: 8px;
}
.LIKEWIKIIDAFA-content::-webkit-scrollbar-thumb {
    background-color: #888;
    border-radius: 4px;
}
.LIKEWIKIIDAFA-content::-webkit-scrollbar-track {
    background: #f1f1f1;
}

.LIKEWIKIIDAFA-tooltip.active .LIKEWIKIIDAFA-content {
    display: block;
    animation: fadeInScale 0.3s ease;
}

.LIKEWIKIIDAFA-tooltip.active::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999998;
}

@keyframes fadeInScale {
    from { opacity: 0; transform: translate(-50%, -50%) scale(0.95); }
    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

.LIKEWIKIIDAFA-content img {
    max-width: 100%;
    height: auto;
    margin: 15px auto;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    display: block;
}

.LIKEWIKIIDAFA-close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: #f44336;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    transition: all 0.2s ease;
    z-index: 1000000;
    padding: 0;
    line-height: 1;
}

.LIKEWIKIIDAFA-close-btn:hover {
    background: #d32f2f;
    transform: scale(1.1);
}

.LIKEWIKIIDAFA-close-btn:active {
    transform: scale(0.95);
}

.language-section {
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid #eee;
}

.language-title {
    font-size: 1.1rem;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 15px;
    text-align: center;
    padding: 8px 12px;
    background-color: #f8f9fa;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.arabic-text {
    direction: rtl;
    text-align: right;
    font-size: 1rem;
    line-height: 1.6;
}

.english-text, .french-text {
    direction: ltr;
    text-align: left;
    font-size: 1rem;
    line-height: 1.6;
}

.language-flag {
    width: 22px;
    height: 16px;
    margin: 0 6px;
    vertical-align: middle;
    border-radius: 3px;
    box-shadow: 0 0 3px rgba(0, 0, 0, 0.1);
}

ul {
    padding-right: 20px;
    margin: 10px 0;
}

li {
    margin-bottom: 8px;
}

@media (max-width: 1024px) {
    .LIKEWIKIIDAFA-content {
        width: 92vw;
        padding: 18px;
    }
}

@media (max-width: 768px) {
    .LIKEWIKIIDAFA-content {
        width: 94vw;
        max-height: 90vh;
        padding: 16px;
        font-size: 0.95rem;
    }
    
    .language-title {
        font-size: 1rem;
        padding: 6px 10px;
    }
    
    .LIKEWIKIIDAFA-close-btn {
        width: 28px;
        height: 28px;
        font-size: 16px;
    }
    
    .language-flag {
        width: 20px;
        height: 14px;
    }
}

@media (max-width: 480px) {
    .LIKEWIKIIDAFA-content {
        width: 96vw;
        padding: 14px;
        max-height: 95vh;
        font-size: 0.9rem;
    }
    
    .language-title {
        font-size: 0.95rem;
        padding: 5px 8px;
    }
    
    .LIKEWIKIIDAFA-close-btn {
        width: 26px;
        height: 26px;
        font-size: 15px;
        top: 10px;
        right: 10px;
    }
    
    .language-flag {
        width: 18px;
        height: 12px;
    }
    
    ul {
        padding-right: 15px;
    }
    
    li {
        margin-bottom: 6px;
    }
}

@media (max-height: 600px) {
    .LIKEWIKIIDAFA-content {
        top: 20px;
        transform: translateX(-50%);
        max-height: calc(100vh - 40px);
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const LIKEWIKIIDAFA_tooltip = document.getElementById('LIKEWIKIIDAFA-tooltip');
    const LIKEWIKIIDAFA_closeBtn = document.querySelector('.LIKEWIKIIDAFA-close-btn');
    
    // فتح عند الضغط على النص
    LIKEWIKIIDAFA_tooltip.addEventListener('click', function(e) {
        e.stopPropagation();
        document.body.style.overflow = 'hidden';
        document.documentElement.style.overflow = 'hidden';
        LIKEWIKIIDAFA_tooltip.classList.add('active');
    });
    
    // إغلاق بالضغط على الزر X فقط
    LIKEWIKIIDAFA_closeBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        closeTooltip();
    });
    
    // إغلاق عند الضغط خارج النافذة
    document.addEventListener('click', function(e) {
        if (LIKEWIKIIDAFA_tooltip.classList.contains('active') && 
            !e.target.closest('.LIKEWIKIIDAFA-content') && 
            !e.target.closest('.LIKEWIKIIDAFA-tooltip')) {
            closeTooltip();
        }
    });
    
    // إغلاق بالضغط على زر ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && LIKEWIKIIDAFA_tooltip.classList.contains('active')) {
            closeTooltip();
        }
    });
    
    function closeTooltip() {
        document.body.style.overflow = '';
        document.documentElement.style.overflow = '';
        LIKEWIKIIDAFA_tooltip.classList.remove('active');
    }
    
    // منع التمرير عند فتح النافذة على الأجهزة المحمولة
    document.querySelector('.LIKEWIKIIDAFA-content').addEventListener('touchmove', function(e) {
        if (LIKEWIKIIDAFA_tooltip.classList.contains('active')) {
            e.preventDefault();
        }
    }, { passive: false });
});
</script>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أداة حماية العين</title>
    <style>
        /* تحسينات عامة */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* إعدادات الصفحة الأساسية */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #edf2f7;
            color: #333;
            transition: all 0.5s ease;
        }
    
        header, main {
            padding: 20px;
            text-align: center;
        }
    
        header h1 {
            font-size: 2rem;
            color: #444;
            margin-bottom: 20px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            animation: fadeIn 1.2s ease-in-out;
        }
    
        main h2 {
            font-size: 1.5rem;
            color: #555;
            margin-bottom: 10px;
        }
    
        main p {
            font-size: 1rem;
            line-height: 1.6;
            color: #666;
        }
    
        /* الحاوية */
        #controlPanel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(145deg, #e0e5ec, #ffffff);
            border-radius: 50px;
            box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.1), -10px -10px 20px rgba(255, 255, 255, 0.7);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            width: 60px;
            height: 60px;
            overflow: hidden;
            transition: all 0.4s ease, box-shadow 0.3s ease-in-out;
        }
    
        #controlPanel.expanded {
            width: auto; /* ستتحدد بناءً على المحتوى والاستعلامات أدناه */
            min-width: 280px; /* حد أدنى لعرض اللوحة الموسعة */
            height: auto;
            max-height: 75vh; /* حد أقصى لارتفاع اللوحة على شاشات الهاتف */
            overflow-y: auto; /* إضافة تمرير إذا تجاوز المحتوى الارتفاع الأقصى */
            border-radius: 20px;
            padding-bottom: 10px; /* إضافة حشو سفلي للوحة الموسعة */
            box-shadow: 20px 20px 40px rgba(0, 0, 0, 0.15), -20px -20px 40px rgba(255, 255, 255, 0.9);
        }
    
        /* الزر */
        #toggleButton {
            width: 60px;
            height: 60px;
            background: radial-gradient(circle at 30% 30%, #4caf50, #388e3c);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 28px;
            cursor: pointer;
            display: flex;
            flex-shrink: 0; /* منع الزر من الانكماش */
            justify-content: center;
            align-items: center;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.2), 
                        5px 5px 10px rgba(0,0,0,0.2), 
                        -5px -5px 10px rgba(255,255,255,0.5);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
    
        #toggleButton:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: inset 0 0 20px rgba(0,0,0,0.3), 
                        8px 8px 20px rgba(0,0,0,0.2), 
                        -8px -8px 20px rgba(255,255,255,0.5);
            background: radial-gradient(circle at 30% 30%, #43a047, #2e7d32);
        }
    
        #emoji {
            font-size: 32px;
            line-height: 1;
            animation: bounce 2s infinite ease-in-out;
        }
    
        #toggleText {
            font-size: 14px;
            color: white;
            position: absolute;
            bottom: -20px;
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
    
        #toggleButton:hover #toggleText {
            opacity: 1;
            transform: translateY(-5px);
        }
    
        /* شريط التمرير */
        .slider-container {
            width: 90%;
            max-width: 280px; /* حد أقصى لعرض حاوية الشريط */
            margin: 10px auto; /* توسيط وتعديل الهامش */
            position: relative;
        }
        
        .color-spectrum {
            width: 100%;
            height: 20px;
            border-radius: 10px;
            background: linear-gradient(to right, 
                #ff9a3c, /* 1700K */
                #ffb347, /* 2000K */
                #ffcc6a, /* 2300K */
                #ffe08c, /* 2700K */
                #f5f5f5  /* أبيض محايد (للتوضيح، القيمة الفعلية للفلتر قد تختلف) */
            );
            margin-bottom: 5px;
            box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        #colorTempSlider {
            width: 100%;
            appearance: none;
            -webkit-appearance: none; /* لمتصفحات WebKit */
            height: 12px;
            background: transparent; /* جعل مسار الشريط شفافًا */
            border-radius: 6px;
            outline: none;
            cursor: pointer;
            position: absolute;
            top: 4px; /* تعديل ليتمركز فوق color-spectrum */
            left: 0;
        }
    
        #colorTempSlider::-webkit-slider-thumb {
            appearance: none;
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            background: var(--thumb-color, radial-gradient(circle, #4caf50, #388e3c)); /* استخدام متغير CSS */
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), -2px -2px 4px rgba(255, 255, 255, 0.5);
            transition: transform 0.2s ease-in-out, background 0.3s ease;
        }
         #colorTempSlider::-moz-range-thumb { /* لمتصفح Firefox */
            width: 22px;
            height: 22px;
            background: var(--thumb-color, radial-gradient(circle, #4caf50, #388e3c));
            border-radius: 50%;
            cursor: pointer;
            border: none; /* إزالة الحدود الافتراضية في Firefox */
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), -2px -2px 4px rgba(255, 255, 255, 0.5);
            transition: transform 0.2s ease-in-out, background 0.3s ease;
        }
    
        #colorTempSlider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }
        #colorTempSlider::-moz-range-thumb:hover {
            transform: scale(1.2);
        }
    
        .temp-labels {
            display: flex;
            justify-content: space-between;
            width: 100%;
            font-size: 11px;
            color: #555;
            margin-top: 25px; /* ليكون أسفل شريط التمرير والطيف */
        }
    
        .small-slider {
            width: 80px;
            height: 8px;
        }
    
        #label {
            font-size: 14px;
            font-weight: bold;
            color: #333;
            display: none;
            text-align: center;
            margin-top: 5px; /* هامش علوي بسيط */
            animation: fadeIn 0.8s ease-in-out;
        }
    
        .expanded #label {
            display: block;
        }
    
        /* خيارات إضافية */
        .options {
            display: none;
            width: 100%;
            padding: 0 15px 10px; /* تقليل الحشو السفلي قليلاً */
            flex-direction: column;
            gap: 12px; /* زيادة طفيفة في الفجوة لتحسين اللمس */
        }
    
        .expanded .options {
            display: flex;
        }
    
        .option-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    
        .option-label {
            font-size: 13px;
            color: #555;
        }
    
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
            flex-shrink: 0; /* منع الانكماش */
        }
    
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
    
        .slider { /* هذا اسم الكلاس لمحول التبديل، وليس شريط التمرير الرئيسي */
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
    
        .slider:before {
            position: absolute;
            content: "";
            height: 18px; /* زيادة طفيفة لحجم المقبض */
            width: 18px;  /* زيادة طفيفة لحجم المقبض */
            left: 3px;    /* تعديل الموقع ليتناسب مع الحجم الجديد */
            bottom: 3px;  /* تعديل الموقع ليتناسب مع الحجم الجديد */
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
    
        input:checked + .slider {
            background-color: #4CAF50;
        }
    
        input:checked + .slider:before {
            transform: translateX(26px);
        }
    
        /* معلومات علمية */
        .science-info {
            display: none;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 10px;
            margin: 10px 15px;
            font-size: 12px;
            color: #555;
            border-right: 3px solid #4CAF50;
        }
    
        .expanded .science-info {
            display: block;
            animation: fadeIn 0.8s ease-in-out;
        }
    
        .science-title {
            font-weight: bold;
            color: #388e3c;
            margin-bottom: 5px;
        }
    
        /* الإشعارات */
        .notification {
            position: fixed;
            bottom: 100px; /* تعديل الموضع ليكون أعلى من اللوحة في حالة توسعها */
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 12px 20px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            animation: slideIn 0.5s ease-out;
            z-index: 1001;
        }
    
        .fade-out {
            animation: fadeOut 0.5s ease-out forwards;
        }

        /* فواصل للموبايل (تم نقلها من داخل body) */
        .mobile-breaks {
          display: none;
        }
    
        /* الرسوم المتحركة */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); } /* تقليل مقدار الارتداد */
        }
        @keyframes slideIn {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
    
        /* تحسين التوافق مع الهواتف */
        @media (max-width: 768px) {
            header h1 { font-size: 1.8rem; }
            main h2 { font-size: 1.3rem; }

            #controlPanel {
                bottom: 10px;
                right: 10px;
                gap: 8px; /* تقليل الفجوة قليلاً */
            }
            #controlPanel.expanded {
                width: 300px; /* عرض ثابت للتابلت والهواتف الكبيرة نسبياً */
                padding-bottom: 15px;
            }
            #toggleButton {
                width: 50px;
                height: 50px;
                font-size: 24px;
            }
            #emoji { font-size: 28px; }
            .notification {
                bottom: 80px; /* تعديل المسافة من الأسفل للوحة التحكم الأصغر */
                right: 10px;
                padding: 10px 15px;
            }
            .mobile-breaks {
                display: block;
                height: 1.5em; /* تقليل الارتفاع قليلاً */
            }
            .temp-labels span { font-size: 10px; }
            #label { font-size: 0.875rem; } /* 14px */
           .option-label { font-size: 0.8125rem; } /* 13px */
        }
    
        @media (max-width: 480px) {
            header h1 { font-size: 1.6rem; }
            main h2 { font-size: 1.2rem; }
            main p { font-size: 0.9rem; }

            #controlPanel.expanded {
                width: 90%; /* استخدام نسبة مئوية للشاشات الصغيرة جداً */
                right: 5%;
                bottom: 10px;
                gap: 5px; /* تقليل إضافي للفجوة */
                padding-bottom: 10px;
            }
            .options {
                padding: 0 10px 10px;
                gap: 10px;
            }
            .slider-container {
                margin: 5px auto;
            }
            .temp-labels {
                flex-wrap: wrap; /* السماح بالالتفاف إذا ضاقت المساحة */
                justify-content: center; /* توسيط العناصر عند الالتفاف */
                gap: 5px; /* فجوة بين العناصر الملتفة */
            }
            .temp-labels span { font-size: 0.7rem; } /* تصغير إضافي */
            #label { font-size: 0.8rem; } 
            .option-label { font-size: 0.75rem; } /* 12px */
            .science-info {
                font-size: 11px;
                margin: 5px 10px;
                padding: 8px;
            }
        }
        @media (max-width: 360px) {
             header h1 { font-size: 1.5rem; }
            .option-row {
                flex-direction: column; /* جعل الخيارات تحت بعضها */
                align-items: flex-start;
                gap: 5px; /* فجوة بين الملصق والمفتاح */
            }
            .option-row .switch {
                margin-top: 3px; /* هامش بسيط للمفتاح */
            }
            #controlPanel.expanded {
                gap: 3px;
            }
        }

    </style>
</head>
<body>
    


    <div id="controlPanel">
        <button id="toggleButton">
            <span id="emoji">🌙</span>
            <span id="toggleText">تشغيل</span>
        </button>
        <label id="label" for="colorTempSlider">درجة حرارة اللون (1700K-2700K):</label>
        
        <div class="slider-container">
            <div class="color-spectrum"></div>
            <input type="range" id="colorTempSlider" min="1700" max="2700" step="100" value="2700">
            <div class="temp-labels">
                <span>1700K</span>
                <span>2000K</span>
                <span>2300K</span>
                <span>2700K</span>
            </div>
        </div>
        
        <div class="science-info">
            <div class="science-title">معلومات علمية:</div>
            <p>• درجات الحرارة المرتفعة (&gt;5000K) تسبب انتباه الأشخاص وزيادة التركيز.</p>
            <p>• درجات الحرارة المنخفضة (2700K-3000K) تشعر الأشخاص بالاسترخاء والنعاس.</p>
            <p>• الضوء الأزرق (380-550 نانومتر) يؤثر على الساعة البيولوجية.</p>
        </div>
        
        <div class="options">
            <div class="option-row">
                <span class="option-label">الوضع الليلي التلقائي</span>
                <label class="switch">
                    <input type="checkbox" id="autoNightMode">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="option-row">
                <span class="option-label">تقليل الوهج</span>
                <label class="switch">
                    <input type="checkbox" id="reduceGlare" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="option-row">
                <span class="option-label">تعتيم النص</span>
                <label class="switch">
                    <input type="checkbox" id="darkenText">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="option-row">
                <span class="option-label">ضبط السطوع</span>
                <input type="range" id="brightnessSlider" min="50" max="100" value="100" class="small-slider">
            </div>
            <div class="mobile-breaks"></div>
        </div>
    </div>

    <script>
        const controlPanel = document.getElementById('controlPanel');
        const toggleButton = document.getElementById('toggleButton');
        const emoji = document.getElementById('emoji');
        const toggleText = document.getElementById('toggleText');
        const colorTempSliderElement = document.getElementById('colorTempSlider'); // تم تغيير الاسم لتمييزه
        const autoNightMode = document.getElementById('autoNightMode');
        const reduceGlare = document.getElementById('reduceGlare');
        const darkenText = document.getElementById('darkenText');
        const brightnessSlider = document.getElementById('brightnessSlider');
    
        let isEyeProtectionEnabled = false;
        let autoNightModeInterval;
    
        // تحميل التفضيلات المحفوظة
        window.addEventListener('DOMContentLoaded', () => {
            const preferences = JSON.parse(localStorage.getItem('eyeProtectionPrefs')) || {};
            if (preferences.autoNightMode) autoNightMode.checked = true;
            if (preferences.reduceGlare === false) reduceGlare.checked = false; // معالجة القيمة false صراحة
            else reduceGlare.checked = true; // القيمة الافتراضية أو true
            if (preferences.darkenText) darkenText.checked = true;
            
            if (preferences.brightness) {
                brightnessSlider.value = preferences.brightness;
                document.body.style.opacity = preferences.brightness / 100;
            }
            if (preferences.colorTemp) colorTempSliderElement.value = preferences.colorTemp;

            // يجب تفعيل الحماية بعد تحميل الإعدادات المتعلقة بها
            if (preferences.enabled) {
                enableEyeProtection(); // يستدعي updateFilter و updateSliderColor
            } else {
                // إذا لم تكن مفعلة، لا يزال يجب تحديث لون المقبض بناءً على القيمة المحملة
                updateSliderColor(colorTempSliderElement.value);
            }
    
            // تحقق من وقت اليوم عند التحميل
            if (autoNightMode.checked) { // فقط إذا كان الوضع التلقائي محدداً
                checkTimeOfDay(); // هذا قد يفعل الحماية إذا كان الوقت ليلاً
                startAutoNightMode();
            }
        });
    
        toggleButton.addEventListener('click', () => {
            controlPanel.classList.toggle('expanded');
    
            if (isEyeProtectionEnabled) {
                disableEyeProtection();
            } else {
                enableEyeProtection();
                // لا تغلق اللوحة تلقائيًا إذا فتحها المستخدم يدويًا للتو
                // يمكن إبقاء هذا السلوك أو إزالته حسب الرغبة
                // setTimeout(() => {
                //     if (isEyeProtectionEnabled) { // فقط أغلق إذا كانت الحماية لا تزال مفعلة
                //        controlPanel.classList.remove('expanded');
                //     }
                // }, 7000); // زيادة الوقت قليلاً
            }
            savePreferences();
        });
    
        colorTempSliderElement.addEventListener('input', function() {
            updateFilter();
            updateSliderColor(this.value);
            savePreferences(); // حفظ عند تغيير شريط التمرير أيضًا
        });
        
        // تحديث لون مقبض شريط التمرير بناء على القيمة باستخدام متغير CSS
        function updateSliderColor(value) {
            const percent = (value - 1700) / (2700 - 1700); // النسبة من 0 إلى 1
            let newThumbColor = 'radial-gradient(circle, #4caf50, #388e3c)'; // لون افتراضي

            // الألوان تتدرج من البرتقالي (دافئ جداً) إلى الأصفر (دافئ)
            // 1700K هو الأكثر دفئًا (برتقالي), 2700K هو الأقل دفئًا في هذا النطاق (أصفر فاتح)
            if (percent < 0.33) { // الثلث الأول (الأكثر دفئًا)
                newThumbColor = 'radial-gradient(circle, #ff9a3c, #e07c2e)'; 
            } else if (percent < 0.66) { // الثلث الأوسط
                newThumbColor = 'radial-gradient(circle, #ffb347, #e0953a)'; 
            } else { // الثلث الأخير (الأقل دفئًا)
                newThumbColor = 'radial-gradient(circle, #ffe08c, #e0c87a)'; 
            }
            // تطبيق اللون على متغير CSS الذي يستخدمه مقبض شريط التمرير
            colorTempSliderElement.style.setProperty('--thumb-color', newThumbColor);
        }
        
        autoNightMode.addEventListener('change', function() {
            if (this.checked) {
                startAutoNightMode();
                 // لا حاجة لاستدعاء updateFilter هنا مباشرة، سيتم استدعاؤه من checkTimeOfDay إذا لزم الأمر
            } else {
                stopAutoNightMode();
                // إذا تم إلغاء الوضع التلقائي وكان ليلاً، قد نرغب في إبقاء الفلتر أو إزالته بناءً على حالة isEyeProtectionEnabled
            }
            savePreferences();
        });
    
        reduceGlare.addEventListener('change', function() {
            if (isEyeProtectionEnabled) {
                updateFilter();
            }
            savePreferences();
        });
    
        darkenText.addEventListener('change', function() {
            if (isEyeProtectionEnabled) {
                updateFilter();
            }
            savePreferences();
        });
    
        brightnessSlider.addEventListener('input', function() {
            document.body.style.opacity = this.value / 100;
            savePreferences();
        });
    
        function enableEyeProtection() {
            isEyeProtectionEnabled = true;
            emoji.textContent = '🛡️';
            toggleText.textContent = 'إيقاف';
            updateFilter();
            updateSliderColor(colorTempSliderElement.value); // تحديث لون المقبض عند التفعيل
            showNotification('تم تفعيل حماية العين');
            savePreferences(); // حفظ الحالة الجديدة
        }
    
        function disableEyeProtection() {
            isEyeProtectionEnabled = false;
            emoji.textContent = '🌙';
            toggleText.textContent = 'تشغيل';
            document.documentElement.style.filter = 'none';
            document.body.style.color = ''; // استعادة اللون الأصلي للنص
            // استعادة السطوع الافتراضي إذا لم يكن المستخدم قد ضبطه يدوياً
            // brightnessSlider.value = 100; // أو قيمة محفوظة مسبقًا
            // document.body.style.opacity = 1; 
            showNotification('تم إيقاف حماية العين');
            savePreferences(); // حفظ الحالة الجديدة
        }
    
        function updateFilter() {
            if (!isEyeProtectionEnabled) return;
    
            const temp = colorTempSliderElement.value;
            const warmth = (temp - 1700) / (2700 - 1700); // 0 (أكثر دفئًا) إلى 1 (أقل دفئًا)
            
            const sepiaValue = Math.min(1, 0.3 + 0.7 * (1 - warmth)); // زيادة تأثير السيبيا للألوان الدافئة
            const brightnessValue = 1 - 0.15 * (1 - warmth); // تقليل السطوع قليلاً مع الألوان الدافئة
            const contrastValue = reduceGlare.checked ? 1.05 : 1; // زيادة طفيفة للتباين عند تقليل الوهج
            const grayscaleValue = reduceGlare.checked ? 0.05 : 0; // مسحة رمادية خفيفة عند تقليل الوهج
            
            let filterString = `sepia(${sepiaValue}) brightness(${brightnessValue}) contrast(${contrastValue}) grayscale(${grayscaleValue})`;
            
            document.documentElement.style.filter = filterString;
            
            if (darkenText.checked) {
                // تعتيم النص بناءً على الدفء، النص يصبح أغمق مع الألوان الأكثر دفئًا
                document.body.style.color = `hsl(0, 0%, ${60 - ( (1-warmth) * 25)}%)`; 
            } else {
                document.body.style.color = ''; // استعادة اللون الافتراضي المحدد في CSS
            }
        }
    
        function checkTimeOfDay() {
            const hour = new Date().getHours();
            const isNightTime = hour >= 18 || hour <= 6; // من 6 مساءً حتى 6 صباحًا
            
            if (autoNightMode.checked) { // تحقق فقط إذا كان الوضع التلقائي نشطًا
                if (isNightTime) {
                    colorTempSliderElement.value = Math.max(1700, Math.min(colorTempSliderElement.value, 2000)); // ضبط لدرجة أكثر دفئًا ليلاً، لا تتجاوز 2000K
                    if (!isEyeProtectionEnabled) {
                        enableEyeProtection();
                        showNotification('تم تفعيل الوضع الليلي تلقائياً');
                    } else {
                        updateFilter(); // تحديث الفلتر إذا كان مفعلاً بالفعل
                    }
                } else { // وقت النهار
                    colorTempSliderElement.value = Math.min(2700, Math.max(colorTempSliderElement.value, 2400)); // درجة أقل دفئًا نهارًا، لا تقل عن 2400K
                    // يمكنك اختيارياً إيقاف الحماية تلقائيًا في النهار إذا كانت مفعلة بواسطة الوضع الليلي
                    // if (isEyeProtectionEnabled) {
                    //    disableEyeProtection();
                    //    showNotification('تم إيقاف الوضع الليلي تلقائياً (النهار)');
                    // }
                    if (isEyeProtectionEnabled) updateFilter();
                }
                updateSliderColor(colorTempSliderElement.value);
            }
        }
    
        function startAutoNightMode() {
            checkTimeOfDay(); // تحقق فورًا
            if (autoNightModeInterval) clearInterval(autoNightModeInterval); // مسح المؤقت القديم إذا وجد
            autoNightModeInterval = setInterval(checkTimeOfDay, 30 * 60 * 1000); // كل 30 دقيقة
        }
    
        function stopAutoNightMode() {
            clearInterval(autoNightModeInterval);
            autoNightModeInterval = null;
        }
    
        function showNotification(message) {
            // إزالة أي إشعار موجود أولاً
            const existingNotif = document.querySelector('.notification');
            if (existingNotif) existingNotif.remove();

            const notif = document.createElement('div');
            notif.className = 'notification';
            notif.textContent = message;
            document.body.appendChild(notif);
            
            setTimeout(() => {
                notif.classList.add('fade-out');
                setTimeout(() => notif.remove(), 500);
            }, 3000);
        }
    
        function savePreferences() {
            localStorage.setItem('eyeProtectionPrefs', JSON.stringify({
                autoNightMode: autoNightMode.checked,
                reduceGlare: reduceGlare.checked,
                darkenText: darkenText.checked,
                enabled: isEyeProtectionEnabled,
                brightness: brightnessSlider.value,
                colorTemp: colorTempSliderElement.value
            }));
        }
        
        // إغلاق اللوحة عند الضغط خارجها (باستثناء زر التبديل نفسه)
        document.addEventListener('click', function(event) {
            const isClickInsidePanel = controlPanel.contains(event.target);
            const isClickOnToggleButton = toggleButton.contains(event.target) || toggleButton === event.target;

            if (controlPanel.classList.contains('expanded') && !isClickInsidePanel && !isClickOnToggleButton) {
                controlPanel.classList.remove('expanded');
            }
        });

    </script>
</body>
</html>
  <style>
        body {
            font-family: 'Poppins', 'Amiri', serif;
            background-color: #121212;
            color: white;
            text-align: center;
            margin: 0;
            padding: 20px;



            text-align: center;
        }

        .popup {
            display: none;
            position: fixed;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e1e;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 150, 255, 0.6);
            text-align: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, top 0.3s ease-in-out;
        }

        .popup h3 {
            color: #00aaff;
            font-size: 22px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 10px;
        }

        .input-group input {
            width: 85%;
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #00aaff;
            text-align: center;
            font-size: 16px;
            background-color: #222;
            color: white;
            outline: none;
            transition: 0.3s;
        }

        .input-group input:focus {
            border-color: #007bff;
            box-shadow: 0 0 10px rgba(0, 150, 255, 0.5);
        }

        .gender-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .gender-buttons button {
            background: linear-gradient(90deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 8px;
            font-size: 16px;
            transition: background 0.3s ease, transform 0.2s ease-in-out;
        }

        .gender-buttons button:hover {
            background: linear-gradient(90deg, #0056b3, #003c80);
            transform: scale(1.05);
        }

        .gender-buttons button.selected {
            background: #FFD700;
            color: black;
            font-weight: bold;
        }

        .submit-button {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 25px;
            cursor: pointer;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 16px;
            transition: background 0.3s ease, transform 0.2s ease-in-out;
        }

        .submit-button:hover {
            background: #218838;
            transform: scale(1.05);
        }

        .fade-in {
            opacity: 1 !important;
            top: 50% !important;
        }

        #greeting {
            display: none;
            font-size: 24px;
            font-weight: bold;
            margin-top: 50px;
            text-shadow: 2px 2px 10px rgba(0, 150, 255, 0.5);
        }
#studyMessage {
    display: none;
    font-size: 18px;
    margin-top: 15px;
    color: #FFD700;
    font-weight: bold; /* ← تمت إضافتها */
    text-align: center;
}



    </style>
</head>
<body>

    <br>  <br>  
    <div id="welcomePopup" class="popup">
        <h3>  ! السلام عليكم و أهلاً يا طبيب/طبيبة مستقبلنا ان شاء الله  </h3>

        <p>من فضلك أدخل/ادخلي اسمك واختر/اختاري جنسك:</p>

    
        <div class="input-group">
            <input type="text" id="username" placeholder="أدخل اسمك">
        </div>
    
        <div class="gender-buttons">
            <button id="femaleButton" onclick="selectGender('female')"> امرأة</button>
            <button id="maleButton" onclick="selectGender('male')">  رجل</button>
           
        </div>
    
        <button class="submit-button" onclick="submitInfo()">متابعة</button>
    </div>
    
    <!-- يجب أن يكون خارج نافذة الإدخال حتى يظهر عند الضغط على متابعة -->
    <div id="greetingContainer" style="display: none; flex-direction: column; align-items: center; gap: 10px; margin-top: 70px;">
        <h2 id="welcomeMessage" style="color: #00aaff; text-align: center;"></h2>
        <img id="doctorImage" src="" alt="صورة الطبيب" style="width: 60px; height: 60px; border-radius: 50%;">
        <h1 id="greeting" style="margin: 0; font-size: 22px;"></h1>
    </div>
    <p id="studyMessage" style= " text-align: center; background-color: black;"></p>
    <BR>
<p id="nationMessage" style="color: #FFD700; font-weight: bold; font-size: 18px; text-align: center; background-color: black;"></p>
    
    <script>
        let selectedGender = "";
    
        document.addEventListener("DOMContentLoaded", function () {
            let storedName = localStorage.getItem("username");
            let storedGender = localStorage.getItem("gender");
            let visitCount = parseInt(localStorage.getItem("visitCount") || "0");
    
            visitCount += 1;
            localStorage.setItem("visitCount", visitCount);
    
            if (visitCount >= 3) {
                localStorage.removeItem("username");
                localStorage.removeItem("gender");
                localStorage.setItem("visitCount", "0");
                storedName = null;
            }
    
            if (storedName && storedGender) {
                displayGreeting(storedName, storedGender);
            } else {
                let popup = document.getElementById('welcomePopup');
                popup.style.display = 'block';
                setTimeout(() => popup.classList.add('fade-in'), 50);
            }
        });
    
        function selectGender(gender) {
            selectedGender = gender;
            document.getElementById("maleButton").classList.remove("selected");
            document.getElementById("femaleButton").classList.remove("selected");
    
            if (gender === "male") {
                document.getElementById("maleButton").classList.add("selected");
            } else {
                document.getElementById("femaleButton").classList.add("selected");
            }
        }
    


        function submitInfo() {
    let name = document.getElementById('username').value.trim();
    if (name === "") {
        alert("❌ يرجى إدخال اسمك");
        return;
    }
    if (!selectedGender) {
        alert("❌ يرجى اختيار الجنس");
        return;
    }

    console.log("🚀 إرسال الاسم:", name);
    console.log("🚀 إرسال الجنس:", selectedGender);

    localStorage.setItem("username", name);
    localStorage.setItem("gender", selectedGender);
    localStorage.setItem("visitCount", "0");

    displayGreeting(name, selectedGender);

    let popup = document.getElementById('welcomePopup');
    popup.classList.remove('fade-in');
    setTimeout(() => popup.style.display = 'none', 500);
}






function displayGreeting(name, gender) {
    console.log("✅ تم استلام الاسم:", name);
    console.log("✅ تم استلام الجنس:", gender);

    let welcomeMessage = `السلام عليكم ومرحبًا بك يا ${name}`;  
    
    
    let greetingMessage = gender === "male" 
        ? `مرحبًا دكتور ${name}!` 
        : `مرحبًا دكتورة ${name}!`;

    let studyMessage = gender === "male" 
        ? "ادرس جيدًا يا طبيب المسلمين إن شاء الله 📚" 
        : "ادرسِ جيدًا يا طبيبة المسلمات إن شاء الله 📚";

  
       
        

        let nationNeedsYou = 
    " يقول الله تعالى وبعد بسم الله الرحمان الرحيم :\n" +
    "  ﴿الَّذِينَ يَتَّخِذُونَ الْكَافِرِينَ أَوْلِيَاءَ مِن دُونِ الْمُؤْمِنِينَ ۚ أَيَبْتَغُونَ عِندَهُمُ الْعِزَّةَ فَإِنَّ الْعِزَّةَ لِلَّهِ جَمِيعًا ﴾\n" +
    "[النساء: 139]\n\n" +
    
    " يقول الله تعالى وبعد بسم الله الرحمان الرحيم :\n" +
    "﴿ لَهُ مُعَقِّبَاتٌ مِّن بَيْنِ يَدَيْهِ وَمِنْ خَلْفِهِ يَحْفَظُونَهُ مِنْ أَمْرِ اللَّهِ ۗ إِنَّ اللَّهَ لَا يُغَيِّرُ مَا بِقَوْمٍ حَتَّىٰ يُغَيِّرُوا مَا بِأَنفُسِهِمْ ۗ وَإِذَا أَرَادَ اللَّهُ بِقَوْمٍ سُوءًا فَلَا مَرَدَّ لَهُ ۚ وَمَا لَهُم مِّن دُونِهِ مِن وَالٍ ﴾\n" +
    "[الرعد: 11]\n\n" +

    "أمتكم بحاجة إليكم.. كونوا عونًا لها في سبيل الله، اجعلوا علمكم طريقًا لنهضة أمتكم.. أمتكم بحاجة إليكم.\n\n" +
    
    "فعن السلف الصالح عمر بن الخطاب رضي الله عنه قال:\n" +
    "\"إنَّا كنَّا أذَلَّ قومٍ، فأعزَّنا اللَّهُ بالإسلامِ، فمهما نطلُبِ العِزَّةَ بغيرِ ما أعزَّنا اللَّهُ به أذلَّنا اللَّهُ.\"";

// وضع النص داخل العنصر بدون أكواد HTML ظاهرة
document.getElementById('nationMessage').textContent = nationNeedsYou;






    let imageSrc = gender === "male" 
        ? "S22MCS PARTS/doctor.png" 
        : "S22MCS PARTS/doctormuslim.png";

    // تحديث العناصر في الصفحة
    document.getElementById('welcomeMessage').innerText = welcomeMessage;
    document.getElementById('greeting').innerText = greetingMessage;
    document.getElementById('studyMessage').innerText = studyMessage;
    document.getElementById('nationMessage').innerText = nationNeedsYou;
    document.getElementById('doctorImage').src = imageSrc;

    // عرض القسم بالكامل
    document.getElementById('greetingContainer').style.display = 'flex';
    document.getElementById('studyMessage').style.display = 'block';
    document.getElementById('nationMessage').style.display = 'block';
}

        
    </script>
    
</body>
</html>




<!DOCTYPE html>
        <html lang="ar">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>  </title>
       <!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحة الدرس</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* === إعدادات عامة === */
        :root {
            --primary-color: #00aaff;
            --primary-dark-color: #007bff;
            --primary-darker-color: #0056b3;
            --dark-bg: #121212;
            --light-dark-bg: #1a1a1a;
            --medium-dark-bg: #222;
            --dark-gray-bg: #333;
            --light-gray-bg: #444;
        }

        body {
            font-family: 'Poppins', 'Amiri', serif;
            background-color: var(--dark-bg);
            color: white;
            margin: 0;
            padding: 20px;
            text-align: center;
            padding-top: 100px; /* مساحة للشريط العلوي الثابت */
        }

        /* === الشريط العلوي === */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 90px;
            background-color: var(--dark-gray-bg);
            color: white;
            padding: 0 16px;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            box-sizing: border-box;
            gap: 15px; /* مسافة بين العناصر */
        }

        .sidebar h3 {
            margin: 0;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 0; /* يمنع التقلص */
        }
        
        /* حاوية شريط التقدم */
        .progress-bar-container {
            width: 100%; /* اجعله يأخذ المساحة المتاحة */
            max-width: 600px;
            height: 25px;
            background-color: var(--light-gray-bg);
            border-radius: 15px;
            position: relative;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            flex-grow: 1; /* يسمح له بالتمدد */
        }

.progress-bar {
    height: 100%;
    width: 50%;

  background-color: #0066ff; /* <-- هذا السطر يجعل الشريط أزرق */

    border-radius: 15px;
    transition: width 0.3s ease-in-out;
}



        .progress-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        /* أزرار الشريط العلوي */
        .sidebar-button {
            padding: 8px 12px;
            font-size: 0.9rem;
            box-sizing: border-box;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            background-color: var(--primary-dark-color);
            color: white;
            white-space: nowrap; /* يمنع التفاف النص */
        }
        .sidebar-button:hover {
            background-color: var(--primary-darker-color);
        }
        .finish-button {
             background-color: var(--primary-color);
        }

        /* === محتوى الدرس (الفقاعات) === */
        .lesson-container {
            margin-top: 20px;
        }
        .bubble {
            background: rgba(30, 30, 30, 0.95);
            box-shadow: 0 6px 20px rgba(0, 150, 255, 0.4);
            border-left: 6px solid var(--primary-color);
            padding: 20px;
            border-radius: 20px;
            margin: 20px auto 70px auto;
            max-width: 60rem;
            transition: transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
            text-align: right;
            position: relative;
            cursor: pointer;
        }
        .bubble:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 150, 255, 0.5);
        }

        .interact-button {
            position: absolute;
            top: 5px;
            left: 6px;
            background-color: var(--primary-dark-color);
            color: white;
            border: none;
            padding: 8px 12px;
            font-size: 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .interact-button:hover {
            background-color: var(--primary-darker-color);
        }
        
        /* صورة خارجية */
        .outside-image {
            display: block;
            margin: 20px auto;
            max-width: 100%;
            height: auto;
        }
        
        /* زر إعادة التحميل */
        .refresh-button {
            background: linear-gradient(135deg, var(--light-dark-bg), var(--dark-gray-bg));
            color: #ffffff;
            border: 1px solid var(--light-gray-bg);
            padding: 10px 22px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 25px;
            font-family: 'Poppins', Arial, sans-serif;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
            display: inline-flex;
            align-items: center;
            gap: 6px;
            min-width: 160px;
            justify-content: center;
        }
        .refresh-button:hover {
            background: linear-gradient(135deg, #292929, var(--light-gray-bg));
            transform: translateY(-3px);
            box-shadow: 0 6px 18px rgba(255, 255, 255, 0.15);
        }
        .refresh-button::before {
            content: "🔄";
            font-size: 18px;
        }

        /* === النوافذ المنبثقة (Modals) === */
        .modal, #end-lesson-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 400px;
            background: var(--medium-dark-bg);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 150, 255, 0.5);
            text-align: center;
        }
        .modal h3, #end-lesson-modal h3 {
            color: var(--primary-color);
        }
        .modal button, #end-lesson-modal button {
            background-color: var(--primary-dark-color);
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px;
            font-size: 16px;
        }
        .modal button:hover, #end-lesson-modal button:hover {
             background-color: var(--primary-darker-color);
        }
        
        /* نافذة نهاية الدرس */
        #end-lesson-modal {
            max-width: 600px;
            background-color: var(--dark-gray-bg);
            padding: 30px;
        }
         #end-lesson-modal h3 {
            font-size: 24px;
         }
         #end-lesson-modal p {
            font-size: 18px;
         }
        
        /* === استجابة التصميم للشاشات المختلفة (Media Queries) === */
        
        /* شاشات متوسطة (Tablets) */
        @media (max-width: 768px) {
            body {
                padding-top: 80px;
            }
            .sidebar {
                height: 70px;
                gap: 10px;
            }
            .sidebar h3 {
                font-size: 0.9rem;
            }
             .sidebar-button {
                padding: 6px 10px;
                font-size: 0.8rem;
            }
            .bubble {
                max-width: 90%;
                padding: 15px;
            }
            .refresh-button {
                padding: 8px 18px;
                font-size: 14px;
                min-width: 140px;
            }
        }

        /* شاشات صغيرة (الهواتف) */
        @media (max-width: 480px) {
            body {
                padding: 10px;
                padding-top: 130px; /* مساحة إضافية بسبب التفاف الشريط */
                font-size: 15px;
            }
            .sidebar {
                flex-wrap: wrap; /* السماح للعناصر بالالتفاف */
                height: auto; /* ارتفاع تلقائي */
                padding: 10px;
                justify-content: center;
            }
            .sidebar h3 {
                display: none; /* إخفاء النص لتوفير مساحة */
            }
            .progress-bar-container {
                order: -1; /* وضع شريط التقدم في الأعلى */
                width: 100%;
                height: 20px;
                margin-bottom: 10px;
            }
            .progress-percentage {
                font-size: 12px;
            }
            .bubble {
                padding: 10px;
            }
            .interact-button {
                font-size: 12px;
                padding: 5px 8px;
            }
             .refresh-button {
                padding: 7px 16px;
                font-size: 13px;
                min-width: 120px;
            }
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <button class="sidebar-button finish-button" onclick="finishLesson()">
            ✅ انتهيت
        </button>
        
        <h3 id="proo">📊 <span>التقدم</span></h3>

        <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
            <div class="progress-percentage" id="progress-percentage">0%</div>
        </div>

        <button onclick="goToUncompletedBubble()" class="sidebar-button">
            🔍 الفقاعات غير المكتملة
        </button>
    </div>


   
 




</body>
</html>
    


    <br>       <br>    <br>
    <div class="refresh-container"  id="ref">
        <button class="refresh-button" onclick="location.reload();">تحديث الصفحة</button>
    </div>
    <br>
    <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 70vh; text-align: center;">
      
  
        <h1 class="lesson-title">عِلْمُ أَمْرَاضِ المَصْفُوفَةِ خَارِجَ الخَلِيَّةِ </h1>
        <h2 class="lesson-subtitle">🔻PATHOLOGY OF THE EXTRACELLULAR MATRIX🔻</h2>
        <h2 class="lesson-subtitle">🔻PATHOLOGIE DE LA MATRICE EXTRACELLULAIRE🔻</h2>
    
    </div>
          
    </div>
    

     


     <!DOCTYPE html>
     <html lang="ar">
     <head>
         <meta charset="UTF-8">
         <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <title>تم عبر برنامج 2019 الطب الجزائري</title>
     
         <style>
         body {
             font-family: 'Poppins', 'Amiri', serif;
             direction: rtl;
             text-align: right;
             background-color: #121212;
             color: white;
             margin: 0;
             padding: 20px;
         }
         
         .container {
             max-width: 600px;
             margin: auto;
             background: #1e1e1e;
             padding: 20px;
             border-radius: 10px;
             box-shadow: 0 0 15px rgba(0, 150, 255, 0.3);
         }
         
         h2 {
             text-align: center;
             color: #00aaff;
         }
         
         .lesson {
             display: flex;
             align-items: center;
             justify-content: space-between;
             padding: 15px;
             border-bottom: 1px solid #444;
             flex-direction: column;
             background: rgba(30, 30, 30, 0.9);
             border-radius: 10px;
             margin-bottom: 10px;
             transition: transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
         }
         
         .lesson:hover {
             transform: translateY(-3px);
             box-shadow: 0 6px 15px rgba(0, 150, 255, 0.4);
         }
         
         .lesson input {
             transform: scale(1.3);
             accent-color: #00aaff;
         }
         
         .lesson span {
             flex-grow: 1;
             margin-right: 10px;
         }
         
         .translation {
             font-size: 12px;
             color: #bbb;
             margin-top: 5px;
         }
         
         .progress-bar {
             width: 100%;
             background: #444;
             height: 12px;
             border-radius: 6px;
             margin: 10px 0;
             overflow: hidden;
         }
         
         .progress {
             height: 100%;
             background: #00aaff;
             width: 0%;
             transition: width 0.3s;
         }
         
         .btn {
             display: block;
             width: 100%;
             padding: 12px;
             background: #00aaff;
             color: white;
             text-align: center;
             border: none;
             border-radius: 6px;
             cursor: pointer;
             font-size: 16px;
             margin-top: 10px;
             transition: background 0.3s ease-in-out;
         }
         
         .btn:hover {
             background: #0077cc;
         }
         
         .lang {
             text-align: center;
             color: #bbb;
             font-size: 14px;
             margin-top: 20px;
         }
     </style>    






     <style>

        /* تنسيقات عامة للفقاعات والجداول */
.bubble {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch; /* لتحسين التمرير على الأجهزة المحمولة */
}

table {
    width: 100%;
    border-collapse: collapse;
    margin: 15px 0;
    min-width: 600px; /* عرض أدنى للجدول لضمان القراءة */
}

th, td {
    padding: 12px 15px;
    text-align: right;
    border: 1px solid #ddd;
}

th {
    background-color: #f2f2f2;
    font-weight: bold;
}

/* تنسيقات خاصة للجداول الإنجليزية والفرنسية */
table[dir="rtl"] {
    text-align: right;
}

table:not([dir="rtl"]) {
    text-align: left;
}

/* تحسينات للعرض على الهواتف */
@media screen and (max-width: 768px) {
    th, td {
        padding: 8px 10px;
        font-size: 14px;
    }
    
    h3 {
        font-size: 16px;
    }
    
    p {
        font-size: 14px;
    }
}












        
     </style>
     </head>
     <body>
         <div class="container">

             <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
                <h2>الأهداف العامة والخاصة في الدرس</h2>
            </div>
            
             <div class="progress-bar"><div class="progress"></div></div>
             <div id="lessonList"></div>
             <button class="btn" onclick="completeAll()">إكمال الكل</button>
             <div class="lang">
                
                العربية

                <br>
            English | Français 
            </div>
         </div>
     
         <script>
             const lessons = [
        


             { ar: "  الاهداف العامة   " },




        { ar: "  الاهداف الخاصة بالدرس   " },







    ];

     
             const lessonList = document.getElementById("lessonList");
             lessons.forEach((lesson, index) => {
                 const div = document.createElement("div");
                 div.className = "lesson";
                 div.innerHTML = `
                     <input type="checkbox" onchange="updateProgress()" id="lesson${index}">
                     <span>${lesson.ar}</span>
                     <div class="translation">${lesson.en}</div>
                     <div class="translation">${lesson.fr}</div>
                 `;
                 lessonList.appendChild(div);
             });
     
             function updateProgress() {
                 const checkboxes = document.querySelectorAll("input[type=checkbox]");
                 let completed = 0;
                 checkboxes.forEach(cb => { if (cb.checked) completed++; });
                 document.querySelector(".progress").style.width = (completed / lessons.length * 100) + "%";
             }
     
             function completeAll() {
                 document.querySelectorAll("input[type=checkbox]").forEach(cb => cb.checked = true);
                 updateProgress();
             }
         </script>
     </body>
     </html>




<div class="bubble">
    <button class="interact-button" id="fibrosis-amyloidosis" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>الخطة:</strong></li>
        <ul>
            <li>الأهداف</li>
            <li>مراجعة / المادة خارج الخلية (MEC)</li>
            <li>اضطرابات المادة خارج الخلية</li>
            <li><strong>التليف:</strong> 
                <ul>
                    <li>التعريف</li>
                    <li>الأسباب</li>
                    <li>المورفولوجيا</li>
                    <li>الأنواع</li>
                </ul>
            </li>
            <li>الزجاجيّة / الفبرينويد</li>
            <li><strong>الداء النشواني (Amylose):</strong>
                <ul>
                    <li>التعريف / العامّات</li>
                    <li>التركيب</li>
                    <li>المظاهر التشريحية المرضية</li>
                    <li>أهم المواقع</li>
                    <li>التصنيف</li>
                    <li>التشخيص</li>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Plan:</strong></li>
            <ul>
                <li>Objectives</li>
                <li>Review / Extracellular Matrix (ECM)</li>
                <li>Alterations of the ECM</li>
                <li><strong>Fibrosis:</strong>
                    <ul>
                        <li>Definition</li>
                        <li>Etiologies</li>
                        <li>Morphology</li>
                        <li>Types</li>
                    </ul>
                </li>
                <li>Hyalinosis / Fibrinoid</li>
                <li><strong>Amyloidosis:</strong>
                    <ul>
                        <li>Definition / Generalities</li>
                        <li>Composition</li>
                        <li>Anatomopathological aspects</li>
                        <li>Main localizations</li>
                        <li>Classification</li>
                        <li>Diagnostics</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Plan :</strong></li>
            <ul>
                <li>Objectifs</li>
                <li>Rappel / Matrice extracellulaire (MEC)</li>
                <li>Altérations de la MEC</li>
                <li><strong>Fibrose :</strong>
                    <ul>
                        <li>Définition</li>
                        <li>Étiologies</li>
                        <li>Morphologie</li>
                        <li>Types</li>
                    </ul>
                </li>
                <li>Hyalinose / Fibrinoïde</li>
                <li><strong>Amyloses :</strong>
                    <ul>
                        <li>Définition / Généralités</li>
                        <li>Composition</li>
                        <li>Aspects anatomopathologiques</li>
                        <li>Principales localisations</li>
                        <li>Classification</li>
                        <li>Diagnostics</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</div>





<div class="bubble">
    <button class="interact-button" id="objectives-fibrosis-amyloidosis" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>الهدف العام:</strong> تعريف الإصابات التي تصيب المواد بين الخلوية.</li>
        <li><strong>الأهداف الخاصة:</strong></li>
        <ul>
            <li>ذكر الأنواع المختلفة من التليف.</li>
            <li>وصف التغيرات التشريحية المرتبطة بالداء النشواني.</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>General Objective:</strong> Define lesions of the intercellular substances.</li>
            <li><strong>Specific Objectives:</strong></li>
            <ul>
                <li>List the different types of fibrosis.</li>
                <li>Describe the anatomical modifications related to amyloidosis.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Objectif général :</strong> Définir les lésions des substances intercellulaires.</li>
            <li><strong>Objectifs spécifiques :</strong></li>
            <ul>
                <li>Citer les différents types de fibrose.</li>
                <li>Décrire les modifications anatomiques liées à l’amylose.</li>
            </ul>
        </ul>
    </div>
</div>



<div class="bubble">
    <button class="interact-button" id="ecm-definition" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>تذكير / المادة خارج الخلوية (MEC):</strong></li>
        <ul>
            <li><strong>التعريف:</strong></li>
            <ul>
                <li>النسيج = خلايا + مادة خارج خلوية.</li>
                <li>المادة خارج الخلوية = المساحة بين الخلايا.</li>
                <li>المادة خارج الخلوية (MEC) هي بنية متعددة الجزيئات، معقدة، تُفرز محليًا من طرف الخلايا 
                    (الأرومات الليفية، الأرومات الغضروفية، الأرومات العظمية) وتُطلق في الوسط خارج الخلية.</li>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Reminder / Extracellular Matrix (ECM):</strong></li>
            <ul>
                <li><strong>Definition:</strong></li>
                <ul>
                    <li>Tissue = cells + extracellular matrix.</li>
                    <li>Extracellular matrix = intercellular space.</li>
                    <li>The extracellular matrix (ECM) is a complex multimolecular structure secreted locally by cells 
                        (fibroblasts, chondroblasts, osteoblasts) and released into the extracellular environment.</li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Rappel / Matrice extracellulaire (MEC):</strong></li>
            <ul>
                <li><strong>Définition :</strong></li>
                <ul>
                    <li>Tissu = cellules + matrice extracellulaire.</li>
                    <li>Matrice extracellulaire = espace intercellulaire.</li>
                    <li>La matrice extracellulaire (MEC) est une structure multimoléculaire complexe, sécrétée localement 
                        par les cellules (fibroblastes, chondroblastes, ostéoblastes) et libérée dans le milieu extracellulaire.</li>
                </ul>
            </ul>
        </ul>
    </div>
</div>







<div class="bubble">
    <button class="interact-button" id="ecm-composition" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>تذكير / المادة خارج الخلوية (MEC):</strong></li>
        <ul>
            <li><strong>التركيب:</strong></li>
            <ul>
                <li>MEC = ألياف + مادة أساسية (Substance fondamentale).</li>
                <li>يمكن تمييزها في علم الأنسجة (HE)، لكنها تبدو فارغة بصريًا تحت المجهر الضوئي (HE).</li>
                <li><strong>اختصار HE يعني:</strong></li>
                <ul>
                    <li><strong>Hématoxyline-Éosine</strong> (بالعربية: الهيماتوكسيلين والإيوزين).</li>
                    <li>وهي أكثر الصبغات استعمالًا في علم الأنسجة لرؤية الخلايا والأنسجة تحت المجهر الضوئي.</li>
                    <li><strong>الهيماتوكسيلين:</strong> يصبغ النوى باللون الأزرق/البنفسجي.</li>
                    <li><strong>الإيوزين:</strong> يصبغ السيتوبلازم والمادة خارج الخلوية باللون الوردي/الأحمر.</li>
                </ul>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Reminder / Extracellular Matrix (ECM):</strong></li>
            <ul>
                <li><strong>Composition:</strong></li>
                <ul>
                    <li>ECM = Fibers + Ground substance.</li>
                    <li>Recognizable in histology (HE), but appears optically empty under light microscopy (HE).</li>
                    <li><strong>HE abbreviation:</strong></li>
                    <ul>
                        <li><strong>Hematoxylin-Eosin</strong>.</li>
                        <li>The most widely used staining in histology to visualize cells and tissues under the light microscope.</li>
                        <li><strong>Hematoxylin:</strong> stains nuclei blue/purple.</li>
                        <li><strong>Eosin:</strong> stains cytoplasm and extracellular matrix pink/red.</li>
                    </ul>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Rappel / Matrice extracellulaire (MEC):</strong></li>
            <ul>
                <li><strong>Composition :</strong></li>
                <ul>
                    <li>MEC = Fibres + substance fondamentale.</li>
                    <li>Reconnaissable en histologie (HE), mais optiquement vide en microscopie optique (HE).</li>
                    <li><strong>Abréviation HE :</strong></li>
                    <ul>
                        <li><strong>Hématoxyline-Éosine</strong>.</li>
                        <li>C’est la coloration la plus utilisée en histologie pour observer les cellules et tissus au microscope optique.</li>
                        <li><strong>Hématoxyline :</strong> colore les noyaux en bleu/violet.</li>
                        <li><strong>Éosine :</strong> colore le cytoplasme et la matrice extracellulaire en rose/rouge.</li>
                    </ul>
                </ul>
            </ul>
        </ul>
    </div>
</div>






<div class="bubble">
    <button class="interact-button" id="ecm-fibers" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>التركيب (1):</strong></li>
        <ul>
            <li><strong>الكولاجين (Collagène):</strong> هو غليكوبروتين يمنح الأنسجة مقاومة للشد. يُمثل حوالي 25% من بروتينات الجسم. يوجد بعدة أنواع (I, II, III, IV).</li>
            <li><strong>في المجهر الضوئي (MO):</strong></li>
            <ul>
                <li>تظهر على شكل حزم صفراء بالهيماتوكسيلين-إيوزين-سافران (HES).</li>
                <li>زرقاء-خضراء بصبغة ماسون ثلاثية الألوان (Trichrome de Masson).</li>
                <li>بنية في التفاعل الفضي (Réaction argentique).</li>
            </ul>
            <li><strong>الإيلاستين (Élastine):</strong> المكوّن الأساسي للألياف المرنة، يُفرز من الخلايا الليفية، بروتين غير مِغليكوزيل، يمنح النسيج الضام مرونته. يوجد في الرئة، جدار الشرايين، الجلد، والأربطة.</li>
            <li>يظهر بلون بني غامق بصبغة الأورسين (Orcéine).</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Composition (1):</strong></li>
            <ul>
                <li><strong>Collagen:</strong> A glycoprotein providing tensile strength to tissues. Represents about 25% of body proteins. Several types exist (I, II, III, IV).</li>
                <li><strong>Under light microscopy (LM):</strong></li>
                <ul>
                    <li>Yellow bundles with Hematoxylin-Eosin-Safran (HES).</li>
                    <li>Blue-green with Masson's trichrome stain.</li>
                    <li>Brown with silver impregnation (argentic reaction).</li>
                </ul>
                <li><strong>Elastin:</strong> The main component of elastic fibers, secreted by fibroblasts, non-glycosylated protein, provides elasticity to connective tissue. Found in the lung, arterial wall, skin, and ligaments.</li>
                <li>Appears dark brown with Orcein stain.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Composition (1) :</strong></li>
            <ul>
                <li><strong>Collagène :</strong> C’est une glycoprotéine qui confère une résistance à la tension des tissus. Représente environ 25% des protéines de l’organisme. Plusieurs types (I, II, III, IV).</li>
                <li><strong>En microscopie optique (MO) :</strong></li>
                <ul>
                    <li>Faisceaux jaunes en HES (Hématoxyline-Éosine-Safran).</li>
                    <li>Bleu-vert avec le trichrome de Masson.</li>
                    <li>Bruns avec la réaction argentique.</li>
                </ul>
                <li><strong>Élastine :</strong> Composant essentiel des fibres élastiques, sécrétée par les fibroblastes, protéine non glycosylée, assure l’élasticité du tissu conjonctif. Présente dans le poumon, la paroi artérielle, la peau et les ligaments.</li>
                <li>Brun sombre à l’orcéine.</li>
            </ul>
        </ul>
    </div>
</div>






<div class="bubble">
    <button class="interact-button" id="ecm-glycoproteins" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>التركيب (2):</strong></li>
        <ul>
            <li><strong>الغليكوبروتينات البنيوية:</strong> جزيئات التصاق ترتبط بالخلايا وبجزيئات المادة خارج الخلوية، مما يساعد على تثبيت الخلايا في المصفوفة.</li>
            <li><strong>الفيبرونكتين (Fibronectine):</strong> غليكوبروتين متعدد الوظائف، يحتوي على مواقع ارتباط بالكولاجين والبروتيوغليكانات.</li>
            <li><strong>اللامينين (Laminine):</strong> غليكوبروتين مُكبْر (سلفاتي) يُفرز من الخلايا الظهارية، وهو مكوّن أساسي في جميع الأغشية القاعدية. يرتبط بالخلايا الظهارية التي تفرزه وكذلك بالكولاجين من النوع الرابع (Type IV).</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Composition (2):</strong></li>
            <ul>
                <li><strong>Structural glycoproteins:</strong> Adhesion molecules that bind both to cells and to ECM components, facilitating cell attachment to the matrix.</li>
                <li><strong>Fibronectin:</strong> A multifunctional glycoprotein with binding sites for collagens and proteoglycans.</li>
                <li><strong>Laminin:</strong> A sulfated glycoprotein secreted by epithelial cells, major component of all basal laminae. It binds to the epithelial cells that secrete it and to type IV collagen.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Composition (2) :</strong></li>
            <ul>
                <li><strong>Glycoprotéines de structure :</strong> molécules d’adhérence qui se lient à la fois aux cellules et aux molécules de la MEC, favorisant ainsi la fixation des cellules à la matrice.</li>
                <li><strong>Fibronectine :</strong> glycoprotéine multifonctionnelle, possédant des sites de liaison pour les collagènes et les protéoglycanes.</li>
                <li><strong>Laminine :</strong> glycoprotéine sulfatée sécrétée par les cellules épithéliales, constituant majeur de toutes les lames basales. Elle se lie aux cellules épithéliales qui la sécrètent ainsi qu’au collagène de type IV.</li>
            </ul>
        </ul>
    </div>
</div>




<div class="bubble">
    <button class="interact-button" id="ecm-polysaccharides" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>التركيب (3):</strong></li>
        <ul>
            <li><strong>عديدات السكاريد (Polysaccharides):</strong></li>
            <ul>
                <li><strong>الغليكوزأمينوغليكانات (Glycosaminoglycanes, GAG):</strong> هي سلاسل طويلة، صلبة وممتدة من عديدات السكاريد، غالبًا ما تكون مرتبطة بالبروتينات لتكوين البروتيوغليكانات (وهي أغنى بالكربوهيدرات من الغليكوبروتينات).</li>
                <li>تمتلك شحنة سالبة قوية تجذب أيونات الصوديوم (+Na)، مما يؤدي إلى امتصاص كميات كبيرة من الماء داخل المادة خارج الخلوية (MEC).</li>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Composition (3):</strong></li>
            <ul>
                <li><strong>Polysaccharides:</strong></li>
                <ul>
                    <li><strong>Glycosaminoglycans (GAGs):</strong> Long, rigid, and extended polysaccharide chains, usually linked to proteins to form proteoglycans (richer in carbohydrates than glycoproteins).</li>
                    <li>They carry a strong negative charge that attracts Na+, leading to a high water absorption into the extracellular matrix (ECM).</li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Composition (3) :</strong></li>
            <ul>
                <li><strong>Polysaccharides :</strong></li>
                <ul>
                    <li><strong>Glycosaminoglycanes (GAG) :</strong> ce sont de longues chaînes polysaccharidiques rigides et étirées, généralement reliées à des protéines pour former les protéoglycanes (plus riches en glucides que les glycoprotéines).</li>
                    <li>Les GAG possèdent une forte charge négative qui attire le Na+, ce qui entraîne une grande absorption d’eau dans la MEC.</li>
                </ul>
            </ul>
        </ul>
    </div>
</div>





<div class="bubble">
    <button class="interact-button" id="ecm-alterations" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>اضطرابات المادة خارج الخلوية (MEC):</strong></li>
        <ul>
            <li>المادة خارج الخلوية وسط ديناميكي، متوازن فسيولوجيًا بين عمليات التخليق، والترسيب في الوسط خارج الخلية، وعمليات التحلل.</li>
            
            <li><strong>التغيرات الكمية:</strong></li>
            <ul>
                <li>نقص (Raréfaction): كما في الشيخوخة أو العلاج بالكورتيكويدات.</li>
                <li>زيادة الإنتاج (Hyperproduction): كما في التصلب (Sclérose).</li>
            </ul>

            <li><strong>التغيرات النوعية:</strong></li>
            <ul>
                <li><strong>التحول (Métamorphose):</strong> تحول مادة أساسية إلى أخرى (مثل: الغضروفية إلى العظمية).</li>
                <li><strong>التشبع (Imprégnation):</strong> تثبيت مادة أو ناتج غير موجود طبيعيًا في الوسط بين الخلايا (مثل: داء الحديد – التكلسات).</li>
                <li><strong>التسرب (Infiltration):</strong> اختراق نسيج بمادة من جوارها ذات طابع منتشر.  
                    <br>مثال: تسرب السوائل (الماء، المخاط) أو الخلايا الورمية.</li>
            </ul>

            <li><strong>الترسيبات غير الطبيعية:</strong></li>
            <ul>
                <li>المادة الزجاجية: Hyalinose</li>
                <li>المادة الفبرينويد: Fibrinoïde</li>
                <li>المادة النشوانية: Amylose</li>
                <li>اضطرابات استقلابية: النقرس (تراكم بلورات اليورات).</li>
                <li>تصلب الشرايين (Athérosclérose).</li>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Alterations of the Extracellular Matrix (ECM):</strong></li>
            <ul>
                <li>The ECM is a dynamic environment physiologically balanced between synthesis, deposition, and degradation processes.</li>
                
                <li><strong>Quantitative modifications:</strong></li>
                <ul>
                    <li>Rarefaction: observed in aging and corticosteroid therapy.</li>
                    <li>Hyperproduction: observed in sclerosis.</li>
                </ul>

                <li><strong>Qualitative modifications:</strong></li>
                <ul>
                    <li><strong>Metamorphosis:</strong> transformation of one fundamental substance into another (e.g., chondrin into ossein).</li>
                    <li><strong>Impregnation:</strong> fixation in the intercellular medium of substances or products normally absent (e.g., siderosis, calcifications).</li>
                    <li><strong>Infiltration:</strong> penetration of a tissue by a neighboring substance in a diffuse manner.  
                        <br>Example: infiltration by liquids (water, mucus) or by tumor cells.</li>
                </ul>

                <li><strong>Abnormal deposits:</strong></li>
                <ul>
                    <li>Hyaline substance: Hyalinosis</li>
                    <li>Fibrinoid substance: Fibrinoid</li>
                    <li>Amyloid substance: Amyloidosis</li>
                    <li>Metabolic disorders: Gout (urate crystal overload)</li>
                    <li>Atherosclerosis</li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Altérations de la Matrice extracellulaire (MEC) :</strong></li>
            <ul>
                <li>La MEC est un milieu dynamique en équilibre physiologique entre les processus de synthèse, de dépôt et de dégradation.</li>
                
                <li><strong>Modifications quantitatives :</strong></li>
                <ul>
                    <li>Raréfaction : sénescence, traitement corticoïde.</li>
                    <li>Hyperproduction : sclérose.</li>
                </ul>

                <li><strong>Modifications qualitatives :</strong></li>
                <ul>
                    <li><strong>Métamorphose :</strong> transformation d’une substance fondamentale en une autre (ex : chondrine en osséine).</li>
                    <li><strong>Imprégnation :</strong> fixation dans le milieu intercellulaire de substances ou de produits normalement absents (ex : sidérose, calcifications).</li>
                    <li><strong>Infiltration :</strong> pénétration d’un tissu par une substance de voisinage de caractère diffus.  
                        <br>Exemple : infiltration par des liquides (eau, mucus) ou par des cellules tumorales.</li>
                </ul>

                <li><strong>Dépôts anormaux :</strong></li>
                <ul>
                    <li>Substance hyaline : hyalinose</li>
                    <li>Substance fibrinoïde : fibrinoïde</li>
                    <li>Substance amyloïde : amylose</li>
                    <li>Anomalies métaboliques : goutte (surcharge en cristaux d’urate)</li>
                    <li>Athérosclérose</li>
                </ul>
            </ul>
        </ul>
    </div>
</div>











<div class="bubble">
    <button class="interact-button" id="fibrosis" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>التليف (Fibrose):</strong></li>
        <ul>
            <li><strong>التعريف:</strong></li>
            <ul>
                <li>زيادة المكوّنات الليفية للمادة خارج الخلوية في نسيج أو عضو.</li>
                <li><strong>التصلب (Sclérose):</strong> هو المصطلح العياني (الماكروسكوبي) المرادف للتليف، يتميز بالصلابة.</li>
                <li>التليف قد يكون ثابتًا، ويمكن أن يزداد (في حال الاعتداءات النسيجية المتكررة) أو يتراجع.</li>
            </ul>

            <li><strong>الأسباب (1):</strong></li>
            <ul>
                <li>التليف أثناء التفاعلات الالتهابية.</li>
                <li><strong>التليف الندبي:</strong></li>
                <ul>
                    <li>ينتج عن عملية التهابية ناجمة عن اعتداء نسيجي.</li>
                    <li>الندبة: نسيج ليفي جديد يعوّض الأنسجة المتموتة.</li>
                    <li>ظاهرة ثابتة في الالتهابات المزمنة.</li>
                </ul>
                <li><strong>أمثلة:</strong></li>
                <ul>
                    <li>التهابات الكبد المزمنة:
                        <ul>
                            <li>تليف المساحات البوابية (espaces portes).</li>
                            <li>جسور ليفية تصل بين المساحات البوابية أو تربطها بالأوردة المركزية الفصيصية.</li>
                        </ul>
                    </li>
                </ul>
            </ul>

            <li><strong>الأسباب (2):</strong></li>
            <ul>
                <li>بعض الأمراض الالتهابية المزمنة مجهولة السبب قد تؤدي إلى تليف مدمر مع تخريب واسع.</li>
                <li><strong>أمثلة:</strong></li>
                <ul>
                    <li>التليف خلف الصفاق (Fibrose rétro-péritonéale): يستبدل النسيج الدهني ويضغط على الوريد الأجوف والحالبين.</li>
                    <li>التهاب الغدة الدرقية المزمن لريدل (Thyroïdite chronique de Riedel): حيث يدمر التليف الغدة الدرقية ويمتد إلى النسج الرخوة الرقبية.</li>
                </ul>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Fibrosis:</strong></li>
            <ul>
                <li><strong>Definition:</strong></li>
                <ul>
                    <li>Increase in fibrillar components of the extracellular matrix within a tissue or organ.</li>
                    <li><strong>Sclerosis:</strong> A macroscopic term synonymous with fibrosis, characterized by induration.</li>
                    <li>Fibrosis can remain stable, worsen (repeated tissue injuries), or regress.</li>
                </ul>

                <li><strong>Etiologies (1):</strong></li>
                <ul>
                    <li>Fibrosis during inflammatory reactions.</li>
                    <li><strong>Scar fibrosis:</strong></li>
                    <ul>
                        <li>Triggered by an inflammatory process following tissue injury.</li>
                        <li>Scar = new fibrous tissue replacing necrotic tissue.</li>
                        <li>Constant finding in chronic inflammations.</li>
                    </ul>
                    <li><strong>Examples:</strong></li>
                    <ul>
                        <li>Chronic hepatitis:
                            <ul>
                                <li>Fibrosis of portal tracts.</li>
                                <li>Fibrous bridges linking portal tracts to each other or to central veins.</li>
                            </ul>
                        </li>
                    </ul>
                </ul>

                <li><strong>Etiologies (2):</strong></li>
                <ul>
                    <li>Certain chronic inflammatory diseases of unknown cause may lead to destructive fibrosis with extensive tissue damage.</li>
                    <li><strong>Examples:</strong></li>
                    <ul>
                        <li>Retroperitoneal fibrosis: replaces adipose tissue, compresses vena cava and ureters.</li>
                        <li>Riedel’s chronic thyroiditis: fibrosis destroys the thyroid gland and extends into cervical soft tissues.</li>
                    </ul>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Fibroses :</strong></li>
            <ul>
                <li><strong>Définition :</strong></li>
                <ul>
                    <li>Augmentation des constituants fibrillaires de la matrice extracellulaire dans un tissu ou un organe.</li>
                    <li><strong>Sclérose :</strong> terme macroscopique, synonyme de fibrose, traduisant une induration.</li>
                    <li>La fibrose peut rester stable, s’aggraver (agressions tissulaires répétées) ou régresser.</li>
                </ul>

                <li><strong>Étiologies (1) :</strong></li>
                <ul>
                    <li>Fibrose au cours des réactions inflammatoires.</li>
                    <li><strong>Fibrose cicatricielle :</strong></li>
                    <ul>
                        <li>Processus inflammatoire déclenché par une agression tissulaire.</li>
                        <li>Cicatrice : nouveau tissu fibreux remplaçant les tissus nécrosés.</li>
                        <li>Constante au cours des inflammations chroniques.</li>
                    </ul>
                    <li><strong>Exemples :</strong></li>
                    <ul>
                        <li>Hépatites chroniques :
                            <ul>
                                <li>Fibrose des espaces portes.</li>
                                <li>Ponts fibreux reliant espaces portes entre eux ou aux veines centrolobulaires.</li>
                            </ul>
                        </li>
                    </ul>
                </ul>

                <li><strong>Étiologies (2) :</strong></li>
                <ul>
                    <li>Certaines maladies inflammatoires chroniques d’origine inconnue peuvent entraîner une fibrose mutilante avec destructions importantes.</li>
                    <li><strong>Exemples :</strong></li>
                    <ul>
                        <li>Fibrose rétropéritonéale : remplace le tissu adipeux, comprime la veine cave et les uretères.</li>
                        <li>Thyroïdite chronique de Riedel : la fibrose détruit la glande thyroïde et s’étend aux tissus mous cervicaux.</li>
                    </ul>
                </ul>
            </ul>
        </ul>
    </div>

    
    <br>
  <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="3MED UET  Anatomie et Cytologie Pathologiques/A26.png" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>

    <br>
  <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="3MED UET  Anatomie et Cytologie Pathologiques/A27.png" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>
</div>




<div class="bubble">
    <button class="interact-button" id="fibrosis-etiologies3" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>التليف – الأسباب (3):</strong></li>
        <ul>
            <li><strong>التليف الحثولي (Fibrose dystrophique):</strong> يستبدل نسيجًا وظيفيًا متضررًا.</li>
            <ul>
                <li>نقص الأكسجة المزمن (Hypoxie chronique).</li>
                <li>التليف الضموري بسبب نقص الهرمونات: مثال، تليف المبايض بعد سن اليأس.</li>
                <li>الأمراض الاستقلابية والوراثية:
                    <ul>
                        <li>تطور تليف كبدي خلال داء ترسب الأصبغة الدموية الوراثي (Hémochromatose génétique).</li>
                        <li>تليف يستبدل الألياف العضلية المدمرة في الاعتلالات العضلية الخلقية.</li>
                    </ul>
                </li>
                <li>الشيخوخة:
                    <ul>
                        <li>التليف المرن (Élastose) في الأدمة.</li>
                        <li>التليف في البطانة الداخلية للشرايين (Fibrose intimale de l’artériosclérose).</li>
                    </ul>
                </li>
            </ul>
            <li><strong>تليف السدى في السرطانات (Fibrose du stroma des cancers).</strong></li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Fibrosis – Etiologies (3):</strong></li>
            <ul>
                <li><strong>Dystrophic fibrosis:</strong> Replaces an altered functional tissue.</li>
                <ul>
                    <li>Chronic hypoxia.</li>
                    <li>Atrophic fibrosis due to hormonal deficiency: e.g., ovarian fibrosis after menopause.</li>
                    <li>Metabolic and genetic diseases:
                        <ul>
                            <li>Development of hepatic fibrosis in genetic hemochromatosis.</li>
                            <li>Fibrosis replacing destroyed muscle fibers in congenital myopathies.</li>
                        </ul>
                    </li>
                    <li>Aging (Senescence):
                        <ul>
                            <li>Elastotic fibrosis of the dermis.</li>
                            <li>Intimal fibrosis in arteriosclerosis.</li>
                        </ul>
                    </li>
                </ul>
                <li><strong>Fibrosis of the cancer stroma.</strong></li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Fibrose – Étiologies (3) :</strong></li>
            <ul>
                <li><strong>Fibrose dystrophique :</strong> remplace un tissu fonctionnel altéré.</li>
                <ul>
                    <li>Hypoxie chronique.</li>
                    <li>Fibrose atrophique par déficit hormonal : ex. fibrose des ovaires après la ménopause.</li>
                    <li>Pathologies métaboliques et génétiques :
                        <ul>
                            <li>Développement d’une fibrose hépatique au cours de l’hémochromatose génétique.</li>
                            <li>Fibrose remplaçant les fibres musculaires détruites dans les myopathies congénitales.</li>
                        </ul>
                    </li>
                    <li>Sénescence :
                        <ul>
                            <li>Fibrose élastosique du derme.</li>
                            <li>Fibrose intimale de l’artériosclérose.</li>
                        </ul>
                    </li>
                </ul>
                <li><strong>Fibrose du stroma des cancers.</strong></li>
            </ul>
        </ul>
    </div>
</div>








<div class="bubble">
    <button class="interact-button" id="fibrosis-morphology" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>التليف – المظاهر الشكلية:</strong></li>
        <ul>
            <li><strong>المشاهدة العيانية (Macroscopie):</strong></li>
            <ul>
                <li>النسيج المتليف يظهر أبيض اللون، أكثر صلابة ومقاوم عند القطع.</li>
                <li>شكل العضو المتليف بشكل شديد قد يتغير:</li>
                <ul>
                    <li>عضو متضخم (مثال: الندبة الجلدية المتضخمة).</li>
                    <li>عضو ضامر، غالبًا مع تشوه (تليف متراجع أو مضيق).</li>
                </ul>
                <li><strong>أمثلة:</strong></li>
                <ul>
                    <li>تضيق ندبي ليفي في المريء (بسبب الحروق الكاوية أو العلاج الإشعاعي).</li>
                    <li>كلية متشوهة وضامرة بعد التهابات بولية متكررة.</li>
                    <li>تضيق في اللفائفي النهائي (مرض كرون): بسبب التهاب مزمن وتليف شامل لجدار الأمعاء.</li>
                </ul>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Fibrosis – Morphological Aspects:</strong></li>
            <ul>
                <li><strong>Macroscopy:</strong></li>
                <ul>
                    <li>Fibrotic tissue appears whitish, firmer or harder, and more resistant to cutting.</li>
                    <li>The shape of a heavily fibrosed organ is altered:</li>
                    <ul>
                        <li>Hypertrophied organ (e.g., hypertrophic skin scar).</li>
                        <li>Atrophied organ, often with deformation (retractile or stenosing fibrosis).</li>
                    </ul>
                    <li><strong>Examples:</strong></li>
                    <ul>
                        <li>Fibrous scar stenosis of the esophagus (caustic injury, radiation).</li>
                        <li>Deformed and atrophic kidney after repeated urinary tract infections.</li>
                        <li>Stenosis of the terminal ileum (Crohn’s disease): chronic inflammation with transmural fibrosis.</li>
                    </ul>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Fibrose – Aspects morphologiques :</strong></li>
            <ul>
                <li><strong>Macroscopie :</strong></li>
                <ul>
                    <li>Tissu fibreux blanchâtre, plus ferme ou dur et plus résistant à la coupe.</li>
                    <li>La forme d’un organe très fibrosé est modifiée :</li>
                    <ul>
                        <li>Organe hypertrophié (ex : cicatrice cutanée hypertrophique).</li>
                        <li>Organe atrophié, souvent associé à une déformation (fibrose rétractile ou sténosante).</li>
                    </ul>
                    <li><strong>Exemples :</strong></li>
                    <ul>
                        <li>Sténose cicatricielle fibreuse de l’œsophage (caustique, radique).</li>
                        <li>Rein déformé et atrophique après des infections urinaires répétées.</li>
                        <li>Sténose de la dernière anse iléale (maladie de Crohn) : inflammation chronique et fibrose pan-pariétale.</li>
                    </ul>
                </ul>
            </ul>
        </ul>
    </div>
</div>












<div class="bubble">
    <button class="interact-button" id="crohn-ileon-terminal" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>مرض كرون – اللفائفي النهائي:</strong></li>
        <ul>
            <li>جدار سميك (paroi épaissie).</li>
            <li>تجويف متضيق (sténosé).</li>
        </ul>
    </ul>







    <!-- بالعربية -->
    <ul>
        <li><strong>🔬 مرض كرون (Maladie de Crohn):</strong></li>
        <ul>
            <li>مرض التهابي مزمن يصيب الجهاز الهضمي، ينتمي إلى الأمراض الالتهابية المزمنة للأمعاء (MICI/IBD).</li>
            <li>يمكن أن يصيب أي جزء من القناة الهضمية من الفم حتى الشرج، وأكثر موقع شائع هو <strong>اللفائفي النهائي (iléon terminal)</strong> مع القولون.</li>
        </ul>

        <li><strong>⚡ الآفة في اللفائفي النهائي:</strong></li>
        <ul>
            <li><strong>سماكة الجدار (Paroi épaissie):</strong> الالتهاب في كرون يكون <em>transmural</em> (يصيب كل طبقات الجدار) → يسبب وذمة + تضخم عضلات + تليف = سماكة الجدار.</li>
            <li><strong>التضيق (Sténose):</strong> نتيجة التليف الانكماشي (fibrose rétractile) → ضيق التجويف وصعوبة مرور الطعام → انسداد جزئي أو كامل.</li>
        </ul>

        <li><strong>🧩 المظاهر السريرية:</strong></li>
        <ul>
            <li>آلام بطن مزمنة (خاصة في الربع السفلي الأيمن).</li>
            <li>إسهال مزمن (أحيانًا مدمى).</li>
            <li>أعراض انسداد (انتفاخ، قيء، إمساك عند التضيق الشديد).</li>
            <li>فقدان وزن وسوء امتصاص (بسبب نقص امتصاص B12 والأملاح الصفراوية).</li>
        </ul>

        <li><strong>📸 في الماكروسكوبي:</strong></li>
        <ul>
            <li>جدار سميك (paroi épaissie).</li>
            <li>تجويف ضيق (sténose).</li>
            <li>مخاطية غير منتظمة ذات مظهر « مرصوف » (cobblestone) بسبب التقرحات والفواصل الليفية.</li>
        </ul>

        <li><strong>📊 الخلاصة:</strong></li>
        <ul>
            <li>التهاب مزمن عابر لكل طبقات الجدار (transmural).</li>
            <li>⬅️ يؤدي إلى سماكة الجدار (وذمة + تضخم + تليف) + تضيق التجويف (تليف انكماشي).</li>
        </ul>
    </ul>

    <br>


    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Crohn’s Disease – Terminal Ileum:</strong></li>
            <ul>
                <li>Thickened wall (paroi épaissie).</li>
                <li>Stenosed lumen (sténosé).</li>
            </ul>
        </ul>







<BR>








        <ul>
            <li><strong>🔬 Crohn’s Disease (Maladie de Crohn):</strong></li>
            <ul>
                <li>Chronic inflammatory bowel disease (IBD) affecting any part of the digestive tract (mouth to anus).</li>
                <li>Most commonly affects the <strong>terminal ileum</strong> and colon.</li>
            </ul>

            <li><strong>⚡ Lesion in the terminal ileum:</strong></li>
            <ul>
                <li><strong>Wall thickening (Paroi épaissie):</strong> Transmural inflammation → edema + muscle hypertrophy + fibrosis → thickened wall.</li>
                <li><strong>Stenosis:</strong> Due to retractile fibrosis → narrowing of lumen → partial or complete obstruction.</li>
            </ul>

            <li><strong>🧩 Clinical features:</strong></li>
            <ul>
                <li>Chronic abdominal pain (esp. right lower quadrant).</li>
                <li>Chronic diarrhea (sometimes bloody).</li>
                <li>Obstructive symptoms (bloating, vomiting, constipation if severe stenosis).</li>
                <li>Weight loss and malabsorption (due to impaired absorption of B12 and bile salts).</li>
            </ul>

            <li><strong>📸 Macroscopy:</strong></li>
            <ul>
                <li>Thickened wall (paroi épaissie).</li>
                <li>Narrowed lumen (sténose).</li>
                <li>Irregular mucosa with “cobblestone” appearance from ulcers and fibrous bridges.</li>
            </ul>

            <li><strong>📊 Summary:</strong></li>
            <ul>
                <li>Chronic transmural inflammation →</li>
                <li>⬅️ Wall thickening (edema + hypertrophy + fibrosis) + luminal stenosis (retractile fibrosis).</li>
            </ul>
        </ul>
    </div>

    <br>
         
    <!-- بالفرنسية -->
    <div class="bubble">

        <ul>
            <li><strong>Maladie de Crohn – Iléon terminal :</strong></li>
            <ul>
                <li>Paroi épaissie.</li>
                <li>Paroi sténosée.</li>
            </ul>
        </ul>
        <BR>

       
        <ul>
            <li><strong>🔬 Maladie de Crohn :</strong></li>
            <ul>
                <li>Maladie inflammatoire chronique de l’intestin (MICI/IBD) pouvant atteindre tout le tube digestif (de la bouche à l’anus).</li>
                <li>Le siège le plus fréquent est l’<strong>iléon terminal</strong> avec le côlon.</li>
            </ul>

            <li><strong>⚡ Lésion au niveau de l’iléon terminal :</strong></li>
            <ul>
                <li><strong>Paroi épaissie :</strong> Inflammation <em>transmurale</em> → œdème + hypertrophie musculaire + fibrose = paroi épaissie.</li>
                <li><strong>Sténose :</strong> Due à la fibrose rétractile → rétrécissement de la lumière → obstruction partielle ou totale.</li>
            </ul>

            <li><strong>🧩 Manifestations cliniques :</strong></li>
            <ul>
                <li>Douleurs abdominales chroniques (surtout FID).</li>
                <li>Diarrhée chronique (parfois sanglante).</li>
                <li>Signes d’occlusion (ballonnements, vomissements, constipation si sténose sévère).</li>
                <li>Perte de poids et malabsorption (défaut d’absorption de la vitamine B12 et des sels biliaires).</li>
            </ul>

            <li><strong>📸 Macroscopie :</strong></li>
            <ul>
                <li>Paroi épaissie.</li>
                <li>Sténose.</li>
                <li>Muqueuse irrégulière en aspect de « pavés » (cobblestone) due aux ulcérations et aux cloisons fibreuses.</li>
            </ul>

            <li><strong>📊 Conclusion :</strong></li>
            <ul>
                <li>Inflammation chronique transmurale →</li>
                <li>⬅️ Paroi épaissie (œdème + hypertrophie + fibrose) + sténose de la lumière (fibrose rétractile).</li>
            </ul>
        </ul>
    </div>
    

    <br>
  <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="3MED UET  Anatomie et Cytologie Pathologiques/A28.png" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>


</div>







<div class="bubble">
    <button class="interact-button" id="fibrosis-morphology-micro1" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>مورفولوجية التليف – المجهرية (1): حسب قِدم التليف</strong></li>
        <ul>
            <li><strong>التليف الحديث:</strong></li>
            <ul>
                <li>تليف "رخو" غني بالمادة خارج الخلوية غير الليفية.</li>
                <li>ألياف كولاجين رفيعة وغير متكثفة (III, IV).</li>
                <li>وجود ليفوبلاستات، ميوليفوبلاستات، وكريات بيضاء من التفاعل الالتهابي.</li>
            </ul>
            <li><strong>التليف القديم:</strong></li>
            <ul>
                <li>تليف كثيف.</li>
                <li>ألياف كولاجين سميكة ومتكثفة (خاصة من النوع I).</li>
                <li>قلة في الخلايا وندرة في المادة الأساسية.</li>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Morphology of Fibrosis – Microscopy (1): According to the age of fibrosis</strong></li>
            <ul>
                <li><strong>Recent fibrosis:</strong></li>
                <ul>
                    <li>“Loose” fibrosis rich in non-fibrillar ECM.</li>
                    <li>Thin, poorly condensed collagen fibers (types III, IV).</li>
                    <li>Presence of fibroblasts, myofibroblasts, and inflammatory leukocytes.</li>
                </ul>
                <li><strong>Old fibrosis:</strong></li>
                <ul>
                    <li>Dense fibrosis.</li>
                    <li>Thick, condensed collagen fibers (mainly type I).</li>
                    <li>Few cells and reduced ground substance.</li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Morphologie des fibroses – Microscopie (1) : Selon l’ancienneté</strong></li>
            <ul>
                <li><strong>Fibrose récente :</strong></li>
                <ul>
                    <li>Fibrose « lâche » riche en MEC non fibrillaire.</li>
                    <li>Fibres de collagène fines, peu condensées (types III, IV).</li>
                    <li>Fibroblastes, myofibroblastes et leucocytes de la réaction inflammatoire.</li>
                </ul>
                <li><strong>Fibrose ancienne :</strong></li>
                <ul>
                    <li>Fibrose dense.</li>
                    <li>Fibres collagènes épaisses et condensées (surtout de type I).</li>
                    <li>Peu de cellules et moins de substance fondamentale.</li>
                </ul>
            </ul>
        </ul>
    </div>










        <br>
  <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="3MED UET  Anatomie et Cytologie Pathologiques/A29.png" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>

</div>











<div class="bubble">
    <button class="interact-button" id="fibrosis-morphology-micro2" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>مورفولوجية التليف – المجهرية (2): حسب التركيب الكيميائي الحيوي</strong></li>
        <ul>
            <li><strong>تليف غني بالألياف المرنة:</strong></li>
            <ul>
                <li>بعض حالات التليف الرئوي.</li>
                <li>الإيلاستوز في الأدمة خلال الشيخوخة أو في المناطق الجلدية المعرّضة للأشعة فوق البنفسجية.</li>
                <li>السدى الإيلاستوزي (في بعض سرطانات الثدي).</li>
            </ul>
            <li><strong>التليف الشبكي (réticulinique):</strong> يلون بأملاح الفضة، غني بالكولاجين من النوع III (نقي العظم، العقد اللمفاوية).</li>
            <li><strong>التليف الزجاجي (hyalin):</strong> كولاجين كثيف، متجانس، ذو مظهر زجاجي، يلتقط الأصباغ بشدة، يُشاهد في التليفات القديمة أو في الجُدرات (keloids).</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Morphology of Fibrosis – Microscopy (2): According to biochemical composition</strong></li>
            <ul>
                <li><strong>Fibrosis rich in elastic fibers:</strong></li>
                <ul>
                    <li>Certain pulmonary fibroses.</li>
                    <li>Dermal elastosis during aging or in skin exposed to ultraviolet rays.</li>
                    <li>Elastotic stroma (seen in some breast cancers).</li>
                </ul>
                <li><strong>Reticulinic fibrosis:</strong> Stained by silver salts, rich in type III collagen (bone marrow, lymph nodes).</li>
                <li><strong>Hyaline fibrosis:</strong> Dense, homogeneous, glassy collagen, strongly staining; observed in old fibroses or in keloids.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Morphologie des fibroses – Microscopie (2) : Selon la composition biochimique</strong></li>
            <ul>
                <li><strong>Fibrose riche en fibres élastiques :</strong></li>
                <ul>
                    <li>Certaines fibroses pulmonaires.</li>
                    <li>Élastose du derme au cours de la sénescence et sur les zones cutanées exposées aux rayons ultraviolets.</li>
                    <li>Stroma élastosique (certains cancers du sein).</li>
                </ul>
                <li><strong>Fibrose réticulinique :</strong> colorée par les sels d’argent, riche en collagène de type III (moelle osseuse, ganglions lymphatiques).</li>
                <li><strong>Fibrose hyaline :</strong> collagène dense, homogène et vitreux, prenant fortement les colorants, observée dans les fibroses anciennes ou les chéloïdes.</li>
            </ul>
        </ul>
    </div>









    

        <br>
  <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="3MED UET  Anatomie et Cytologie Pathologiques/A30.png" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>
        

        <br>
  <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="3MED UET  Anatomie et Cytologie Pathologiques/A31.png" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>
        

        <br>
  <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="3MED UET  Anatomie et Cytologie Pathologiques/A32.png" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>
</div>










<div class="bubble">
    <button class="interact-button" id="fibrosis-morphology-micro3" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>مورفولوجية التليف – المجهرية (3): حسب التوضع (التوزع الطوبوغرافي)</strong></li>
        <ul>
            <li><strong>التليف المنظم (Fibrose systématisée):</strong> تليف محدود يحترم البنية الأساسية للنسيج، حيث يزداد سمك الدعامة النسيجية لكن مع بقاء المعمارية قابلة للتعرف.  
                <br>مثال: في الرئة (تليف الحواجز بين الفصوص والأسناخ).</li>
            <li><strong>التليف المشوّه (Fibrose mutilante):</strong> يؤدي إلى تدمير المعمارية:
                <ul>
                    <li>موضّع: مثل ندبة احتشاء، قاعدة قرحة معدية مزمنة، أو تليف حول خُراج متكيّس.</li>
                    <li>معمّم: يصيب كامل العضو (مثل التهاب البنكرياس المزمن).</li>
                    <li>يظهر مباشرة عند حدوث تخريب نسيجي واسع، أو كتطور نهائي لتليف منظم.</li>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Morphology of Fibrosis – Microscopy (3): According to topography</strong></li>
            <ul>
                <li><strong>Systematized fibrosis:</strong> Limited fibrosis, respecting the normal connective framework; thickened stroma but recognizable architecture.  
                    <br>Example: lung (fibrosis of interlobular and alveolar septa).</li>
                <li><strong>Mutilating fibrosis:</strong> Architectural destruction:
                    <ul>
                        <li>Localized: e.g., scar of a myocardial infarction, base of a chronic gastric ulcer, or encapsulation of an abscess.</li>
                        <li>Diffuse: involving an entire organ (e.g., chronic pancreatitis).</li>
                        <li>Can occur directly in cases of extensive tissue destruction, or as the terminal stage of systematized fibrosis.</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Morphologie des fibroses – Microscopie (3) : Selon la topographie</strong></li>
            <ul>
                <li><strong>Fibrose systématisée :</strong> fibrose limitée respectant la charpente conjonctive normale ; charpente épaissie mais architecture reconnaissable.  
                    <br>Exemple : poumon (fibrose des cloisons interlobulaires et alvéolaires).</li>
                <li><strong>Fibrose mutilante :</strong> destruction architecturale :
                    <ul>
                        <li>Localisée : ex. cicatrice d’un infarctus, socle d’un ulcère gastrique chronique, enkystement d’un abcès.</li>
                        <li>Diffuse : intéressant tout un organe (ex. pancréatite chronique).</li>
                        <li>Survient d’emblée en cas de destruction tissulaire abondante, ou comme évolution terminale d’une fibrose systématisée.</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>









    
        <br>
  <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="3MED UET  Anatomie et Cytologie Pathologiques/A33.png" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>
</div>







<div class="bubble">
    <button class="interact-button" id="amyloidosis-definition-composition" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>الداء النشواني (Amylose) – التعريف/العام:</strong></li>
        <ul>
            <li>مادة بروتينية مرضية تترسب بين الخلايا في أنسجة وأعضاء مختلفة مسببة مظاهر سريرية متنوعة.</li>
            <li>قد يكون موضّعًا في نسيج واحد أو منتشرًا.</li>
            <li>الأعراض تعتمد على أهمية ومكان الترسبات.</li>
            <li>يمكن أن يكون وراثيًا أو مكتسبًا.</li>
            <li>التشخيص: تشريحي-مرضي باستعمال صبغات خاصة وIHC.</li>
        </ul>

        <li><strong>التركيب (1):</strong></li>
        <ul>
            <li>95% بروتينات ليفية خاصة بكل نوع.</li>
            <li>5% غليكوبروتينات، منها المكوّن P الثابت في جميع الأنواع.</li>
            <li><strong>AL protein:</strong> سلسلة خفيفة أميلويدية، مصدرها الخلايا البلازمية (سلاسل خفيفة من Ig).</li>
            <li><strong>AA protein:</strong> مصنّعة في الكبد، مرتبطة بالداء النشواني.</li>
            <li><strong>β-amyloid protein:</strong> في آفات الدماغ بمرض ألزهايمر.</li>
        </ul>

        <li><strong>التركيب (2):</strong></li>
        <ul>
            <li><strong>Transthyrétine:</strong> بروتين طبيعي (في الداء النشواني الشيخوخي) أو متحوّر (في الأشكال العائلية).</li>
            <li><strong>بعض الهرمونات:</strong> مثل بروكالسيتونين قد تُشكّل ترسبات نشوانية.</li>
            <li>بالمجهر الإلكتروني: نفس الصفات، ألياف مستقيمة غير متفرعة بقطر ~10nm، بطول متغيّر.</li>
            <li>كل ليف يتألف من خيطين من سلاسل ببتيدية مرتبة بشكل صفائح β مطوية مضادة التوازي.</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Amyloidosis – Definition/Generalities:</strong></li>
            <ul>
                <li>Pathological protein substance deposited between cells in various tissues and organs, causing diverse clinical manifestations.</li>
                <li>Can be localized to one tissue or diffuse.</li>
                <li>Symptoms depend on the site and extent of deposits.</li>
                <li>May be hereditary or acquired.</li>
                <li>Diagnosis: anatomopathological, using special stains and IHC.</li>
            </ul>

            <li><strong>Composition (1):</strong></li>
            <ul>
                <li>95% fibrillar proteins specific to each type.</li>
                <li>5% glycoproteins, including the constant P component.</li>
                <li><strong>AL protein:</strong> Amyloid light chain, from plasma cells (Ig light chain).</li>
                <li><strong>AA protein:</strong> Synthesized by the liver, associated with amyloidosis.</li>
                <li><strong>β-amyloid protein:</strong> Brain lesions in Alzheimer’s disease.</li>
            </ul>

            <li><strong>Composition (2):</strong></li>
            <ul>
                <li><strong>Transthyretin:</strong> Normal protein (senile amyloidosis) or mutated (familial amyloidosis).</li>
                <li><strong>Some hormones:</strong> e.g., procalcitonin deposits.</li>
                <li>EM: identical characteristics – straight, unbranched fibrils ~10 nm in diameter, variable length.</li>
                <li>Each fibril made of two filaments of polypeptide chains arranged in antiparallel β-pleated sheets.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Amylose – Définition/Généralités :</strong></li>
            <ul>
                <li>Substance protéique pathologique déposée entre les cellules de divers tissus et organes, responsable de manifestations cliniques variées.</li>
                <li>Peut être localisée à un tissu ou diffuse.</li>
                <li>Symptomatologie : dépend de l’importance et du siège des dépôts.</li>
                <li>Peut être héréditaire ou acquise.</li>
                <li>Diagnostic : anatomopathologique, par colorations spéciales et IHC.</li>
            </ul>

            <li><strong>Composition (1) :</strong></li>
            <ul>
                <li>95% de protéines fibrillaires propres à chaque variété.</li>
                <li>5% de glycoprotéines, avec le composant P constant.</li>
                <li><strong>Protéine AL :</strong> chaîne légère amyloïde, issue des plasmocytes (chaîne légère d’immunoglobuline).</li>
                <li><strong>Protéine AA :</strong> synthétisée par le foie, associée à l’amylose.</li>
                <li><strong>Protéine β-amyloïde :</strong> lésions cérébrales de la maladie d’Alzheimer.</li>
            </ul>

            <li><strong>Composition (2) :</strong></li>
            <ul>
                <li><strong>Transthyrétine :</strong> protéine normale (amylose sénile) ou mutée (amyloses familiales).</li>
                <li><strong>Certaines hormones :</strong> ex. procalcitonine → dépôts amyloïdes.</li>
                <li>En microscopie électronique : mêmes caractéristiques, fibrilles droites, non branchées (~10 nm), longueur variable.</li>
                <li>Chaque fibrille est formée de deux filaments de chaînes polypeptidiques en feuillets β plissés antiparallèles.</li>
            </ul>
        </ul>
    </div>
</div>







<div class="bubble">
    <button class="interact-button" id="amyloidosis-mechanism-anatomopathology" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>آلية التكوّن (Mécanisme de formation):</strong></li>
        <ul>
            <li><strong>بروتين طبيعي بكميات كبيرة:</strong>
                <ul>
                    <li>إنتاج مفرط (مثل: الداء النشواني المشتق من السلاسل الخفيفة للأجسام المضادة).</li>
                    <li>قصور في الاستقلاب (مثل: الداء النشواني عند مرضى الغسيل الكلوي).</li>
                </ul>
            </li>
            <li><strong>بروتين شاذ:</strong> ذو ميل لتشكيل ألياف نشوانية (أسباب وراثية أو تبدلات مكتسبة).</li>
        </ul>

        <li><strong>المظاهر التشريحية المرضية (Anatomopathologie):</strong></li>
        <ul>
            <li><strong>ماكروسكوبي:</strong>
                <ul>
                    <li>في الحالات الخفيفة: لا تغيرات واضحة.</li>
                    <li>في الترسبات الغزيرة: تضخم العضو المصاب (الكبد، الطحال، الكلية، القلب، اللسان).</li>
                    <li>المظهر: غير بارز أو ارتشاح شمعي صلب، باهت اللون، عقيدي أو منتشر حسب العضو وموقع الترسب.</li>
                    <li>في الطحال: قد يكون الترسب عقيدي أو منتشر (مظهر "اللارداسي").</li>
                </ul>
            </li>
            <li><strong>مجهري (1):</strong>
                <ul>
                    <li>الترسبات النشوانية دائمًا خارج خلوية: في النسيج الضام العام وجدران الأوعية.</li>
                    <li>بصبغة HES: إيوزينوفيلية، عديمة البنية، بدون ارتكاس التهابي.</li>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Formation mechanism:</strong></li>
            <ul>
                <li><strong>Normal protein in large amounts:</strong>
                    <ul>
                        <li>Excessive production (e.g., amyloidosis derived from immunoglobulin light chains).</li>
                        <li>Insufficient catabolism (e.g., dialysis-related amyloidosis).</li>
                    </ul>
                </li>
                <li><strong>Abnormal protein:</strong> prone to form amyloid fibrils (genetic or acquired changes).</li>
            </ul>

            <li><strong>Anatomopathological aspects:</strong></li>
            <ul>
                <li><strong>Macroscopic:</strong>
                    <ul>
                        <li>Mild amyloidosis: no visible organ changes.</li>
                        <li>Abundant deposits: organ enlargement (liver, spleen, kidney, heart, tongue).</li>
                        <li>Appearance: waxy, firm, pale, nodular or diffuse depending on the organ and deposit site.</li>
                        <li>In the spleen: nodular or diffuse involvement (“lardaceous” spleen).</li>
                    </ul>
                </li>
                <li><strong>Microscopy (1):</strong>
                    <ul>
                        <li>Amyloid deposits are always extracellular: in connective tissue and vessel walls.</li>
                        <li>On H&E: eosinophilic, structureless, without inflammatory reaction.</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Mécanisme de formation :</strong></li>
            <ul>
                <li><strong>Protéine normale en grandes quantités :</strong>
                    <ul>
                        <li>Production excessive (ex : amyloses dérivées des chaînes légères d’immunoglobulines).</li>
                        <li>Catabolisme insuffisant (ex : amylose des dialysés).</li>
                    </ul>
                </li>
                <li><strong>Protéine anormale :</strong> tendance à former des fibrilles amyloïdes (origine génétique ou altération acquise).</li>
            </ul>

            <li><strong>Aspects anatomopathologiques :</strong></li>
            <ul>
                <li><strong>Macroscopie :</strong>
                    <ul>
                        <li>Amylose discrète : pas d’anomalies visibles.</li>
                        <li>Dépôts abondants : augmentation de taille et volume des organes atteints (foie, rate, rein, cœur, langue).</li>
                        <li>Aspect : infiltration cireuse, ferme, plus pâle, nodulaire ou diffuse.</li>
                        <li>Rate : atteinte nodulaire ou diffuse (“rate lardacée”).</li>
                    </ul>
                </li>
                <li><strong>Microscopie (1) :</strong>
                    <ul>
                        <li>Dépôts amyloïdes toujours extracellulaires : dans le tissu conjonctif et les parois vasculaires.</li>
                        <li>À l’HES : éosinophiles, anhistes, sans réaction inflammatoire.</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</div>







<div class="bubble">
    <button class="interact-button" id="amyloidosis-microscopy-stains" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>المجهرية (2) – الصبغات الخاصة:</strong></li>
        <ul>
            <li>بالـ Congo red: تترسب باللون الأحمر مع <strong>انكسار مزدوج أصفر-أخضر</strong> تحت الضوء المستقطب.</li>
            <li>بالـ Thioflavine (T أو S): تحت الأشعة فوق البنفسجية تُظهر <strong>فلوروسانس أصفر-أخضر</strong>.</li>
            <li>إيجابية بصبغة <strong>PAS</strong>.</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Microscopy (2) – Special stains:</strong></li>
            <ul>
                <li><strong>Congo red:</strong> stains red, with <strong>yellow-green birefringence</strong> under polarized light.</li>
                <li><strong>Thioflavin (T or S):</strong> under UV light, shows <strong>yellow-green fluorescence</strong>.</li>
                <li><strong>PAS positive.</strong></li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Microscopie (2) – Colorations spéciales :</strong></li>
            <ul>
                <li><strong>Rouge Congo :</strong> dépôts rouges avec une <strong>biréfringence jaune-verte</strong> en lumière polarisée.</li>
                <li><strong>Thioflavine (T ou S) :</strong> en lumière ultraviolette → <strong>fluorescence jaune-verte</strong>.</li>
                <li><strong>Positifs au PAS.</strong></li>
            </ul>
        </ul>
    </div>
    
        <br>
  <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="3MED UET  Anatomie et Cytologie Pathologiques/A34.png" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>
</div>




    





<div class="bubble">
    <button class="interact-button" id="amyloidosis-microscopy-ihc" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>المجهرية (3) – الدراسة المناعية النسيجية (IHC):</strong></li>
        <ul>
            <li>تمكّن من تحديد وترميز أفضل للترسبات الأميلويدية.</li>
            <li><strong>الجزء الثابت:</strong> يُكشف بسهولة بأضداد موجهة ضد <strong>المكوّن P</strong>.</li>
            <li><strong>الجزء المتغير:</strong> يُكشف بواسطة أضداد نوعية مثل:
                <ul>
                    <li>Anti-transthyrétine</li>
                    <li>Anti-protéine AA</li>
                    <li>Anti-chaînes légères (κ, λ)</li>
                    <li>Anti-β2-microglobuline</li>
                </ul>
            </li>
            <li><strong>مثال طبي مهم:</strong> 
                <ul>
                    <li><strong>الداء النشواني الوعائي الدماغي (Cerebral amyloid angiopathy - CAA):</strong></li>
                    <ul>
                        <li>يتميز بترسب بروتين <strong>β-amyloïde (Aβ)</strong> في جدران الأوعية الدموية الصغيرة والمتوسطة للدماغ والسحايا.</li>
                        <li>يُشاهد بالصبغة الروتينية HES كمادة زهرية متجانسة على جدار الأوعية.</li>
                        <li>بالمناعة النسيجية (IHC)، تُستخدم أضداد موجهة ضد <strong>βA4</strong> لتأكيد التشخيص.</li>
                        <li><strong>الأهمية السريرية:</strong> يُعد من أسباب النزف الدماغي العفوي عند المسنين، كما يرتبط بمرض الزهايمر.</li>
                    </ul>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Microscopy (3) – Immunohistochemistry (IHC):</strong></li>
            <ul>
                <li>Helps to identify and better characterize amyloid deposits.</li>
                <li><strong>Constant fraction:</strong> detected by an antibody against <strong>P component</strong>.</li>
                <li><strong>Variable fraction:</strong> detected by specific antibodies:
                    <ul>
                        <li>Anti-transthyretin</li>
                        <li>Anti-AA protein</li>
                        <li>Anti-light chains (κ, λ)</li>
                        <li>Anti-β2-microglobulin</li>
                    </ul>
                </li>
                <li><strong>Important example:</strong> 
                    <ul>
                        <li><strong>Cerebral amyloid angiopathy (CAA):</strong></li>
                        <ul>
                            <li>Characterized by deposition of <strong>β-amyloid protein (Aβ)</strong> in walls of small and medium-sized cerebral and meningeal vessels.</li>
                            <li>On H&E, appears as homogeneous eosinophilic material in vascular walls.</li>
                            <li>Confirmed by IHC with <strong>anti-βA4 antibodies</strong>.</li>
                            <li><strong>Clinical relevance:</strong> Major cause of spontaneous lobar intracerebral hemorrhage in elderly, strongly associated with Alzheimer’s disease.</li>
                        </ul>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Microscopie (3) – Étude immunohistochimique :</strong></li>
            <ul>
                <li>Permet d’identifier et de mieux caractériser les dépôts amyloïdes.</li>
                <li><strong>Fraction constante :</strong> révélée par un anticorps dirigé contre le <strong>composant P</strong>.</li>
                <li><strong>Fraction variable :</strong> mise en évidence par des anticorps spécifiques :
                    <ul>
                        <li>Anti-transthyrétine</li>
                        <li>Protéine AA</li>
                        <li>Chaînes légères κ, λ</li>
                        <li>β2-microglobuline</li>
                    </ul>
                </li>
                <li><strong>Exemple clinique majeur :</strong> 
                    <ul>
                        <li><strong>Amylose vasculaire cérébrale (CAA):</strong></li>
                        <ul>
                            <li>Dépôts de <strong>protéine β-amyloïde (Aβ)</strong> dans les parois des petits et moyens vaisseaux cérébraux et méningés.</li>
                            <li>En HES : aspect homogène, éosinophile des parois vasculaires.</li>
                            <li>Confirmée par IHC avec des anticorps anti-βA4.</li>
                            <li><strong>Importance clinique :</strong> cause majeure d’hémorragies intracérébrales lobaires spontanées chez le sujet âgé, associée à la maladie d’Alzheimer.</li>
                        </ul>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</div>













        <div class="bubble">
    <button class="interact-button" id="amyloidosis-cerebral-vascular" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>الداء النشواني الوعائي الدماغي (Amylose vasculaire cérébrale):</strong></li>
        <ul>
            <li>يتميز بترسّب بروتين <strong>β-amyloïde (Aβ, ou βA4)</strong> في جدران الأوعية الدموية الدماغية الصغيرة والمتوسطة.</li>
            <li>غالبًا ما يُشاهد عند المسنين أو في سياق مرض ألزهايمر.</li>
            <li>يؤدي إلى ضعف جدران الأوعية، مما يزيد من خطر النزف الدماغي العفوي (hémorragies lobaires).</li>
        </ul>

        <li><strong>المشاهدة المجهرية (HES):</strong></li>
        <ul>
            <li>تظهر جدران الأوعية سميكة وصلبة مع مادة نشوانية عديمة البنية، زهرية اللون بالإيوزين.</li>
            <li>تغيّر البنية المرنة الطبيعية لجدار الوعاء.</li>
            <li>قد تُرى ترسبات محيطية أو حلقية حول اللمعة.</li>
        </ul>

        <li><strong>الدراسة المناعية (IHC, anti-βA4):</strong></li>
        <ul>
            <li>يكشف الترسبات الأميلويدية بدقة لأنها تحتوي على بروتين <strong>βA4</strong>.</li>
            <li>التلوين المناعي يُظهر واسمات قوية على جدار الأوعية المصابة.</li>
            <li>يساعد في التشخيص التفريقي مع أنواع أخرى من الأميلويد أو ترسبات هيالينية غير نوعية.</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Cerebral vascular amyloidosis:</strong></li>
            <ul>
                <li>Deposition of <strong>β-amyloid protein (Aβ or βA4)</strong> in walls of small and medium cerebral vessels.</li>
                <li>Common in elderly patients or associated with Alzheimer’s disease.</li>
                <li>Causes vessel wall fragility, predisposing to spontaneous lobar intracerebral hemorrhage.</li>
            </ul>

            <li><strong>Microscopy (HES):</strong></li>
            <ul>
                <li>Thickened vascular walls with homogenous, eosinophilic, structureless amyloid deposits.</li>
                <li>Loss of normal elastic architecture of the wall.</li>
                <li>Perivascular or circumferential deposits may be observed.</li>
            </ul>

            <li><strong>Immunohistochemistry (anti-βA4):</strong></li>
            <ul>
                <li>Highlights amyloid deposits specifically containing βA4 protein.</li>
                <li>Shows strong immunostaining along affected vessel walls.</li>
                <li>Useful to distinguish from other amyloid types or nonspecific hyaline deposits.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Amylose vasculaire cérébrale :</strong></li>
            <ul>
                <li>Caractérisée par le dépôt de <strong>protéine β-amyloïde (Aβ ou βA4)</strong> dans les parois des petits et moyens vaisseaux cérébraux.</li>
                <li>Fréquente chez les sujets âgés et dans la maladie d’Alzheimer.</li>
                <li>Provoque une fragilité des parois vasculaires, favorisant les hémorragies cérébrales lobaires spontanées.</li>
            </ul>

            <li><strong>Histologie (HES) :</strong></li>
            <ul>
                <li>Parois vasculaires épaissies et rigides, contenant une substance amyloïde homogène, éosinophile, anhiste.</li>
                <li>Perte de l’architecture élastique normale du vaisseau.</li>
                <li>Dépôts périvasculaires ou circonférentiels visibles selon les cas.</li>
            </ul>

            <li><strong>Immunohistochimie (anticorps anti-βA4) :</strong></li>
            <ul>
                <li>Met en évidence spécifiquement les dépôts amyloïdes riches en βA4.</li>
                <li>Coloration immunohistochimique intense sur les parois vasculaires atteintes.</li>
                <li>Permet le diagnostic différentiel avec d’autres types d’amylose ou dépôts hyalins non spécifiques.</li>
            </ul>
        </ul>
    </div>
    
  <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="3MED UET  Anatomie et Cytologie Pathologiques/A35.png" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>


</div>










<div class="bubble">
    <button class="interact-button" id="amyloidosis-localisations" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>المواضع الرئيسية لترسب الأميلويد:</strong></li>
        <ul>
            <li><strong>الكلية:</strong>
                <ul>
                    <li>الموضع الأساسي والأشيع.</li>
                    <li>عضو متضخم، صلب، ذو قشر (قشرة) متسمكة تحوي بقع شفافة.</li>
                    <li><strong>مجهري:</strong> ترسبات في جدران الشريينات الواردة والصادرة وفي الكبيبات (مظهر "أختام البريد").</li>
                </ul>
            </li>
            <li><strong>الكبد:</strong>
                <ul>
                    <li>ترسبات على طول الجيوب الكبدية.</li>
                    <li>تضغط الخلايا الكبدية وتسبب ضمورها.</li>
                </ul>
            </li>
            <li><strong>الطحال:</strong>
                <ul>
                    <li>تضخم صلب ومنتظم.</li>
                    <li>المظهر يختلف حسب توزع الترسبات:</li>
                    <ul>
                        <li><em>انتشار عام:</em> طحال شمعي "لارداسي".</li>
                        <li><em>في اللب الأبيض:</em> حبيبات صغيرة شفافة.</li>
                    </ul>
                    <li><strong>مجهري:</strong> ترسبات على طول الشريينات (اللب الأبيض) ثم على ألياف الريتيكولين في اللب الأحمر.</li>
                </ul>
            </li>
            <li><strong>القلب:</strong>
                <ul>
                    <li>شائع عند المسنين.</li>
                    <li>التوضع في: التامور، الطبقة الوسطى والبرانية للشريينات والوريدات، والنسيج الموصل داخل الشغاف.</li>
                    <li>قد يكون الترسب منتشرًا أو عقيديًا.</li>
                </ul>
            </li>
            <li><strong>اللسان:</strong> ضخامة لسانية (macroglossie).</li>
            <li><strong>الجلد تحت الجلد:</strong> كتل صفراء حول الحجاج.</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Main localisations of amyloid deposits:</strong></li>
            <ul>
                <li><strong>Kidney:</strong>
                    <ul>
                        <li>Principal and most frequent site.</li>
                        <li>Enlarged, firm kidney with thickened cortex dotted with translucent spots.</li>
                        <li><strong>Microscopy:</strong> deposits in afferent/efferent arterioles and glomeruli (typical "signet-ring / sealing wax" appearance).</li>
                    </ul>
                </li>
                <li><strong>Liver:</strong>
                    <ul>
                        <li>Deposits along hepatic sinusoids.</li>
                        <li>Compression and atrophy of hepatocytes.</li>
                    </ul>
                </li>
                <li><strong>Spleen:</strong>
                    <ul>
                        <li>Firm, regular hypertrophy.</li>
                        <li>Appearance depends on topography:</li>
                        <ul>
                            <li><em>Diffuse involvement:</em> waxy or "lardaceous" spleen.</li>
                            <li><em>White pulp:</em> small translucent granules.</li>
                        </ul>
                        <li><strong>Microscopy:</strong> deposits along arterioles (white pulp), then along reticulin fibers in red pulp.</li>
                    </ul>
                </li>
                <li><strong>Heart:</strong>
                    <ul>
                        <li>Frequent in elderly subjects.</li>
                        <li>Deposits in pericardium, media/adventitia of arterioles and venules, and endocardial conduction tissue.</li>
                        <li>May be diffuse or nodular.</li>
                    </ul>
                </li>
                <li><strong>Tongue:</strong> macroglossia.</li>
                <li><strong>Subcutaneous tissue:</strong> yellowish peri-orbital masses.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Principales localisations de l’amylose :</strong></li>
            <ul>
                <li><strong>Rein :</strong>
                    <ul>
                        <li>Localisation principale.</li>
                        <li>Rein volumineux, ferme, cortex épaissi et parsemé de taches translucides.</li>
                        <li><strong>Micro :</strong> dépôts dans la paroi des artérioles afférentes/efférentes et dans les glomérules (aspect en « pains à cacheter »).</li>
                    </ul>
                </li>
                <li><strong>Foie :</strong>
                    <ul>
                        <li>Dépôts le long des sinusoïdes.</li>
                        <li>Compression et atrophie des hépatocytes.</li>
                    </ul>
                </li>
                <li><strong>Rate :</strong>
                    <ul>
                        <li>Hypertrophie ferme et régulière.</li>
                        <li>Aspect variable selon la topographie :</li>
                        <ul>
                            <li><em>Globale :</em> rate cireuse « lardacée ».</li>
                            <li><em>Pulpe blanche :</em> petites granulations translucides.</li>
                        </ul>
                        <li><strong>Micro :</strong> dépôts le long des artérioles (pulpe blanche), puis le long des fibres de réticuline de la pulpe rouge.</li>
                    </ul>
                </li>
                <li><strong>Cœur :</strong>
                    <ul>
                        <li>Fréquente chez le sujet âgé.</li>
                        <li>Péricarde : média et adventice des artérioles et veinules.</li>
                        <li>Endocarde : dépôts interstitiels et dans le tissu de conduction.</li>
                        <li>Aspect diffus ou nodulaire.</li>
                    </ul>
                </li>
                <li><strong>Langue :</strong> macroglossie.</li>
                <li><strong>Tissu sous-cutané :</strong> masses jaunâtres péri-orbitaires.</li>
            </ul>
        </ul>
    </div>
</div>







<div class="bubble">
    <button class="interact-button" id="amyloidosis-classification" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>تصنيف الداء النشواني (Amylose):</strong></li>
        <ul>
            <li>يعتمد التصنيف الحديث على 3 معايير:
                <ul>
                    <li>الطابع الوراثي أو المكتسب.</li>
                    <li>مدى الانتشار: ترسبات موضعية أو معممة.</li>
                    <li>الطبيعة البيوكيميائية للمادة النشوانية.</li>
                </ul>
            </li>
            <li><strong>أمثلة:</strong>
                <ul>
                    <li><strong>Amylose AL / AH:</strong> ناتجة عن إنتاج سلاسل خفيفة أو ثقيلة غير طبيعية في متلازمات تكاثرية لمفاوية أو نخاعية. تتوضع في الكلية، الطحال، القلب، والأنسجة تحت الجلد.</li>
                    <li><strong>Amylose AA:</strong>
                        <ul>
                            <li>مكتسبة تفاعلية: كمضاعفة للأمراض الروماتيزمية أو الإنتانات المزمنة.</li>
                            <li>وراثية (حمى البحر الأبيض المتوسط العائلية): عند سكان حوض المتوسط، مع توضع نشواني واسع متعدد الأعضاء.</li>
                        </ul>
                    </li>
                    <li><strong>Amylose héréditaire:</strong> ذات ميل عصبي (طفرات في بروتين TTR).</li>
                    <li><strong>Amylose sénile:</strong> مرتبطة بـ TTR غير مطفر.</li>
                    <li><strong>Amylose des hémodialysés:</strong> تترسب خاصة في الجهاز العظمي والمفصلي.</li>
                    <li><strong>Amylose βA4:</strong> في مرض ألزهايمر.</li>
                </ul>
            </li>
        </ul>

        <li><strong>التشخيص:</strong></li>
        <ul>
            <li>أساسًا بالفحص النسيجي.</li>
            <li>الخزعات المفضلة:
                <ul>
                    <li>غدد لعابية صغيرة (حلت محل اللثة والمستقيم في الأشكال الجهازية).</li>
                    <li>الكلية (عند وجود بروتينية).</li>
                    <li>الكبد.</li>
                    <li>العضو المصاب في الأشكال الموضعية.</li>
                </ul>
            </li>
        </ul>

        <li><strong>التشخيص التفريقي:</strong></li>
        <ul>
            <li>الترسبات الهيالينية.</li>
            <li>الترسبات الفبرينوئيدية.</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Amyloidosis classification:</strong></li>
            <ul>
                <li>Based on 3 criteria:
                    <ul>
                        <li>Hereditary vs acquired.</li>
                        <li>Diffuse vs localized deposits.</li>
                        <li>Biochemical nature of amyloid substance.</li>
                    </ul>
                </li>
                <li><strong>Examples:</strong>
                    <ul>
                        <li><strong>AL / AH amyloidosis:</strong> abnormal light/heavy chains from lymphoid or myeloproliferative syndromes. Involves kidney, spleen, heart, subcutaneous tissue.</li>
                        <li><strong>AA amyloidosis:</strong>
                            <ul>
                                <li>Reactive acquired: complication of chronic rheumatic or infectious diseases.</li>
                                <li>Familial Mediterranean fever: in Mediterranean populations, massive multivisceral amyloid deposition.</li>
                            </ul>
                        </li>
                        <li><strong>Hereditary amyloidosis:</strong> nerve tropism (mutated transthyretin, TTR).</li>
                        <li><strong>Senile amyloidosis:</strong> non-mutated TTR component.</li>
                        <li><strong>Dialysis-related amyloidosis:</strong> mainly osteoarticular involvement.</li>
                        <li><strong>βA4 amyloidosis:</strong> in Alzheimer’s disease.</li>
                    </ul>
                </li>
            </ul>

            <li><strong>Diagnosis:</strong></li>
            <ul>
                <li>Histological examination is key.</li>
                <li>Preferred biopsies:
                    <ul>
                        <li>Minor salivary glands (replacing gingival/rectal biopsies).</li>
                        <li>Kidney (proteinuria).</li>
                        <li>Liver.</li>
                        <li>In localized forms: biopsy of the affected organ.</li>
                    </ul>
                </li>
            </ul>

            <li><strong>Differential diagnosis:</strong></li>
            <ul>
                <li>Hyaline deposits.</li>
                <li>Fibrinoid deposits.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Classification de l’amylose :</strong></li>
            <ul>
                <li>Basée sur 3 critères :
                    <ul>
                        <li>Caractère héréditaire ou acquis.</li>
                        <li>Dépôts diffus ou localisés.</li>
                        <li>Nature biochimique de la substance amyloïde.</li>
                    </ul>
                </li>
                <li><strong>Exemples :</strong>
                    <ul>
                        <li><strong>Amylose AL / AH :</strong> production anormale de chaînes légères/lourdes (syndromes lympho- et myéloprolifératifs). Atteint reins, rate, cœur, tissu sous-cutané.</li>
                        <li><strong>Amylose AA :</strong>
                            <ul>
                                <li>Acquise réactionnelle : complication de maladies rhumatismales ou infections chroniques.</li>
                                <li>Fièvre méditerranéenne familiale : populations méditerranéennes, dépôts massifs multiviscéraux.</li>
                            </ul>
                        </li>
                        <li><strong>Amylose héréditaire :</strong> tropisme nerveux (mutation de la TTR).</li>
                        <li><strong>Amylose sénile :</strong> TTR non mutée.</li>
                        <li><strong>Amylose des hémodialysés :</strong> prédominance ostéo-articulaire.</li>
                        <li><strong>Amylose βA4 :</strong> dans la maladie d’Alzheimer.</li>
                    </ul>
                </li>
            </ul>

            <li><strong>Diagnostic :</strong></li>
            <ul>
                <li>Avant tout histologique.</li>
                <li>Biopsies privilégiées :
                    <ul>
                        <li>Glandes salivaires accessoires (remplaçant gencive/rectum dans les formes systémiques).</li>
                        <li>Rein (en cas de protéinurie).</li>
                        <li>Foie.</li>
                        <li>Organe atteint dans les formes localisées.</li>
                    </ul>
                </li>
            </ul>

            <li><strong>Diagnostic différentiel :</strong></li>
            <ul>
                <li>Dépôts hyalins.</li>
                <li>Dépôts fibrinoïdes.</li>
            </ul>
        </ul>
    </div>
</div>






<div class="bubble">
    <button class="interact-button" id="amyloidosis-conclusion" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>الخاتمة:</strong></li>
        <ul>
            <li>أي خلل بين عملية تصنيع أو تفكيك مكونات <strong>المادة خارج الخلوية (MEC)</strong> يؤدي إلى تراكمات غير طبيعية في الأنسجة والأعضاء.</li>
            <li><strong>دور اختصاصي التشريح المرضي:</strong>
                <ul>
                    <li><strong>تشخيصي:</strong> كشف وجود الترسبات وتحديد طبيعتها.</li>
                    <li><strong>سببي (Etiologique):</strong> توجيه الاستقصاءات السريرية نحو السبب الكامن.</li>
                    <li><strong>إنذاري (Pronostic):</strong> مثل تقييم شدة التليف في التهابات الكبد المزمنة.</li>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Conclusion:</strong></li>
            <ul>
                <li>Any imbalance between synthesis and degradation of <strong>extracellular matrix (ECM)</strong> components leads to abnormal deposits in tissues and organs.</li>
                <li><strong>Role of the pathologist:</strong>
                    <ul>
                        <li><strong>Diagnostic:</strong> Identification and characterization of deposits.</li>
                        <li><strong>Etiological:</strong> Guiding clinical investigations towards the underlying cause.</li>
                        <li><strong>Prognostic:</strong> For example, assessing the degree of fibrosis in chronic hepatitis.</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Conclusion :</strong></li>
            <ul>
                <li>Tout déséquilibre entre la synthèse et la dégradation des éléments de la <strong>MEC</strong> entraîne des dépôts anormaux dans les tissus et les organes.</li>
                <li><strong>Rôle du pathologiste :</strong>
                    <ul>
                        <li><strong>Diagnostique :</strong> mettre en évidence et caractériser les dépôts.</li>
                        <li><strong>Étiologique :</strong> orienter les explorations cliniques vers la cause sous-jacente.</li>
                        <li><strong>Pronostique :</strong> par exemple, évaluer le degré de fibrose dans les hépatites chroniques.</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</div>





<!-- تصميم جديد كليًا بدون خاصية الطفو -->
<div style="display: flex; justify-content: center; align-items: center; height: 200px; background-color: #f5f5f5; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

  <button style="background-color: #d32f2f; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease;">
    إضافات  قريبا 
  </button>

</div>

























    <div id="end-lesson-modal">
        <h3>أحسنت يا طبيبنا إن شاء الله!</h3>
        <p id="lesson-summary">الوقت المستغرق: 00 دقيقة و 00 ثانية. عدد الفقاعات التي تم التفاعل معها: 0 من أصل 0.</p>
        <button class="reload-button" onclick="reloadPage()">إعادة الحفظ</button>
        <button onclick="goToTestsPage()">الانتقال إلى صفحة الاختبارات</button>
    </div>

    <div class="modal" id="question-modal">
        <h3 id="modal-question">هل حفظت هذه الفقاعة؟</h3>
        <button onclick="closeModal(true)">نعم</button>
        <button onclick="closeModal(false)">لا</button>
    </div>

    <script>
    let totalBubbles = 23; 
    let completedBubbles = 0; 
    let startTime = Date.now();
    let bubbleButton = null;
    
    function showQuestion() {
        document.getElementById('question-modal').style.display = 'block';
    }
    
    function closeModal(answer) {
        document.getElementById('question-modal').style.display = 'none';
    
        if (answer) {
            completedBubbles++;
            updateProgress();
            bubbleButton.style.backgroundColor = '#4CAF50'; 
            bubbleButton.innerText = 'تم التفاعل'; 
            bubbleButton.disabled = true; 
    
            if (completedBubbles === totalBubbles) {
                enableFinishButton();
            }
        }
    }
    
    function updateProgress() {
        let progress = (completedBubbles / totalBubbles) * 100; 
        document.getElementById('progress-bar').style.width = `${progress}%`;
        document.getElementById('progress-percentage').innerText = `${Math.round(progress)}%`;
    
        const finishButton = document.querySelector('.finish-button');
        if (progress === 100) {
            finishButton.disabled = false; 
            finishButton.style.backgroundColor = '#00aaff'; 
            finishButton.style.cursor = 'pointer'; 
        } else {
            finishButton.disabled = true;
            finishButton.style.backgroundColor = '#ccc'; 
            finishButton.style.cursor = 'not-allowed'; 
        }
    }
    
    function markBubbleAsCompleted(button) {
        bubbleButton = button; 
        showQuestion(); 
    }
    
    function finishLesson() {
        let elapsedTime = Date.now() - startTime;
        let minutes = Math.floor(elapsedTime / 60000);
        let seconds = Math.floor((elapsedTime % 60000) / 1000);
        let summary = `الوقت المستغرق: ${minutes} دقيقة و ${seconds} ثانية. عدد الفقاعات التي تم التفاعل معها: ${completedBubbles} من أصل ${totalBubbles}.`;
        document.getElementById('lesson-summary').innerText = summary;
        document.getElementById('end-lesson-modal').style.display = 'block';
    }
    
    function reloadPage() {
        location.reload();
    }
    
    function goToTestsPage() {
        window.location.href = 'MED02.html';
    }
    
    function initializeFinishButton() {
        const finishButton = document.querySelector('.finish-button');
        finishButton.disabled = true; 
        finishButton.style.backgroundColor = '#ccc'; 
        finishButton.style.cursor = 'not-allowed'; 
    }
    
    window.onload = initializeFinishButton;
    
    // وظيفة للانتقال إلى أول فقاعة غير مكتملة
    function goToUncompletedBubble() {
        let bubbles = document.querySelectorAll('.interact-button');
        for (let bubble of bubbles) {
            if (!bubble.disabled) { // تعني أن الفقاعة لم يتم التفاعل معها
                bubble.scrollIntoView({ behavior: 'smooth', block: 'center' });
                bubble.style.border = "3px solid red"; // تمييزها باللون الأحمر
                break;
            }
        }
    }
    </script>
    
</body>
</html>




























































<br><br><br><br><br><br><br>




<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📚 بطاقات فلاش تفاعلية</title>
    <style>
        body {
            font-family: 'Amiri', serif;
            background-color: #121212;
            color: #fff;
            text-align: center;
            padding: 20px;
            margin: 0;
            direction: rtl;
        }

        .flashcard {
            width: 100%;
            height: 300px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .flipped {
            transform: rotateY(180deg);
        }

        .flashcard-side {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(255, 255, 255, 0.2);
        }

        .front {
            background-color: #1e1e1e;
        }

        .back {
            background-color: #2c2c2c;
            transform: rotateY(180deg);
        }

        .flashcard-image {
            width: 40%;
            height: 100%;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .flashcard-image img {
            max-width: 100%;
            max-height: 100%;
            transition: transform 0.3s ease-in-out;
            cursor: pointer;
        }

        .flashcard-image img.expanded {
            transform: scale(1.5);
        }

        .flashcard-content {
            width: 65%;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            text-align: right;
            direction: rtl;
            overflow-y: auto;
            max-height: 150px;
            white-space: normal;
            word-wrap: break-word;
            position: relative;
        }
        .hint-container {
    position: fixed; /* استخدم fixed لجعل التلميح ثابتًا في المكان */
    top: -190px; /* 20px من أعلى الصفحة */
    left: 50%;
    transform: translateX(-50%); /* لتوسيط التلميح بشكل أفقي */
    width: 80%; /* عرض التلميح */
    background-color: rgba(0, 0, 0, 0.7);
    padding: 10px;
    border-radius: 10px;
    font-size: 16px;
    color: #f1c40f;
    box-shadow: 0 4px 8px rgba(255, 255, 255, 0.2);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease-out;
}

        /* عند إظهار التلميح */
        .hint-container.show {
            opacity: 1;
            pointer-events: auto;
        }

        .buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 15px;
            gap: 10px;
        }

        .navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s, transform 0.2s;
        }

        button:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }

        .arrow {
            font-size: 30px;
            cursor: pointer;
            transition: color 0.3s, transform 0.2s;
        }

        .arrow:hover {
            color: #00aaff;
            transform: scale(1.2);
        }

        @media (max-width: 480px) {
            .flashcard {
                height: 230px;
            }

            .flashcard-image {
                width: 40%;
                max-height: 150px;
            }

            .flashcard-content {
                font-size: 14px;
                padding: 10px;
                max-height: 120px;
            }

            button {
                font-size: 14px;
                padding: 8px;
            }
        }
    </style>
</head>
<body>
       

            <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 30vh; text-align: center;">
      
                <h2  id="flashcard-section">📚 بطاقات فلاش تفاعلية</h2>
         
            </div>
            

   
    <div class="flashcard-container" onclick="flipCard(event)">
        <div class="flashcard" id="flashcard">
            <div class="flashcard-side front">
                <div class="flashcard-image">
                    <img id="cardImageFront" src="" alt="صورة البطاقة" onclick="toggleImageSize(this)">
                </div>
                <div class="flashcard-content">
                    <h3 id="question"></h3>
                    <!-- حاوية التلميح -->
                    <div id="hintContainer" class="hint-container">
                        <p id="hint" class="hint"></p>
                    </div>
                </div>
            </div>
            <div class="flashcard-side back">
                <div class="flashcard-image">
                    <img id="cardImageBack" src="" alt="صورة البطاقة" onclick="toggleImageSize(this)">
                </div>
                <div class="flashcard-content">
                    <h3>الإجابة:</h3>
                    <p id="answer"></p>
                </div>
            </div>
        </div>
    </div>

    <br><br>
    <div class="buttons">
        <button onclick="showHint()">🔍 تلميح</button>
        <button onclick="shuffleCards()">🔀 خلط البطاقات</button>
    </div>

    <br>
    <div class="navigation">
        <span class="arrow" onclick="nextCard()">➡️</span>
        <span id="cardNumber">1 / 3</span>
        <span class="arrow" onclick="prevCard()">⬅️</span>
    </div>

    <script>
        const flashcards = [
            {
                question : "خمن البيانات والعنوان:<br>🔹 باللغة العربية (AR): خمن البيانات والعنوان<br>🔹 باللغة الإنجليزية (EN): Guess the data and the title<br>🔹 باللغة الفرنسية (FR): Devinez les données et le titre",
                hint : "🔍 شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5 (AR)<br>🔍 In English (EN): Axial slice from a CT scan / TDM of the chest at the Th5 level<br>🔍 En français (FR): Coupe axiale d'un scanner TDM du thorax au niveau Th5",
                answer: `
                    <ul style="padding-right: 20px; text-align: right; direction: rtl; list-style: none; line-height: 1.8; font-size: 18px;">
                        <li><b>  العنوان:</b><br>
                            🔹 <b>شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5.  (AR):</b><br>
                            🔹 <b>Axial slice of a CT scan / TDM of the thorax at the Th5 level.  (EN):</b><br>
                            🔹 <b> Coupe axiale d'un scanner / TDM thoracique au niveau Th5 (FR):</b>
               
                        </li><br>
                        <span style="font-size: 20px; font-weight: bold;">🔍 شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5:</span><br>
                        <ol style="padding-right: 20px; text-align: right;">
                            <li>1️⃣ : الرئة اليمنى (Right Lung) - <i>Poumon droit</i></li><br>
                            <li>2️⃣ : الرئة اليسرى (Left Lung) - <i>Poumon gauche</i></li><br>
                            <li>3️⃣ : الجذع الرئوي (Pulmonary Trunk) - <i>Tronc pulmonaire</i></li><br>
                            <li>4️⃣ : الشريان الرئوي الأيمن (Right Pulmonary Artery) - <i>Artère pulmonaire droite</i></li><br>
                            <li>5️⃣ : الشريان الرئوي الأيسر (Left Pulmonary Artery) - <i>Artère pulmonaire gauche</i></li><br>
                            <li>6️⃣ : الوريد الأجوف العلوي (Superior Vena Cava) - <i>Veine cave supérieure</i></li><br>
                            <li>7️⃣ : الأبهر الصدري الصاعد (Ascending Thoracic Aorta) - <i>Aorte thoracique ascendante</i></li><br>
                            <li>8️⃣ : الأبهر الصدري النازل (Descending Thoracic Aorta) - <i>Aorte thoracique descendante</i></li><br>
                            <li>9️⃣ : الوريد الرئوي الأيسر (Left Pulmonary Vein) - <i>Veine pulmonaire gauche</i></li><br>
                            <li>🔟 : الكتف الأيسر (Left Scapula) - <i>Scapula gauche</i></li><br>
                        </ol>
                    </ul>
                `,
                imageFront: "2MEDU1ANATOMIE/A101.png", // صورة الجهة الأمامية
                imageBack: "2MEDU1ANATOMIE/A101.png", // صورة الجهة الخلفية
                isHtml: true
            },
    {
        question: `🔹 <b>  خمن الشرايين الوربية( Costal) التي تغذي الغدة الثديية.   </b> 🔹<br>
        🔹 <b>باللغة العربية (AR):</b> خمن الشرايين الوربية( intercostal) التي تغذي الغدة الثديية.  br>
        🔹 <b>In English (EN):</b> Guess the intercostal arteries that supply the mammary gland<br>
        🔹 <b>En français (FR):</b> Devinez les artères intercostales qui irriguent la glande mammaire`,
        
        hint: `🔍 <b>تلميح / Hint / Indice</b><br>
        🔴 <b>باللغة العربية (AR):</b> عددها ثلاثة بالترتيب.<br>
        🔵 <b>In English (EN):</b> They are three in order.<br>
        ⚪ <b>En français (FR):</b> Ils sont au nombre de trois dans l'ordre.`,
        
        answer: `
            <div style="text-align: center;">
                <ul style="padding-right: 20px; text-align: right; direction: rtl; list-style: none; line-height: 1.8; font-size: 18px;">
                    <li>2️⃣ <b>الشريان الوربي الثاني</b> (Intercostal Artery 2) - <i>Deuxième artère intercostale</i></li><br>
                    <li>3️⃣ <b>الشريان الوربي الثالث</b> (Intercostal Artery 3) - <i>Troisième artère intercostale</i></li><br>
                    <li>4️⃣ <b>الشريان الوربي الرابع</b> (Intercostal Artery 4) - <i>Quatrième artère intercostale</i></li><br>
                </ul>
            </div>
        `,
        imageFront: "/A101.png", // صورة الجهة الأمامية
                imageBack: "2MED U4 ANATOMIE/A47.jpg", // صورة الجهة الخلفية
                isHtml: true
    }



    ];

let currentIndex = 0;
let flipped = false;

function updateCard() {
    const card = flashcards[currentIndex];
    document.getElementById("question").innerHTML = card.question;
    document.getElementById("answer").innerHTML = card.answer;
    document.getElementById("cardImageFront").src = card.imageFront;
    document.getElementById("cardImageBack").src = card.imageBack;
    document.getElementById("cardNumber").textContent = `${currentIndex + 1} / ${flashcards.length}`;
}

function flipCard(event) {
    event.stopPropagation();
    flipped = !flipped;
    document.getElementById("flashcard").classList.toggle("flipped", flipped);
}

function nextCard() {
    currentIndex = (currentIndex + 1) % flashcards.length;
    flipped = false;
    document.getElementById("flashcard").classList.remove("flipped");
    updateCard();
}

function prevCard() {
    currentIndex = (currentIndex - 1 + flashcards.length) % flashcards.length;
    flipped = false;
    document.getElementById("flashcard").classList.remove("flipped");
    updateCard();
}

updateCard();
</script>




























<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>نظام الأزرار العائمة الذكي - نسخة الهاتف</title>

    <style>
        .floating-system {
            position: fixed;
            z-index: 9999;
            bottom: 25px;
            left: 25px; /* تغيير من right إلى left */
            display: flex;
            flex-direction: row;
            gap: 15px;
            align-items: center;
            touch-action: none;
        }
        
        /* الزر الرئيسي */
        .main-floating-btn {
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(108, 92, 231, 0.4);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            -webkit-tap-highlight-color: transparent;
            position: relative;
            order: 1;
        }
    
        /* الأزرار الثانوية */
        .secondary-btn {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, #00b894, #55efc4);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 22px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 184, 148, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateX(30px);
            visibility: hidden;
            -webkit-tap-highlight-color: transparent;
            position: relative;
        }
        
        .secondary-btn.search-btn {
            background: linear-gradient(135deg, #0984e3, #74b9ff);
        }
        
        .secondary-btn.speech-btn {
            background: linear-gradient(135deg, #e17055, #fab1a0);
        }
        
        .secondary-btn.contact-btn {
            background: linear-gradient(135deg, #fd79a8, #ff9ff3);
        }
        
        .secondary-btn.flashcard-btn {
            background: linear-gradient(135deg, #fdcb6e, #ffeaa7);
            color: #333;
        }
    
      .secondary-btn.eldars-btn {
          background: linear-gradient(135deg, #9b59b6, #8e44ad);
      }
  
        /* حالة الأزرار عند الفتح */
        .floating-system.expanded {
            flex-direction: row-reverse;
        }
        
        .floating-system.expanded .secondary-btn {
            opacity: 1;
            transform: translateX(0);
            visibility: visible;
        }
        
        .floating-system.expanded .search-btn {
            transition-delay: 0.1s;
        }
        
        .floating-system.expanded .speech-btn {
            transition-delay: 0.2s;
        }
        
        .floating-system.expanded .contact-btn {
            transition-delay: 0.3s;
        }
        
        .floating-system.expanded .flashcard-btn {
            transition-delay: 0.4s;
        }
            
      .floating-system.expanded .eldars-btn {
          transition-delay: 0.5s;
      }
    
        /* تأثير النبض */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0.7); }
            70% { box-shadow: 0 0 0 12px rgba(108, 92, 231, 0); }
            100% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0); }
        }
    
        .pulse-effect {
            animation: pulse 1.5s infinite;
        }
    
        /* تحسينات للهواتف الصغيرة */
        @media (max-width: 480px) {
            .floating-system {
                bottom: 20px;
                left: 20px; /* تغيير من right إلى left */
                gap: 12px;
            }
            
            .main-floating-btn {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }
            
            .secondary-btn {
                width: 52px;
                height: 52px;
                font-size: 22px;
            }
            
            /* زيادة مساحة الضغط */
            .main-floating-btn::after,
            .secondary-btn::after {
                content: '';
                position: absolute;
                top: -15px;
                left: -15px;
                right: -15px;
                bottom: -15px;
            }
        }
    
        /* أنماط القلم الناطق */
        .notification {
            position: fixed;
            bottom: 100px;
            right: 20px;
            background: #008cff;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            font-size: 18px;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.5s, transform 0.5s;
            display: none;
            z-index: 9998;
            max-width: 80%;
        }
    
        .show-notification {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }
        
        /* أنماط البحث */
        .search-bubble {
            position: fixed;
            bottom: 120px;
            right: 30px;
            width: 350px;
            max-height: 60vh;
            background-color: rgb(82, 82, 82);
            border-radius: 18px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            display: none;
            flex-direction: column;
            z-index: 10000;
            overflow: hidden;
            animation: bubbleAppear 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
    
        .search-bubble.show {
            display: flex;
        }
    
        @keyframes bubbleAppear {
            from {
                transform: translateY(20px) scale(0.9);
                opacity: 0;
            }
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }
    
        .bubble-header {
            padding: 15px;
            background-color: #ffffff;
            border-bottom: 1px solid #424242;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    
        .bubble-title {
            font-weight: bold;
            color: #333;
        }
    
        .close-bubble {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #777;
            padding: 0;
            margin: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    
        .bubble-content {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }
    
        .search-input {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: none;
            border-bottom: 2px solid #989898;
            outline: none;
        }
    
        .search-input:focus {
            border-bottom-color: #2185d0;
        }
    
        .search-results {
            max-height: calc(60vh - 120px);
            overflow-y: auto;
        }
    
        .result-item {
            padding: 15px;
            border-bottom: 1px solid #747272;
            cursor: pointer;
            transition: background 0.2s;
        }
    
        .result-item:hover {
            background-color: #393737;
        }
    
        .result-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2185d0;
        }
    
        .highlight {
            background-color: #009c05;
            padding: 0 2px;
            border-radius: 3px;
        }
        .no-results {
            padding: 20px;
            text-align: center;
            color: #999;
        }
    
        @media (max-width: 768px) {
            .search-bubble {
                right: 15px;
                width: calc(100% - 30px);
                max-height: 50vh;
                bottom: 100px;
            }
            
            .search-results {
                max-height: calc(50vh - 120px);
            }
        }
        
        /* أنماط نافذة التواصل */
        .popupCONTACT {
            position: fixed;
            top: 50%;
            right: 50%;
            transform: translate(50%, -50%);
            width: 90%;
            max-width: 300px;
            background: #ffffff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            z-index: 1001;
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }
    
        .close-btnCONTACT {
            position: absolute;
            top: 10px;
            left: 10px;
            background: transparent;
            border: none;
            font-size: 22px;
            color: #ff4d4d;
            cursor: pointer;
            font-weight: bold;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    
        .contact-containerCONTACT {
            text-align: center;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            margin: auto;
        }
    
        .contact-titleCONTACT {
            font-size: 22px;
            margin-bottom: 10px;
        }
    
        .contact-textCONTACT {
            font-size: 16px;
            color: #333;
            margin-bottom: 15px;
        }
    
        .social-linksCONTACT {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
    
        .btnCONTACT {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 12px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 16px;
            font-weight: bold;
            color: white;
            transition: 0.3s;
        }
    
        .telegram-btnCONTACT { background: #0088cc; }
        .facebook-btnCONTACT { background: #1877f2; }
        .instagram-btnCONTACT { background: #e1306c; }
    
  
  
  
  
   /* أنماط نافذة Eldars */
   .eldars-popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  max-width: 600px;
  height: 80vh;
  background: white;
  border-radius: 15px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  z-index: 10010;
  display: none;
  overflow: hidden;
  animation: fadeIn 0.3s ease-in-out;
  }
  
  .eldars-popup.show {
  display: block;
  }
  
  .eldars-header {
  padding: 15px;
  background: #9b59b6;
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  }
  
  .eldars-title {
  font-weight: bold;
  font-size: 18px;
  }
  
  .close-eldars {
  background: none;
  border: none;
  color: white;
  font-size: 24px;
  cursor: pointer;
  }
  
  .eldars-content {
  width: 100%;
  height: calc(100% - 50px);
  overflow: hidden;
  position: relative;
  }
  
  .eldars-iframe {
  width: 100%; /* عرض العنصر 100% ليشغل المساحة المتاحة */
  height: 100%; /* ارتفاع العنصر 100% ليشغل المساحة المتاحة */
  position: absolute;
  top: 0;
  left: 0;
  transform: none; /* إزالة التكبير الزائد */
  border: none;
  overflow: auto; /* تمكين التمرير داخل الـiframe إذا لزم الأمر */
  }
  
  /* تحسين العرض على الشاشات الصغيرة (الهواتف) */
  @media (max-width: 768px) {
  .eldars-popup {
      max-width: 90%;
      height: 85vh; /* تقليل ارتفاع النافذة لتكون أكثر مرونة */
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  /* تحسين العرض على الشاشات الصغيرة جدًا (الهاتف المحمول) */
  @media (max-width: 480px) {
  .eldars-popup {
      max-width: 95%;
      height: 90vh;
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  /* تحسين العرض على الشاشات الكبيرة */
  @media (min-width: 1024px) {
  .eldars-popup {
      max-width: 800px;
      height: 80vh;
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(50%, -45%); }
            to { opacity: 1; transform: translate(50%, -50%); }
        }
    
        /* تحسينات للهواتف الصغيرة */
        @media (max-width: 480px) {
            .floating-system {
                bottom: 15px;
                left: 15px; /* تغيير من right إلى left */
                gap: 8px;
            }
            
            .main-floating-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .secondary-btn {
                width: 42px;
                height: 42px;
                font-size: 18px;
            }
            
            /* تحسينات للبحث على الشاشات الصغيرة */
            .search-bubble {
                bottom: 90px;
                max-height: 60vh;
            }
            
            /* تحسينات لنافذة التواصل */
            .popupCONTACT {
                max-width: 90%;
                padding: 15px;
            }
            
            .contact-titleCONTACT {
                font-size: 18px;
            }
            
            .contact-textCONTACT {
                font-size: 14px;
            }
            
            .btnCONTACT {
                padding: 10px;
                font-size: 14px;
            }
            
            /* زيادة مساحة الضغط للأزرار */
            .main-floating-btn::after,
            .secondary-btn::after {
                content: '';
                position: absolute;
                top: -10px;
                left: -10px;
                right: -10px;
                bottom: -10px;
            }
            
            /* تحسينات للإشعارات */
            .notification {
                bottom: 80px;
                right: 10px;
                font-size: 14px;
                padding: 10px 15px;
            }
        }
    
        /* تحسينات إضافية للشاشات الصغيرة جدًا */
        @media (max-width: 360px) {
            .floating-system {
                bottom: 10px;
                left: 10px; /* تغيير من right إلى left */
                gap: 6px;
            }
            
            .main-floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }
            
            .secondary-btn {
                width: 38px;
                height: 38px;
                font-size: 16px;
            }
        }
        </style>
    </style>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- نظام الأزرار العائمة -->
    <div class="floating-system" id="floatingSystem">
        <!-- الأزرار الثانوية -->
        <button class="secondary-btn flashcard-btn" id="flashcardBtn" title="البطاقات التعليمية">
            <i class="far fa-copy"></i>
        </button>
        
        <button class="secondary-btn contact-btn" id="contactBtn" title="الدعم الفني">
            <i class="fas fa-headset"></i>
        </button>


    



        <button class="secondary-btn speech-btn" id="speechBtn" title="القلم الناطق">
            <i class="fas fa-microphone-alt"></i>
        </button>
        
        <button class="secondary-btn search-btn" id="searchBtn" title="البحث الذكي">
            <i class="fas fa-search"></i>
        </button>
        
        <!-- الزر الرئيسي -->
        <button class="main-floating-btn" id="mainFloatingBtn">
            <i class="fas fa-plus"></i>
        </button>
    </div>


    <!-- إشعارات القلم الناطق -->
    <div id="notification" class="notification"></div>


    <div>
        <label>🔹 اختر جنس الصوت:</label>
        <select id="voiceGender">
            <option value="male">ذكر</option>
            <option value="female">أنثى</option>
        </select>
    </div>

    <div class="speed-control">
        <label for="speedRange">🔊 سرعة الصوت:</label>
        <input type="range" id="speedRange" min="0.5" max="2" step="0.1" value="1">
    </div>
    <!-- فقاعة البحث -->
    <div class="search-bubble" id="searchBubble">
        <div class="bubble-header">
            <div class="bubble-title">البحث في الموقع</div>
            <button class="close-bubble" id="closeBubble" aria-label="إغلاق البحث">×</button>
        </div>
        <div class="bubble-content">
            <input type="text" class="search-input" id="searchInput" 
                   placeholder="اكتب كلمة البحث..." autocomplete="off"
                   aria-label="مربع البحث">
            <div class="search-results" id="searchResults"></div>
        </div>
    </div>

    <!-- نافذة التواصل -->
    <div class="popupCONTACT" id="popupCONTACT">
        <button class="close-btnCONTACT" id="closeContactBtn">✖</button>
        <div class="contact-containerCONTACT">
            <h3 class="contact-titleCONTACT" style="text-align: center; color: black; font-size: 24px; font-weight: bold;">📩 تواصل معنا</h3>

            <p class="contact-textCONTACT">في حالة توفر مشكلة أو لديك اقتراح سواء حول اختبار أو غيره تواصل معنا</p>
            
            <div class="social-linksCONTACT">
                <a href="http://t.me/ADATEALM_bot" target="_blank" class="btnCONTACT telegram-btnCONTACT">
                    <i class="fab fa-telegram"></i> بوت تيليغرام
                </a>
                
                <a href="https://t.me/adatealm" target="_blank" class="btnCONTACT telegram-btnCONTACT">
                    <i class="fab fa-telegram"></i> تيليغرام
                </a>
                
                <a href="https://www.facebook.com/share/1BFTe2mWNL/" target="_blank" class="btnCONTACT facebook-btnCONTACT">
                    <i class="fab fa-facebook"></i> فيسبوك
                </a>
                
                <a href="https://www.instagram.com/adat_ealm?igsh=djg1eXlwMTJvM2xw" target="_blank" class="btnCONTACT instagram-btnCONTACT">
                    <i class="fab fa-instagram"></i> إنستغرام
                </a>
            </div>
        </div>
    </div>


    <script>
        // عناصر الواجهة
        const floatingSystem = document.getElementById('floatingSystem');
        const mainBtn = document.getElementById('mainFloatingBtn');
        const searchBtn = document.getElementById('searchBtn');
        const speechBtn = document.getElementById('speechBtn');
        const contactBtn = document.getElementById('contactBtn');
        const flashcardBtn = document.getElementById('flashcardBtn');
        const searchBubble = document.getElementById('searchBubble');
        const closeBubble = document.getElementById('closeBubble');
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const popupCONTACT = document.getElementById('popupCONTACT');
        const closeContactBtn = document.getElementById('closeContactBtn');
        const notification = document.getElementById('notification');
        
        // حالات النظام
        let isExpanded = false;
        let isDragging = false;
        let startX, startY, initialX, initialY;
        let isSpeechEnabled = false;
        let speechSynthesisInstance = window.speechSynthesis || null;
        let currentUtterance = null;
        let voices = [];
        let currentResults = [];
        let selectedIndex = -1;
        let searchTimeout;
        
        // تهيئة النظام
        function initSystem() {
            // إضافة تأثير النبض بعد 3 ثواني
            setTimeout(() => {
                mainBtn.classList.add('pulse-effect');
                setTimeout(() => {
                    mainBtn.classList.remove('pulse-effect');
                }, 3000);
            }, 3000);
            
            // تهيئة Web Speech API
            if (speechSynthesisInstance) {
                speechSynthesisInstance.onvoiceschanged = function() {
                    voices = speechSynthesisInstance.getVoices();
                };
                
                // تحميل الأصوات مباشرة إذا كانت متاحة
                voices = speechSynthesisInstance.getVoices();
            } else {
                speechBtn.style.display = 'none';
            }
            
            // جعل النظام قابلاً للسحب
            setupDragAndDrop();
            
            // إضافة أحداث اللمس
            setupTouchEvents();
        }
        
        // إعداد أحداث اللمس
        function setupTouchEvents() {
            // منع السلوك الافتراضي لللمس
            const buttons = [mainBtn, searchBtn, speechBtn, contactBtn, flashcardBtn];
            
            buttons.forEach(btn => {
                btn.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // محاكاة تأثير الضغط
                    this.style.transform = 'scale(0.95)';
                    
                    // تحديد الزر الذي تم الضغط عليه
                    if (btn === mainBtn) {
                        toggleSystem();
                    } else if (btn === searchBtn) {
                        toggleSearch();
                    } else if (btn === speechBtn) {
                        toggleSpeech();
                    } else if (btn === contactBtn) {
                        togglePopupCONTACT();
                    } else if (btn === flashcardBtn) {
                        goToFlashCard();
                    }
                }, { passive: false });
                
                btn.addEventListener('touchend', function() {
                    this.style.transform = '';
                });
            });
        }
        
        // تبديل حالة النظام (مفتوح/مغلق)
        function toggleSystem() {
            isExpanded = !isExpanded;
            floatingSystem.classList.toggle('expanded', isExpanded);
            
            if (isExpanded) {
                mainBtn.innerHTML = '<i class="fas fa-times"></i>';
                mainBtn.style.transform = 'rotate(135deg)';
                isDragging = false;
            } else {
                mainBtn.innerHTML = '<i class="fas fa-plus"></i>';
                mainBtn.style.transform = 'rotate(0)';
                closeAllPopups();
            }
        }
        
        // إغلاق جميع النوافذ المنبثقة
        function closeAllPopups() {
            searchBubble.classList.remove('show');
            popupCONTACT.style.display = 'none';
        }
        
        // تهيئة السحب والإفلات
        function setupDragAndDrop() {
            // للأجهزة التي تعمل باللمس
            mainBtn.addEventListener('touchstart', handleDragStart, { passive: false });
            document.addEventListener('touchmove', handleDragMove, { passive: false });
            document.addEventListener('touchend', endDrag);
            
            // للأجهزة التي تعمل بالماوس
            mainBtn.addEventListener('mousedown', handleDragStart);
            document.addEventListener('mousemove', handleDragMove);
            document.addEventListener('mouseup', endDrag);
        }
        
        function handleDragStart(e) {
            if (isExpanded) return;
            
            isDragging = true;
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;
            
            startX = clientX;
            startY = clientY;
            initialX = floatingSystem.offsetLeft;
            initialY = floatingSystem.offsetTop;
            
            if (e.cancelable) e.preventDefault();
        }
        
        function handleDragMove(e) {
            if (!isDragging || isExpanded) return;
            
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;
            const deltaX = clientX - startX;
            const deltaY = clientY - startY;
            
            let newX = initialX + deltaX;
            let newY = initialY + deltaY;
            
            // تحديد الحدود لمنع الخروج من الشاشة
            newX = Math.max(0, Math.min(newX, window.innerWidth - floatingSystem.offsetWidth));
            newY = Math.max(0, Math.min(newY, window.innerHeight - floatingSystem.offsetHeight));
            
            floatingSystem.style.left = newX + 'px';
            floatingSystem.style.top = newY + 'px';
            floatingSystem.style.right = 'auto';
            floatingSystem.style.bottom = 'auto';
            
            if (e.cancelable) e.preventDefault();
        }
        




        function endDrag() {
    if (!isDragging) return;
    isDragging = false;
    
    // جعل النظام يلتصق بالجانب الأيسر دائماً
    floatingSystem.style.left = '20px';
    floatingSystem.style.right = 'auto';
    floatingSystem.style.bottom = '20px';
    floatingSystem.style.top = 'auto';
}
       
        // وظائف الأزرار
        function toggleSearch() {
            if (isExpanded) toggleSystem();
            searchBubble.classList.toggle('show');
            if (searchBubble.classList.contains('show')) {
                searchInput.focus();
            }
        }
        
        function toggleSpeech() {
            if (!speechSynthesisInstance) {
                showNotification("⚠️ هذه الميزة غير مدعومة في متصفحك");
                return;
            }
            
            if (isExpanded) toggleSystem();
            isSpeechEnabled = !isSpeechEnabled;
            showNotification(isSpeechEnabled ? "✅ تم تفعيل القلم الناطق!" : "⛔ تم إيقاف القلم الناطق!");
            
            if (isSpeechEnabled) {
                document.addEventListener('mouseup', handleTextSelection);
                document.addEventListener('touchend', handleTextSelection);
            } else {
                document.removeEventListener('mouseup', handleTextSelection);
                document.removeEventListener('touchend', handleTextSelection);
                stopSpeech();
            }
        }
        
        function handleTextSelection(e) {
            if (!isSpeechEnabled) return;
            
            // منع النقر العادي إذا كان القلم الناطق مفعلاً
            if (e.target.closest('.floating-system, .search-bubble, .popupCONTACT')) {
                return;
            }
            
            let selectedText = window.getSelection().toString().trim();
            if (selectedText.length > 0) {
                speakText(selectedText);
            }
        }
        
        function speakText(text) {
            stopSpeech();
            
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = /[\u0600-\u06FF]/.test(text) ? "ar-SA" : "en-US";
            
            // اختيار الصوت المناسب
            if (voices.length > 0) {
                const arabicVoices = voices.filter(v => v.lang.includes('ar'));
                if (arabicVoices.length > 0) {
                    utterance.voice = arabicVoices[0];
                }
            }
            
            utterance.rate = 1;
            utterance.volume = 1.0;
            
            currentUtterance = utterance;
            speechSynthesisInstance.speak(utterance);
        }
        
        function stopSpeech() {
            if (speechSynthesisInstance && speechSynthesisInstance.speaking) {
                speechSynthesisInstance.cancel();
            }
            currentUtterance = null;
        }
        
        function togglePopupCONTACT() {
            if (isExpanded) toggleSystem();
            popupCONTACT.style.display = popupCONTACT.style.display === "block" ? "none" : "block";
        }
        
        function goToFlashCard() {
            if (isExpanded) toggleSystem();
            document.getElementById('flashcard-section').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }
        
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add("show-notification");
            
            setTimeout(() => {
                notification.classList.remove("show-notification");
            }, 2000);
        }
        
        // أحداث البحث
        function handleSearchInput(e) {
            const query = e.target.value.trim();
            clearTimeout(searchTimeout);
            
            if (query.length < 2) {
                clearResults();
                return;
            }
            
            searchTimeout = setTimeout(() => {
                performSearch(query);
            }, 300);
        }
        
        function performSearch(query) {
            clearResults();
            currentResults = [];
            selectedIndex = -1;
            
            const searchableElements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, li, [id]');
            
            searchableElements.forEach(element => {
                const text = element.textContent || element.innerText;
                const elementId = element.id || (element.parentNode.id || '');
                
                if (text.toLowerCase().includes(query.toLowerCase())) {
                    const previewText = text.length > 100 ? text.substring(0, 100) + '...' : text;
                    
                    currentResults.push({
                        element: element,
                        id: elementId,
                        title: element.tagName.startsWith('H') ? text : (elementId || 'قسم في الصفحة'),
                        preview: previewText,
                        fullText: text
                    });
                }
            });
            
            if (currentResults.length === 0) {
                showNoResults();
                return;
            }
            
            displayResults(currentResults, query);
        }
        
        function displayResults(results, query) {
            results.forEach((result, index) => {
                const resultItem = document.createElement('div');
                resultItem.className = 'result-item';
                resultItem.innerHTML = `
                    <div class="result-title">${highlightText(result.title, query)}</div>
                    <div class="result-preview">${highlightText(result.preview, query)}</div>
                `;
                resultItem.addEventListener('click', () => navigateToResult(result));
                searchResults.appendChild(resultItem);
            });
        }
        
        function highlightText(text, query) {
            if (!query) return text;
            return text.replace(
                new RegExp(query, 'gi'), 
                match => `<span class="highlight">${match}</span>`
            );
        }
        
        function navigateToResult(result) {
            if (result.element) {
                result.element.scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
                
                const originalBg = result.element.style.backgroundColor;
                result.element.style.backgroundColor = '#fff9c4';
                setTimeout(() => {
                    result.element.style.backgroundColor = originalBg;
                }, 2000);
            }
            
            searchBubble.classList.remove('show');
        }
        
        function showNoResults() {
            searchResults.innerHTML = '<div class="no-results">لا توجد نتائج مطابقة</div>';
        }
        
        function clearResults() {
            searchResults.innerHTML = '';
            currentResults = [];
            selectedIndex = -1;
        }
        
        // إضافة الأحداث
        mainBtn.addEventListener('click', toggleSystem);
        searchBtn.addEventListener('click', toggleSearch);
        speechBtn.addEventListener('click', toggleSpeech);
        contactBtn.addEventListener('click', togglePopupCONTACT);
        flashcardBtn.addEventListener('click', goToFlashCard);
        closeBubble.addEventListener('click', () => searchBubble.classList.remove('show'));
        closeContactBtn.addEventListener('click', togglePopupCONTACT);
        searchInput.addEventListener('input', handleSearchInput);
        
        // تهيئة النظام عند التحميل
        window.addEventListener('load', initSystem);
        
        // إعادة حساب المواقع عند تغيير حجم النافذة
        window.addEventListener('resize', endDrag);
    </script>
</body>
</html>








































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تحويل اتجاه النص تلقائيًا مع الحفاظ على التنسيق</title>
    <style>
        body {
    
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .rtl {
            direction: rtl;
            text-align: right;
        }
        
        .ltr {
            direction: ltr;
            text-align: left;
        }
        
        /* تنسيقات إضافية للحفاظ على المظهر */
        .mixed-content {
            unicode-bidi: embed;
        }
    </style>
</head>
<body>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // عناصر أكثر تحديداً مع استثناء العناصر التي قد تحتوي على أطفال معقدة
            const elements = document.querySelectorAll('p, div:not(div div), span, li, h1, h2, h3, h4, h5, h6');
            
            elements.forEach(element => {
                // تجاهل العناصر التي تحتوي على أطفال معقدة
                if (element.children.length > 0 && !(element.children.length === 1 && element.children[0].tagName === 'SPAN')) {
                    return;
                }
                
                const text = element.textContent.trim();
                
                if (!text) return;
                
                // تحليل النص لتحديد إذا كان إنجليزي/عربي
                const hasArabic = /[\u0600-\u06FF]/.test(text);
                const hasEnglish = /[a-zA-Z]/.test(text);
                
                // إذا كان النص يحتوي على الإنجليزية فقط
                if (hasEnglish && !hasArabic) {
                    element.classList.add('ltr');
                    element.classList.remove('rtl');
                } 
                // إذا كان النص يحتوي على العربية فقط
                else if (hasArabic && !hasEnglish) {
                    element.classList.add('rtl');
                    element.classList.remove('ltr');
                }
                // إذا كان نصاً مختلطاً
                else if (hasArabic && hasEnglish) {
                    element.classList.add('mixed-content');
                    
                    // تحديد الاتجاه الأساسي بناءً على الحرف الأول
                    const firstChar = text.charAt(0);
                    if (/[a-zA-Z]/.test(firstChar)) {
                        element.style.direction = 'ltr';
                        element.style.textAlign = 'left';
                    } else {
                        element.style.direction = 'rtl';
                        element.style.textAlign = 'right';
                    }
                }
            });
        });
    </script>
</body>
</html>
























































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>تنبيه طبي - INFATM</title>
    <style>
        /* تهيئة عامة */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-text-size-adjust: 100%;
            touch-action: manipulation;
        }

        /* زر الخطر العائم - تصميم جديد */
        ._x1 {
            position: fixed;
            top: 120px; /* تغيير من bottom إلى top */
            right: 10px;  /* تعديل القيمة */
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #ff0000, #c00000);
            color: white;
            font-size: 21px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.3), 
                        inset 0 2px 4px rgba(255, 255, 255, 0.3);
            transition: all 0.2s ease;
            z-index: 1000;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            animation: _a1 2s infinite;
        }

        @keyframes _a1 {
            0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 0, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); }
        }

        ._x1:hover {
            transform: scale(1.1);
            background: linear-gradient(135deg, #ff3333, #d10000);
        }

        ._x1:active {
            transform: scale(0.95);
            animation: none;
        }

        /* طبقة التعتيم */
        ._x2 {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1001;
            display: none;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        /* نافذة المحتوى */
        ._x3 {
            position: fixed;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            display: flex;
            flex-direction: column;
            z-index: 10012;
            display: none;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            background: white;
        }

        ._x4 {
          background: linear-gradient(to right, #e74c3c, #c0392b);
          color: white;
          padding: 18px;
          text-align: center;
          position: relative;
          flex-shrink: 0;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      ._x4 h2 {
          font-size: 1.3rem;
          font-weight: 600;
          text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
      }

        ._x5 {
            flex-grow: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            background-color: #f5f5f5;
        }

        /* زر الإغلاق الجديد */
        ._x6 {
            position: absolute;
            top: 12px;
            left: 12px;
            background: white;
            color: #e74c3c;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: all 0.2s;
        }

        ._x6:hover {
            transform: rotate(90deg);
            background: #ffebee;
        }

        /* مؤشر التحميل */
        ._x7 {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 20px;
        }

        ._x8 {
            width: 45px;
            height: 45px;
            border: 5px solid rgba(231, 76, 60, 0.2);
            border-top: 5px solid #e74c3c;
            border-radius: 50%;
            animation: _a2 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes _a2 {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        ._x7 p {
            color: #7f8c8d;
            font-size: 1.1rem;
            margin-top: 10px;
        }

        /* المحتوى المعروض */
        ._x9 {
            padding: 18px;
            line-height: 1.7;
            font-size: 1rem;
            color: #333;
        }

        /* التكيف مع الشاشات الصغيرة */
        @media (max-width: 480px) {
            ._x1 {
                width: 30px;
                height: 30px;
                font-size: 16px;
                bottom: 20px;
            }
            
            ._x4 {
                padding: 15px;
            }
            
            ._x4 h2 {
                font-size: 1.1rem;
            }
            
            ._x6 {
                width: 28px;
                height: 28px;
                font-size: 1rem;
            }
        }

        /* تحسينات لللمس على الهواتف */
        @media (hover: none) {
            ._x1:hover {
                transform: scale(1);
                background: linear-gradient(135deg, #ff0000, #c00000);
            }
            
            ._x6:hover {
                transform: rotate(0deg);
                background: white;
            }
        }
    </style>
</head>
<body>

<!-- زر الخطر العائم الجديد -->
<button class="_x1" onclick="_f1()">⚠️</button>

<!-- طبقة التعتيم -->
<div class="_x2" id="_d1"></div>

<!-- نافذة المحتوى -->
<div class="_x3" id="_d2">
    <div class="_x4">
        <button class="_x6" onclick="_f1()">×</button>
        <h2 >⚠️  محتوى زر التنبيه  الخطر   ⚠️   </h2>
    </div>
    <div class="_x5" id="_d3">
        <div class="_x7">
            <div class="_x8"></div>
            <p>جاري تحميل المحتوى ...</p>
        </div>
    </div>
</div>

<script>
    // متغيرات التطبيق
    let _v1 = false;
    const _u1 = "https://s22mcs.github.io/S22MCS02-/MEDECINE_EXAM_NOTE.html";
    
    // عناصر DOM
    const _d2 = document.getElementById('_d2');
    const _d1 = document.getElementById('_d1');
    const _d3 = document.getElementById('_d3');
    const _b1 = document.querySelector('._x1');
    
    // تبديل عرض/إخفاء النافذة
    function _f1() {
        if (_d2.style.display === 'flex') {
            _f2();
        } else {
            _f3();
        }
    }
    
    function _f3() {
        // إيقاف تأثير النبض عند الفتح
        _b1.style.animation = 'none';
        
        _d1.style.display = 'block';
        _d2.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        
        if (!_v1) {
            _f4();
        }
    }
    
    function _f2() {
        // إعادة تشغيل تأثير النبض عند الإغلاق
        _b1.style.animation = '_a1 2s infinite';
        
        _d1.style.display = 'none';
        _d2.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
    
    // تحميل المحتوى
    async function _f4() {
        try {
            // استخدام iframe كحل أساسي
            _f5();
            _v1 = true;
        } catch (error) {
            _f6(error);
        }
    }
    
    // عرض المحتوى باستخدام iframe
    function _f5() {
        _d3.innerHTML = `
            <iframe src="${_u1}" 
                    style="width:100%; height:100%; border:none;"
                    sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
                    loading="lazy">
            </iframe>
        `;
    }
    
    // عرض رسالة الخطأ
    function _f6(_e1) {
        _d3.innerHTML = `
            <div class="_x7">
                <div style="color: #e74c3c; margin-bottom: 15px; font-size: 1.2rem;">⚠️ خطأ في تحميل المحتوى</div>
                <p style="margin-bottom: 20px; color: #555;">${_e1.message}</p>
                <button onclick="_f7()" 
                        style="padding: 10px 20px; 
                               background: linear-gradient(to right, #e74c3c, #c0392b); 
                               color: white; 
                               border: none; 
                               border-radius: 30px;
                               font-size: 1rem;
                               box-shadow: 0 3px 10px rgba(231, 76, 60, 0.3);
                               transition: all 0.2s;">
                    إعادة المحاولة
                </button>
            </div>
        `;
    }
    
    // إعادة تحميل المحتوى
    function _f7() {
        _d3.innerHTML = `
            <div class="_x7">
                <div class="_x8"></div>
                <p>جاري تحميل المحتوى الطبي...</p>
            </div>
        `;
        _f4();
    }
    
    // إغلاق النافذة عند النقر خارجها
    _d1.addEventListener('click', _f2);
    
    // منع إغلاق النافذة عند النقر داخلها
    _d2.addEventListener('click', (e) => {
        e.stopPropagation();
    });
    
    // تحسين الأداء للهواتف
    if ('connection' in navigator) {
        if (navigator.connection.saveData || navigator.connection.effectiveType.includes('2g')) {
            // تحسينات لشبكات الجيل الثاني
            _b1.style.animation = 'none';
        }
    }
    
    // إضافة اهتزاز عند النقر (للهواتف)
    function _f8() {
        if ('vibrate' in navigator) {
            navigator.vibrate(10);
        }
    }
    
    // إضافة الاهتزاز للأزرار
    document.querySelector('._x1').addEventListener('click', _f8);
    document.querySelector('._x6')?.addEventListener('click', _f8);
</script>

</body>
</html>



  
















<style>
    /* أنماط الزر الطافي */
    .theme-toggle {
        position: fixed;
        top:100px;
        left: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: #333;
        color: #fff;
        border: none;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        z-index: 9999;
        transition: all 0.3s ease;
    }
    
    .theme-toggle:hover {
        transform: scale(1.1);
    }
    
    /* أنماط الوضع النهاري */
    body.light-mode {
        background-color: #f5f5f5;
        color: #333;
    }
    

    

body.dark-mode .hover-image-container {
    color: #ffffff;
}

body.dark-mode .image-tooltip {
    color: #66bfff;
}

body.dark-mode .image-tooltip-content {
    background-color: #222;
    box-shadow: 0 10px 25px rgba(255, 255, 255, 0.1);
}

body.dark-mode .tooltip-caption {
    color: #ccc;
}
    body.light-mode .sidebar {
        background-color: #f0f0f0;
        color: #333;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    
    body.light-mode .bubble {
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        border-left: 6px solid #007bff;
        color: #333;
    }
    
    body.light-mode .progress-bar-container {
        background-color: #e0e0e0;
    }
    
    body.light-mode .finish-button {
        background-color: #007bff;
        color: white;
    }
    
    body.light-mode .interact-button {
        background-color: #007bff;
        color: white;
    }
    
    body.light-mode .refresh-button {
        background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
        color: #333;
        border: 1px solid #ccc;
    }
    
    body.light-mode #end-lesson-modal {
        background-color: #f5f5f5;
        color: #333;
    }
    
    body.light-mode .modal {
        background: #f5f5f5;
        color: #333;
    }
</style>

<button class="theme-toggle" id="themeToggle">☀️</button>

<script>
    // اختيار العناصر
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    
    // التحقق من التفضيل المحفوظ
    const currentTheme = localStorage.getItem('theme');
    if (currentTheme === 'light') {
        body.classList.add('light-mode');
        body.classList.remove('dark-mode');
        themeToggle.textContent = '🌙';
    } else {
        body.classList.add('dark-mode');
        themeToggle.textContent = '☀️';
    }
    
    // حدث النقر على الزر
    themeToggle.addEventListener('click', () => {
        if (body.classList.contains('dark-mode')) {
            // التحويل إلى الوضع النهاري
            body.classList.add('light-mode');
            body.classList.remove('dark-mode');
            themeToggle.textContent = '🌙';
            localStorage.setItem('theme', 'light');
        } else {
            // التحويل إلى الوضع الليلي
            body.classList.add('dark-mode');
            body.classList.remove('light-mode');
            themeToggle.textContent = '☀️';
            localStorage.setItem('theme', 'dark');
        }
    });
</script>








































            
            
            
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>أداة التحكم في التكبير/التصغير</title>
  <style>
    /* تنسيقات أداة التكبير/التصغير */
    .zoom-controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      background: rgba(40, 40, 40, 0.9);
      padding: 12px;
      border-radius: 24px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .zoom-btn {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: #007bff;
      color: white;
      border: none;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    
    .zoom-btn:hover {
      background: #0056b3;
      transform: scale(1.05);
    }
    
    .zoom-value {
      color: white;
      font-family: Arial, sans-serif;
      font-size: 14px;
      font-weight: bold;
      min-width: 40px;
      text-align: center;
    }
    
    /* للهواتف */
    @media (max-width: 768px) {
      .zoom-controls-container {
        bottom: 15px;
        left: 15px;
      }
      
      
    }
  </style>
</head>
<body>



<script>
  // إعدادات التكبير
  const zoomSettings = {
    current: 1, // هذه القيمة سيتم تغييرها عند التحميل إذا لم توجد قيمة محفوظة
    min: 0.3, // غيرت الحد الأدنى ليتناسب مع القيمة الافتراضية
    max: 2,
    step: 0.1
  };

  // عناصر التحكم
  const elements = {
    zoomIn: document.getElementById('zoom-in'),
    zoomOut: document.getElementById('zoom-out'),
    zoomReset: document.getElementById('zoom-reset'),
    zoomValue: document.getElementById('zoom-value'),
    html: document.documentElement
  };

  // تطبيق مستوى التكبير الحالي
  function applyZoom() {
    elements.html.style.fontSize = `${zoomSettings.current * 100}%`;
    elements.zoomValue.textContent = `${Math.round(zoomSettings.current * 100)}%`;
    
    // حفظ الإعدادات
    localStorage.setItem('pageZoomLevel', zoomSettings.current);
  }

  // تكبير النص
  elements.zoomIn.addEventListener('click', () => {
    if (zoomSettings.current < zoomSettings.max) {
      zoomSettings.current += zoomSettings.step;
      applyZoom();
    }
  });

  // تصغير النص
  elements.zoomOut.addEventListener('click', () => {
    if (zoomSettings.current > zoomSettings.min) {
      zoomSettings.current -= zoomSettings.step;
      applyZoom();
    }
  });

  // إعادة التعيين
  elements.zoomReset.addEventListener('click', () => {
    zoomSettings.current = 1;
    applyZoom();
  });

  window.addEventListener('DOMContentLoaded', () => {
    const savedZoom = localStorage.getItem('pageZoomLevel');
    if (savedZoom) {
      zoomSettings.current = parseFloat(savedZoom);
    } else {
      // القيمة الافتراضية عند أول فتح (30%)
      zoomSettings.current = 0.1;
    }
    applyZoom();
  });

  // اختصارات لوحة المفاتيح
  document.addEventListener('keydown', (e) => {
    if (e.ctrlKey && e.key === '0') {
      e.preventDefault();
      elements.zoomReset.click();
    }
  });
</script>

</body>
</html>














































