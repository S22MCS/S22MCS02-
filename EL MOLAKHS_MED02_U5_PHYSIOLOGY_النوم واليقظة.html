<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>     </title>

    
    <!-- إضافة الفافيكون بصيغة JPG -->
    <link rel="icon" href="S22MCS PARTS/doctor.png" type="image/jpeg">


<style>
.LIKEWIKIIDAFA-tooltip {
    position: relative;
    display: inline-block;
    cursor: pointer;
    color: red;
    font-weight: bold;
    line-height: 1.5;
}

.LIKEWIKIIDAFA-content {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90vw;
    max-width: 650px;
    max-height: 85vh;
    background-color: #fff;
    padding: 20px;
    z-index: 999999;
    overflow-y: auto;
    direction: rtl;
    border-radius: 12px;
    box-shadow: 0 5px 25px rgba(0, 0, 0, 0.2);
    border: 1px solid #e0e0e0;
    font-size: 1rem;
}

.LIKEWIKIIDAFA-content-inner {
    position: relative;
    height: auto;
    padding: 10px;
}

.LIKEWIKIIDAFA-content::-webkit-scrollbar {
    width: 8px;
}
.LIKEWIKIIDAFA-content::-webkit-scrollbar-thumb {
    background-color: #888;
    border-radius: 4px;
}
.LIKEWIKIIDAFA-content::-webkit-scrollbar-track {
    background: #f1f1f1;
}

.LIKEWIKIIDAFA-tooltip.active .LIKEWIKIIDAFA-content {
    display: block;
    animation: fadeInScale 0.3s ease;
}

.LIKEWIKIIDAFA-tooltip.active::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999998;
}

@keyframes fadeInScale {
    from { opacity: 0; transform: translate(-50%, -50%) scale(0.95); }
    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
}

.LIKEWIKIIDAFA-content img {
    max-width: 100%;
    height: auto;
    margin: 15px auto;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    display: block;
}

.LIKEWIKIIDAFA-close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: #f44336;
    border: none;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    transition: all 0.2s ease;
    z-index: 1000000;
    padding: 0;
    line-height: 1;
}

.LIKEWIKIIDAFA-close-btn:hover {
    background: #d32f2f;
    transform: scale(1.1);
}

.LIKEWIKIIDAFA-close-btn:active {
    transform: scale(0.95);
}

.language-section {
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid #eee;
}

.language-title {
    font-size: 1.1rem;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 15px;
    text-align: center;
    padding: 8px 12px;
    background-color: #f8f9fa;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.arabic-text {
    direction: rtl;
    text-align: right;
    font-size: 1rem;
    line-height: 1.6;
}

.english-text, .french-text {
    direction: ltr;
    text-align: left;
    font-size: 1rem;
    line-height: 1.6;
}

.language-flag {
    width: 22px;
    height: 16px;
    margin: 0 6px;
    vertical-align: middle;
    border-radius: 3px;
    box-shadow: 0 0 3px rgba(0, 0, 0, 0.1);
}

ul {
    padding-right: 20px;
    margin: 10px 0;
}

li {
    margin-bottom: 8px;
}

@media (max-width: 1024px) {
    .LIKEWIKIIDAFA-content {
        width: 92vw;
        padding: 18px;
    }
}

@media (max-width: 768px) {
    .LIKEWIKIIDAFA-content {
        width: 94vw;
        max-height: 90vh;
        padding: 16px;
        font-size: 0.95rem;
    }
    
    .language-title {
        font-size: 1rem;
        padding: 6px 10px;
    }
    
    .LIKEWIKIIDAFA-close-btn {
        width: 28px;
        height: 28px;
        font-size: 16px;
    }
    
    .language-flag {
        width: 20px;
        height: 14px;
    }
}

@media (max-width: 480px) {
    .LIKEWIKIIDAFA-content {
        width: 96vw;
        padding: 14px;
        max-height: 95vh;
        font-size: 0.9rem;
    }
    
    .language-title {
        font-size: 0.95rem;
        padding: 5px 8px;
    }
    
    .LIKEWIKIIDAFA-close-btn {
        width: 26px;
        height: 26px;
        font-size: 15px;
        top: 10px;
        right: 10px;
    }
    
    .language-flag {
        width: 18px;
        height: 12px;
    }
    
    ul {
        padding-right: 15px;
    }
    
    li {
        margin-bottom: 6px;
    }
}

@media (max-height: 600px) {
    .LIKEWIKIIDAFA-content {
        top: 20px;
        transform: translateX(-50%);
        max-height: calc(100vh - 40px);
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const LIKEWIKIIDAFA_tooltip = document.getElementById('LIKEWIKIIDAFA-tooltip');
    const LIKEWIKIIDAFA_closeBtn = document.querySelector('.LIKEWIKIIDAFA-close-btn');
    
    // فتح عند الضغط على النص
    LIKEWIKIIDAFA_tooltip.addEventListener('click', function(e) {
        e.stopPropagation();
        document.body.style.overflow = 'hidden';
        document.documentElement.style.overflow = 'hidden';
        LIKEWIKIIDAFA_tooltip.classList.add('active');
    });
    
    // إغلاق بالضغط على الزر X فقط
    LIKEWIKIIDAFA_closeBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        closeTooltip();
    });
    
    // إغلاق عند الضغط خارج النافذة
    document.addEventListener('click', function(e) {
        if (LIKEWIKIIDAFA_tooltip.classList.contains('active') && 
            !e.target.closest('.LIKEWIKIIDAFA-content') && 
            !e.target.closest('.LIKEWIKIIDAFA-tooltip')) {
            closeTooltip();
        }
    });
    
    // إغلاق بالضغط على زر ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && LIKEWIKIIDAFA_tooltip.classList.contains('active')) {
            closeTooltip();
        }
    });
    
    function closeTooltip() {
        document.body.style.overflow = '';
        document.documentElement.style.overflow = '';
        LIKEWIKIIDAFA_tooltip.classList.remove('active');
    }
    
    // منع التمرير عند فتح النافذة على الأجهزة المحمولة
    document.querySelector('.LIKEWIKIIDAFA-content').addEventListener('touchmove', function(e) {
        if (LIKEWIKIIDAFA_tooltip.classList.contains('active')) {
            e.preventDefault();
        }
    }, { passive: false });
});
</script>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أداة حماية العين</title>
    <style>
        /* تحسينات عامة */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        /* إعدادات الصفحة الأساسية */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #edf2f7;
            color: #333;
            transition: all 0.5s ease;
        }
    
        header, main {
            padding: 20px;
            text-align: center;
        }
    
        header h1 {
            font-size: 2rem;
            color: #444;
            margin-bottom: 20px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
            animation: fadeIn 1.2s ease-in-out;
        }
    
        main h2 {
            font-size: 1.5rem;
            color: #555;
            margin-bottom: 10px;
        }
    
        main p {
            font-size: 1rem;
            line-height: 1.6;
            color: #666;
        }
    
        /* الحاوية */
        #controlPanel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(145deg, #e0e5ec, #ffffff);
            border-radius: 50px;
            box-shadow: 10px 10px 20px rgba(0, 0, 0, 0.1), -10px -10px 20px rgba(255, 255, 255, 0.7);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            width: 60px;
            height: 60px;
            overflow: hidden;
            transition: all 0.4s ease, box-shadow 0.3s ease-in-out;
        }
    
        #controlPanel.expanded {
            width: auto; /* ستتحدد بناءً على المحتوى والاستعلامات أدناه */
            min-width: 280px; /* حد أدنى لعرض اللوحة الموسعة */
            height: auto;
            max-height: 75vh; /* حد أقصى لارتفاع اللوحة على شاشات الهاتف */
            overflow-y: auto; /* إضافة تمرير إذا تجاوز المحتوى الارتفاع الأقصى */
            border-radius: 20px;
            padding-bottom: 10px; /* إضافة حشو سفلي للوحة الموسعة */
            box-shadow: 20px 20px 40px rgba(0, 0, 0, 0.15), -20px -20px 40px rgba(255, 255, 255, 0.9);
        }
    
        /* الزر */
        #toggleButton {
            width: 60px;
            height: 60px;
            background: radial-gradient(circle at 30% 30%, #4caf50, #388e3c);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 28px;
            cursor: pointer;
            display: flex;
            flex-shrink: 0; /* منع الزر من الانكماش */
            justify-content: center;
            align-items: center;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.2), 
                        5px 5px 10px rgba(0,0,0,0.2), 
                        -5px -5px 10px rgba(255,255,255,0.5);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
    
        #toggleButton:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: inset 0 0 20px rgba(0,0,0,0.3), 
                        8px 8px 20px rgba(0,0,0,0.2), 
                        -8px -8px 20px rgba(255,255,255,0.5);
            background: radial-gradient(circle at 30% 30%, #43a047, #2e7d32);
        }
    
        #emoji {
            font-size: 32px;
            line-height: 1;
            animation: bounce 2s infinite ease-in-out;
        }
    
        #toggleText {
            font-size: 14px;
            color: white;
            position: absolute;
            bottom: -20px;
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
    
        #toggleButton:hover #toggleText {
            opacity: 1;
            transform: translateY(-5px);
        }
    
        /* شريط التمرير */
        .slider-container {
            width: 90%;
            max-width: 280px; /* حد أقصى لعرض حاوية الشريط */
            margin: 10px auto; /* توسيط وتعديل الهامش */
            position: relative;
        }
        
        .color-spectrum {
            width: 100%;
            height: 20px;
            border-radius: 10px;
            background: linear-gradient(to right, 
                #ff9a3c, /* 1700K */
                #ffb347, /* 2000K */
                #ffcc6a, /* 2300K */
                #ffe08c, /* 2700K */
                #f5f5f5  /* أبيض محايد (للتوضيح، القيمة الفعلية للفلتر قد تختلف) */
            );
            margin-bottom: 5px;
            box-shadow: inset 2px 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        #colorTempSlider {
            width: 100%;
            appearance: none;
            -webkit-appearance: none; /* لمتصفحات WebKit */
            height: 12px;
            background: transparent; /* جعل مسار الشريط شفافًا */
            border-radius: 6px;
            outline: none;
            cursor: pointer;
            position: absolute;
            top: 4px; /* تعديل ليتمركز فوق color-spectrum */
            left: 0;
        }
    
        #colorTempSlider::-webkit-slider-thumb {
            appearance: none;
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            background: var(--thumb-color, radial-gradient(circle, #4caf50, #388e3c)); /* استخدام متغير CSS */
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), -2px -2px 4px rgba(255, 255, 255, 0.5);
            transition: transform 0.2s ease-in-out, background 0.3s ease;
        }
         #colorTempSlider::-moz-range-thumb { /* لمتصفح Firefox */
            width: 22px;
            height: 22px;
            background: var(--thumb-color, radial-gradient(circle, #4caf50, #388e3c));
            border-radius: 50%;
            cursor: pointer;
            border: none; /* إزالة الحدود الافتراضية في Firefox */
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), -2px -2px 4px rgba(255, 255, 255, 0.5);
            transition: transform 0.2s ease-in-out, background 0.3s ease;
        }
    
        #colorTempSlider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }
        #colorTempSlider::-moz-range-thumb:hover {
            transform: scale(1.2);
        }
    
        .temp-labels {
            display: flex;
            justify-content: space-between;
            width: 100%;
            font-size: 11px;
            color: #555;
            margin-top: 25px; /* ليكون أسفل شريط التمرير والطيف */
        }
    
        .small-slider {
            width: 80px;
            height: 8px;
        }
    
        #label {
            font-size: 14px;
            font-weight: bold;
            color: #333;
            display: none;
            text-align: center;
            margin-top: 5px; /* هامش علوي بسيط */
            animation: fadeIn 0.8s ease-in-out;
        }
    
        .expanded #label {
            display: block;
        }
    
        /* خيارات إضافية */
        .options {
            display: none;
            width: 100%;
            padding: 0 15px 10px; /* تقليل الحشو السفلي قليلاً */
            flex-direction: column;
            gap: 12px; /* زيادة طفيفة في الفجوة لتحسين اللمس */
        }
    
        .expanded .options {
            display: flex;
        }
    
        .option-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    
        .option-label {
            font-size: 13px;
            color: #555;
        }
    
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
            flex-shrink: 0; /* منع الانكماش */
        }
    
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
    
        .slider { /* هذا اسم الكلاس لمحول التبديل، وليس شريط التمرير الرئيسي */
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
    
        .slider:before {
            position: absolute;
            content: "";
            height: 18px; /* زيادة طفيفة لحجم المقبض */
            width: 18px;  /* زيادة طفيفة لحجم المقبض */
            left: 3px;    /* تعديل الموقع ليتناسب مع الحجم الجديد */
            bottom: 3px;  /* تعديل الموقع ليتناسب مع الحجم الجديد */
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
    
        input:checked + .slider {
            background-color: #4CAF50;
        }
    
        input:checked + .slider:before {
            transform: translateX(26px);
        }
    
        /* معلومات علمية */
        .science-info {
            display: none;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 10px;
            margin: 10px 15px;
            font-size: 12px;
            color: #555;
            border-right: 3px solid #4CAF50;
        }
    
        .expanded .science-info {
            display: block;
            animation: fadeIn 0.8s ease-in-out;
        }
    
        .science-title {
            font-weight: bold;
            color: #388e3c;
            margin-bottom: 5px;
        }
    
        /* الإشعارات */
        .notification {
            position: fixed;
            bottom: 100px; /* تعديل الموضع ليكون أعلى من اللوحة في حالة توسعها */
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 12px 20px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            animation: slideIn 0.5s ease-out;
            z-index: 1001;
        }
    
        .fade-out {
            animation: fadeOut 0.5s ease-out forwards;
        }

        /* فواصل للموبايل (تم نقلها من داخل body) */
        .mobile-breaks {
          display: none;
        }
    
        /* الرسوم المتحركة */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); } /* تقليل مقدار الارتداد */
        }
        @keyframes slideIn {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
    
        /* تحسين التوافق مع الهواتف */
        @media (max-width: 768px) {
            header h1 { font-size: 1.8rem; }
            main h2 { font-size: 1.3rem; }

            #controlPanel {
                bottom: 10px;
                right: 10px;
                gap: 8px; /* تقليل الفجوة قليلاً */
            }
            #controlPanel.expanded {
                width: 300px; /* عرض ثابت للتابلت والهواتف الكبيرة نسبياً */
                padding-bottom: 15px;
            }
            #toggleButton {
                width: 50px;
                height: 50px;
                font-size: 24px;
            }
            #emoji { font-size: 28px; }
            .notification {
                bottom: 80px; /* تعديل المسافة من الأسفل للوحة التحكم الأصغر */
                right: 10px;
                padding: 10px 15px;
            }
            .mobile-breaks {
                display: block;
                height: 1.5em; /* تقليل الارتفاع قليلاً */
            }
            .temp-labels span { font-size: 10px; }
            #label { font-size: 0.875rem; } /* 14px */
           .option-label { font-size: 0.8125rem; } /* 13px */
        }
    
        @media (max-width: 480px) {
            header h1 { font-size: 1.6rem; }
            main h2 { font-size: 1.2rem; }
            main p { font-size: 0.9rem; }

            #controlPanel.expanded {
                width: 90%; /* استخدام نسبة مئوية للشاشات الصغيرة جداً */
                right: 5%;
                bottom: 10px;
                gap: 5px; /* تقليل إضافي للفجوة */
                padding-bottom: 10px;
            }
            .options {
                padding: 0 10px 10px;
                gap: 10px;
            }
            .slider-container {
                margin: 5px auto;
            }
            .temp-labels {
                flex-wrap: wrap; /* السماح بالالتفاف إذا ضاقت المساحة */
                justify-content: center; /* توسيط العناصر عند الالتفاف */
                gap: 5px; /* فجوة بين العناصر الملتفة */
            }
            .temp-labels span { font-size: 0.7rem; } /* تصغير إضافي */
            #label { font-size: 0.8rem; } 
            .option-label { font-size: 0.75rem; } /* 12px */
            .science-info {
                font-size: 11px;
                margin: 5px 10px;
                padding: 8px;
            }
        }
        @media (max-width: 360px) {
             header h1 { font-size: 1.5rem; }
            .option-row {
                flex-direction: column; /* جعل الخيارات تحت بعضها */
                align-items: flex-start;
                gap: 5px; /* فجوة بين الملصق والمفتاح */
            }
            .option-row .switch {
                margin-top: 3px; /* هامش بسيط للمفتاح */
            }
            #controlPanel.expanded {
                gap: 3px;
            }
        }

    </style>
</head>
<body>
    


    <div id="controlPanel">
        <button id="toggleButton">
            <span id="emoji">🌙</span>
            <span id="toggleText">تشغيل</span>
        </button>
        <label id="label" for="colorTempSlider">درجة حرارة اللون (1700K-2700K):</label>
        
        <div class="slider-container">
            <div class="color-spectrum"></div>
            <input type="range" id="colorTempSlider" min="1700" max="2700" step="100" value="2700">
            <div class="temp-labels">
                <span>1700K</span>
                <span>2000K</span>
                <span>2300K</span>
                <span>2700K</span>
            </div>
        </div>
        
        <div class="science-info">
            <div class="science-title">معلومات علمية:</div>
            <p>• درجات الحرارة المرتفعة (&gt;5000K) تسبب انتباه الأشخاص وزيادة التركيز.</p>
            <p>• درجات الحرارة المنخفضة (2700K-3000K) تشعر الأشخاص بالاسترخاء والنعاس.</p>
            <p>• الضوء الأزرق (380-550 نانومتر) يؤثر على الساعة البيولوجية.</p>
        </div>
        
        <div class="options">
            <div class="option-row">
                <span class="option-label">الوضع الليلي التلقائي</span>
                <label class="switch">
                    <input type="checkbox" id="autoNightMode">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="option-row">
                <span class="option-label">تقليل الوهج</span>
                <label class="switch">
                    <input type="checkbox" id="reduceGlare" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="option-row">
                <span class="option-label">تعتيم النص</span>
                <label class="switch">
                    <input type="checkbox" id="darkenText">
                    <span class="slider"></span>
                </label>
            </div>
            <div class="option-row">
                <span class="option-label">ضبط السطوع</span>
                <input type="range" id="brightnessSlider" min="50" max="100" value="100" class="small-slider">
            </div>
            <div class="mobile-breaks"></div>
        </div>
    </div>

    <script>
        const controlPanel = document.getElementById('controlPanel');
        const toggleButton = document.getElementById('toggleButton');
        const emoji = document.getElementById('emoji');
        const toggleText = document.getElementById('toggleText');
        const colorTempSliderElement = document.getElementById('colorTempSlider'); // تم تغيير الاسم لتمييزه
        const autoNightMode = document.getElementById('autoNightMode');
        const reduceGlare = document.getElementById('reduceGlare');
        const darkenText = document.getElementById('darkenText');
        const brightnessSlider = document.getElementById('brightnessSlider');
    
        let isEyeProtectionEnabled = false;
        let autoNightModeInterval;
    
        // تحميل التفضيلات المحفوظة
        window.addEventListener('DOMContentLoaded', () => {
            const preferences = JSON.parse(localStorage.getItem('eyeProtectionPrefs')) || {};
            if (preferences.autoNightMode) autoNightMode.checked = true;
            if (preferences.reduceGlare === false) reduceGlare.checked = false; // معالجة القيمة false صراحة
            else reduceGlare.checked = true; // القيمة الافتراضية أو true
            if (preferences.darkenText) darkenText.checked = true;
            
            if (preferences.brightness) {
                brightnessSlider.value = preferences.brightness;
                document.body.style.opacity = preferences.brightness / 100;
            }
            if (preferences.colorTemp) colorTempSliderElement.value = preferences.colorTemp;

            // يجب تفعيل الحماية بعد تحميل الإعدادات المتعلقة بها
            if (preferences.enabled) {
                enableEyeProtection(); // يستدعي updateFilter و updateSliderColor
            } else {
                // إذا لم تكن مفعلة، لا يزال يجب تحديث لون المقبض بناءً على القيمة المحملة
                updateSliderColor(colorTempSliderElement.value);
            }
    
            // تحقق من وقت اليوم عند التحميل
            if (autoNightMode.checked) { // فقط إذا كان الوضع التلقائي محدداً
                checkTimeOfDay(); // هذا قد يفعل الحماية إذا كان الوقت ليلاً
                startAutoNightMode();
            }
        });
    
        toggleButton.addEventListener('click', () => {
            controlPanel.classList.toggle('expanded');
    
            if (isEyeProtectionEnabled) {
                disableEyeProtection();
            } else {
                enableEyeProtection();
                // لا تغلق اللوحة تلقائيًا إذا فتحها المستخدم يدويًا للتو
                // يمكن إبقاء هذا السلوك أو إزالته حسب الرغبة
                // setTimeout(() => {
                //     if (isEyeProtectionEnabled) { // فقط أغلق إذا كانت الحماية لا تزال مفعلة
                //        controlPanel.classList.remove('expanded');
                //     }
                // }, 7000); // زيادة الوقت قليلاً
            }
            savePreferences();
        });
    
        colorTempSliderElement.addEventListener('input', function() {
            updateFilter();
            updateSliderColor(this.value);
            savePreferences(); // حفظ عند تغيير شريط التمرير أيضًا
        });
        
        // تحديث لون مقبض شريط التمرير بناء على القيمة باستخدام متغير CSS
        function updateSliderColor(value) {
            const percent = (value - 1700) / (2700 - 1700); // النسبة من 0 إلى 1
            let newThumbColor = 'radial-gradient(circle, #4caf50, #388e3c)'; // لون افتراضي

            // الألوان تتدرج من البرتقالي (دافئ جداً) إلى الأصفر (دافئ)
            // 1700K هو الأكثر دفئًا (برتقالي), 2700K هو الأقل دفئًا في هذا النطاق (أصفر فاتح)
            if (percent < 0.33) { // الثلث الأول (الأكثر دفئًا)
                newThumbColor = 'radial-gradient(circle, #ff9a3c, #e07c2e)'; 
            } else if (percent < 0.66) { // الثلث الأوسط
                newThumbColor = 'radial-gradient(circle, #ffb347, #e0953a)'; 
            } else { // الثلث الأخير (الأقل دفئًا)
                newThumbColor = 'radial-gradient(circle, #ffe08c, #e0c87a)'; 
            }
            // تطبيق اللون على متغير CSS الذي يستخدمه مقبض شريط التمرير
            colorTempSliderElement.style.setProperty('--thumb-color', newThumbColor);
        }
        
        autoNightMode.addEventListener('change', function() {
            if (this.checked) {
                startAutoNightMode();
                 // لا حاجة لاستدعاء updateFilter هنا مباشرة، سيتم استدعاؤه من checkTimeOfDay إذا لزم الأمر
            } else {
                stopAutoNightMode();
                // إذا تم إلغاء الوضع التلقائي وكان ليلاً، قد نرغب في إبقاء الفلتر أو إزالته بناءً على حالة isEyeProtectionEnabled
            }
            savePreferences();
        });
    
        reduceGlare.addEventListener('change', function() {
            if (isEyeProtectionEnabled) {
                updateFilter();
            }
            savePreferences();
        });
    
        darkenText.addEventListener('change', function() {
            if (isEyeProtectionEnabled) {
                updateFilter();
            }
            savePreferences();
        });
    
        brightnessSlider.addEventListener('input', function() {
            document.body.style.opacity = this.value / 100;
            savePreferences();
        });
    
        function enableEyeProtection() {
            isEyeProtectionEnabled = true;
            emoji.textContent = '🛡️';
            toggleText.textContent = 'إيقاف';
            updateFilter();
            updateSliderColor(colorTempSliderElement.value); // تحديث لون المقبض عند التفعيل
            showNotification('تم تفعيل حماية العين');
            savePreferences(); // حفظ الحالة الجديدة
        }
    
        function disableEyeProtection() {
            isEyeProtectionEnabled = false;
            emoji.textContent = '🌙';
            toggleText.textContent = 'تشغيل';
            document.documentElement.style.filter = 'none';
            document.body.style.color = ''; // استعادة اللون الأصلي للنص
            // استعادة السطوع الافتراضي إذا لم يكن المستخدم قد ضبطه يدوياً
            // brightnessSlider.value = 100; // أو قيمة محفوظة مسبقًا
            // document.body.style.opacity = 1; 
            showNotification('تم إيقاف حماية العين');
            savePreferences(); // حفظ الحالة الجديدة
        }
    
        function updateFilter() {
            if (!isEyeProtectionEnabled) return;
    
            const temp = colorTempSliderElement.value;
            const warmth = (temp - 1700) / (2700 - 1700); // 0 (أكثر دفئًا) إلى 1 (أقل دفئًا)
            
            const sepiaValue = Math.min(1, 0.3 + 0.7 * (1 - warmth)); // زيادة تأثير السيبيا للألوان الدافئة
            const brightnessValue = 1 - 0.15 * (1 - warmth); // تقليل السطوع قليلاً مع الألوان الدافئة
            const contrastValue = reduceGlare.checked ? 1.05 : 1; // زيادة طفيفة للتباين عند تقليل الوهج
            const grayscaleValue = reduceGlare.checked ? 0.05 : 0; // مسحة رمادية خفيفة عند تقليل الوهج
            
            let filterString = `sepia(${sepiaValue}) brightness(${brightnessValue}) contrast(${contrastValue}) grayscale(${grayscaleValue})`;
            
            document.documentElement.style.filter = filterString;
            
            if (darkenText.checked) {
                // تعتيم النص بناءً على الدفء، النص يصبح أغمق مع الألوان الأكثر دفئًا
                document.body.style.color = `hsl(0, 0%, ${60 - ( (1-warmth) * 25)}%)`; 
            } else {
                document.body.style.color = ''; // استعادة اللون الافتراضي المحدد في CSS
            }
        }
    
        function checkTimeOfDay() {
            const hour = new Date().getHours();
            const isNightTime = hour >= 18 || hour <= 6; // من 6 مساءً حتى 6 صباحًا
            
            if (autoNightMode.checked) { // تحقق فقط إذا كان الوضع التلقائي نشطًا
                if (isNightTime) {
                    colorTempSliderElement.value = Math.max(1700, Math.min(colorTempSliderElement.value, 2000)); // ضبط لدرجة أكثر دفئًا ليلاً، لا تتجاوز 2000K
                    if (!isEyeProtectionEnabled) {
                        enableEyeProtection();
                        showNotification('تم تفعيل الوضع الليلي تلقائياً');
                    } else {
                        updateFilter(); // تحديث الفلتر إذا كان مفعلاً بالفعل
                    }
                } else { // وقت النهار
                    colorTempSliderElement.value = Math.min(2700, Math.max(colorTempSliderElement.value, 2400)); // درجة أقل دفئًا نهارًا، لا تقل عن 2400K
                    // يمكنك اختيارياً إيقاف الحماية تلقائيًا في النهار إذا كانت مفعلة بواسطة الوضع الليلي
                    // if (isEyeProtectionEnabled) {
                    //    disableEyeProtection();
                    //    showNotification('تم إيقاف الوضع الليلي تلقائياً (النهار)');
                    // }
                    if (isEyeProtectionEnabled) updateFilter();
                }
                updateSliderColor(colorTempSliderElement.value);
            }
        }
    
        function startAutoNightMode() {
            checkTimeOfDay(); // تحقق فورًا
            if (autoNightModeInterval) clearInterval(autoNightModeInterval); // مسح المؤقت القديم إذا وجد
            autoNightModeInterval = setInterval(checkTimeOfDay, 30 * 60 * 1000); // كل 30 دقيقة
        }
    
        function stopAutoNightMode() {
            clearInterval(autoNightModeInterval);
            autoNightModeInterval = null;
        }
    
        function showNotification(message) {
            // إزالة أي إشعار موجود أولاً
            const existingNotif = document.querySelector('.notification');
            if (existingNotif) existingNotif.remove();

            const notif = document.createElement('div');
            notif.className = 'notification';
            notif.textContent = message;
            document.body.appendChild(notif);
            
            setTimeout(() => {
                notif.classList.add('fade-out');
                setTimeout(() => notif.remove(), 500);
            }, 3000);
        }
    
        function savePreferences() {
            localStorage.setItem('eyeProtectionPrefs', JSON.stringify({
                autoNightMode: autoNightMode.checked,
                reduceGlare: reduceGlare.checked,
                darkenText: darkenText.checked,
                enabled: isEyeProtectionEnabled,
                brightness: brightnessSlider.value,
                colorTemp: colorTempSliderElement.value
            }));
        }
        
        // إغلاق اللوحة عند الضغط خارجها (باستثناء زر التبديل نفسه)
        document.addEventListener('click', function(event) {
            const isClickInsidePanel = controlPanel.contains(event.target);
            const isClickOnToggleButton = toggleButton.contains(event.target) || toggleButton === event.target;

            if (controlPanel.classList.contains('expanded') && !isClickInsidePanel && !isClickOnToggleButton) {
                controlPanel.classList.remove('expanded');
            }
        });

    </script>
</body>
</html>
  <style>
        body {
            font-family: 'Poppins', 'Amiri', serif;
            background-color: #121212;
            color: white;
            text-align: center;
            margin: 0;
            padding: 20px;



            text-align: center;
        }

        .popup {
            display: none;
            position: fixed;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1e1e1e;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 150, 255, 0.6);
            text-align: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out, top 0.3s ease-in-out;
        }

        .popup h3 {
            color: #00aaff;
            font-size: 22px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 10px;
        }

        .input-group input {
            width: 85%;
            padding: 12px;
            border-radius: 8px;
            border: 2px solid #00aaff;
            text-align: center;
            font-size: 16px;
            background-color: #222;
            color: white;
            outline: none;
            transition: 0.3s;
        }

        .input-group input:focus {
            border-color: #007bff;
            box-shadow: 0 0 10px rgba(0, 150, 255, 0.5);
        }

        .gender-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .gender-buttons button {
            background: linear-gradient(90deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 12px 20px;
            cursor: pointer;
            border-radius: 8px;
            font-size: 16px;
            transition: background 0.3s ease, transform 0.2s ease-in-out;
        }

        .gender-buttons button:hover {
            background: linear-gradient(90deg, #0056b3, #003c80);
            transform: scale(1.05);
        }

        .gender-buttons button.selected {
            background: #FFD700;
            color: black;
            font-weight: bold;
        }

        .submit-button {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 25px;
            cursor: pointer;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 16px;
            transition: background 0.3s ease, transform 0.2s ease-in-out;
        }

        .submit-button:hover {
            background: #218838;
            transform: scale(1.05);
        }

        .fade-in {
            opacity: 1 !important;
            top: 50% !important;
        }

        #greeting {
            display: none;
            font-size: 24px;
            font-weight: bold;
            margin-top: 50px;
            text-shadow: 2px 2px 10px rgba(0, 150, 255, 0.5);
        }
#studyMessage {
    display: none;
    font-size: 18px;
    margin-top: 15px;
    color: #FFD700;
    font-weight: bold; /* ← تمت إضافتها */
    text-align: center;
}



    </style>
</head>
<body>

    <br>  <br>  
    <div id="welcomePopup" class="popup">
        <h3>  ! السلام عليكم و أهلاً يا طبيب/طبيبة مستقبلنا ان شاء الله  </h3>

        <p>من فضلك أدخل/ادخلي اسمك واختر/اختاري جنسك:</p>

    
        <div class="input-group">
            <input type="text" id="username" placeholder="أدخل اسمك">
        </div>
    
        <div class="gender-buttons">
            <button id="femaleButton" onclick="selectGender('female')"> امرأة</button>
            <button id="maleButton" onclick="selectGender('male')">  رجل</button>
           
        </div>
    
        <button class="submit-button" onclick="submitInfo()">متابعة</button>
    </div>
    
    <!-- يجب أن يكون خارج نافذة الإدخال حتى يظهر عند الضغط على متابعة -->
    <div id="greetingContainer" style="display: none; flex-direction: column; align-items: center; gap: 10px; margin-top: 70px;">
        <h2 id="welcomeMessage" style="color: #00aaff; text-align: center;"></h2>
        <img id="doctorImage" src="" alt="صورة الطبيب" style="width: 60px; height: 60px; border-radius: 50%;">
        <h1 id="greeting" style="margin: 0; font-size: 22px;"></h1>
    </div>
    <p id="studyMessage" style= " text-align: center; background-color: black;"></p>
    <BR>
<p id="nationMessage" style="color: #FFD700; font-weight: bold; font-size: 18px; text-align: center; background-color: black;"></p>
    
    <script>
        let selectedGender = "";
    
        document.addEventListener("DOMContentLoaded", function () {
            let storedName = localStorage.getItem("username");
            let storedGender = localStorage.getItem("gender");
            let visitCount = parseInt(localStorage.getItem("visitCount") || "0");
    
            visitCount += 1;
            localStorage.setItem("visitCount", visitCount);
    
            if (visitCount >= 3) {
                localStorage.removeItem("username");
                localStorage.removeItem("gender");
                localStorage.setItem("visitCount", "0");
                storedName = null;
            }
    
            if (storedName && storedGender) {
                displayGreeting(storedName, storedGender);
            } else {
                let popup = document.getElementById('welcomePopup');
                popup.style.display = 'block';
                setTimeout(() => popup.classList.add('fade-in'), 50);
            }
        });
    
        function selectGender(gender) {
            selectedGender = gender;
            document.getElementById("maleButton").classList.remove("selected");
            document.getElementById("femaleButton").classList.remove("selected");
    
            if (gender === "male") {
                document.getElementById("maleButton").classList.add("selected");
            } else {
                document.getElementById("femaleButton").classList.add("selected");
            }
        }
    


        function submitInfo() {
    let name = document.getElementById('username').value.trim();
    if (name === "") {
        alert("❌ يرجى إدخال اسمك");
        return;
    }
    if (!selectedGender) {
        alert("❌ يرجى اختيار الجنس");
        return;
    }

    console.log("🚀 إرسال الاسم:", name);
    console.log("🚀 إرسال الجنس:", selectedGender);

    localStorage.setItem("username", name);
    localStorage.setItem("gender", selectedGender);
    localStorage.setItem("visitCount", "0");

    displayGreeting(name, selectedGender);

    let popup = document.getElementById('welcomePopup');
    popup.classList.remove('fade-in');
    setTimeout(() => popup.style.display = 'none', 500);
}






function displayGreeting(name, gender) {
    console.log("✅ تم استلام الاسم:", name);
    console.log("✅ تم استلام الجنس:", gender);

    let welcomeMessage = `السلام عليكم ومرحبًا بك يا ${name}`;  
    
    
    let greetingMessage = gender === "male" 
        ? `مرحبًا دكتور ${name}!` 
        : `مرحبًا دكتورة ${name}!`;

    let studyMessage = gender === "male" 
        ? "ادرس جيدًا يا طبيب المسلمين إن شاء الله 📚" 
        : "ادرسِ جيدًا يا طبيبة المسلمات إن شاء الله 📚";

  
       
        

        let nationNeedsYou = 
    " يقول الله تعالى وبعد بسم الله الرحمان الرحيم :\n" +
    "  ﴿الَّذِينَ يَتَّخِذُونَ الْكَافِرِينَ أَوْلِيَاءَ مِن دُونِ الْمُؤْمِنِينَ ۚ أَيَبْتَغُونَ عِندَهُمُ الْعِزَّةَ فَإِنَّ الْعِزَّةَ لِلَّهِ جَمِيعًا ﴾\n" +
    "[النساء: 139]\n\n" +
    
    " يقول الله تعالى وبعد بسم الله الرحمان الرحيم :\n" +
    "﴿ لَهُ مُعَقِّبَاتٌ مِّن بَيْنِ يَدَيْهِ وَمِنْ خَلْفِهِ يَحْفَظُونَهُ مِنْ أَمْرِ اللَّهِ ۗ إِنَّ اللَّهَ لَا يُغَيِّرُ مَا بِقَوْمٍ حَتَّىٰ يُغَيِّرُوا مَا بِأَنفُسِهِمْ ۗ وَإِذَا أَرَادَ اللَّهُ بِقَوْمٍ سُوءًا فَلَا مَرَدَّ لَهُ ۚ وَمَا لَهُم مِّن دُونِهِ مِن وَالٍ ﴾\n" +
    "[الرعد: 11]\n\n" +

    "أمتكم بحاجة إليكم.. كونوا عونًا لها في سبيل الله، اجعلوا علمكم طريقًا لنهضة أمتكم.. أمتكم بحاجة إليكم.\n\n" +
    
    "فعن السلف الصالح عمر بن الخطاب رضي الله عنه قال:\n" +
    "\"إنَّا كنَّا أذَلَّ قومٍ، فأعزَّنا اللَّهُ بالإسلامِ، فمهما نطلُبِ العِزَّةَ بغيرِ ما أعزَّنا اللَّهُ به أذلَّنا اللَّهُ.\"";

// وضع النص داخل العنصر بدون أكواد HTML ظاهرة
document.getElementById('nationMessage').textContent = nationNeedsYou;






    let imageSrc = gender === "male" 
        ? "S22MCS PARTS/doctor.png" 
        : "S22MCS PARTS/doctormuslim.png";

    // تحديث العناصر في الصفحة
    document.getElementById('welcomeMessage').innerText = welcomeMessage;
    document.getElementById('greeting').innerText = greetingMessage;
    document.getElementById('studyMessage').innerText = studyMessage;
    document.getElementById('nationMessage').innerText = nationNeedsYou;
    document.getElementById('doctorImage').src = imageSrc;

    // عرض القسم بالكامل
    document.getElementById('greetingContainer').style.display = 'flex';
    document.getElementById('studyMessage').style.display = 'block';
    document.getElementById('nationMessage').style.display = 'block';
}

        
    </script>
    
</body>
</html>




<!DOCTYPE html>
        <html lang="ar">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>  </title>
       <!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صفحة الدرس</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* === إعدادات عامة === */
        :root {
            --primary-color: #00aaff;
            --primary-dark-color: #007bff;
            --primary-darker-color: #0056b3;
            --dark-bg: #121212;
            --light-dark-bg: #1a1a1a;
            --medium-dark-bg: #222;
            --dark-gray-bg: #333;
            --light-gray-bg: #444;
        }

        body {
            font-family: 'Poppins', 'Amiri', serif;
            background-color: var(--dark-bg);
            color: white;
            margin: 0;
            padding: 20px;
            text-align: center;
            padding-top: 100px; /* مساحة للشريط العلوي الثابت */
        }

        /* === الشريط العلوي === */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 90px;
            background-color: var(--dark-gray-bg);
            color: white;
            padding: 0 16px;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            box-sizing: border-box;
            gap: 15px; /* مسافة بين العناصر */
        }

        .sidebar h3 {
            margin: 0;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 0; /* يمنع التقلص */
        }
        
        /* حاوية شريط التقدم */
        .progress-bar-container {
            width: 100%; /* اجعله يأخذ المساحة المتاحة */
            max-width: 600px;
            height: 25px;
            background-color: var(--light-gray-bg);
            border-radius: 15px;
            position: relative;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            flex-grow: 1; /* يسمح له بالتمدد */
        }

.progress-bar {
    height: 100%;
    width: 50%;

  background-color: #0066ff; /* <-- هذا السطر يجعل الشريط أزرق */

    border-radius: 15px;
    transition: width 0.3s ease-in-out;
}



        .progress-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 14px;
            font-weight: bold;
        }

        /* أزرار الشريط العلوي */
        .sidebar-button {
            padding: 8px 12px;
            font-size: 0.9rem;
            box-sizing: border-box;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            background-color: var(--primary-dark-color);
            color: white;
            white-space: nowrap; /* يمنع التفاف النص */
        }
        .sidebar-button:hover {
            background-color: var(--primary-darker-color);
        }
        .finish-button {
             background-color: var(--primary-color);
        }

        /* === محتوى الدرس (الفقاعات) === */
        .lesson-container {
            margin-top: 20px;
        }
        .bubble {
            background: rgba(30, 30, 30, 0.95);
            box-shadow: 0 6px 20px rgba(0, 150, 255, 0.4);
            border-left: 6px solid var(--primary-color);
            padding: 20px;
            border-radius: 20px;
            margin: 20px auto 70px auto;
            max-width: 60rem;
            transition: transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
            text-align: right;
            position: relative;
            cursor: pointer;
        }
        .bubble:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 150, 255, 0.5);
        }

        .interact-button {
            position: absolute;
            top: 5px;
            left: 6px;
            background-color: var(--primary-dark-color);
            color: white;
            border: none;
            padding: 8px 12px;
            font-size: 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .interact-button:hover {
            background-color: var(--primary-darker-color);
        }
        
        /* صورة خارجية */
        .outside-image {
            display: block;
            margin: 20px auto;
            max-width: 100%;
            height: auto;
        }
        
        /* زر إعادة التحميل */
        .refresh-button {
            background: linear-gradient(135deg, var(--light-dark-bg), var(--dark-gray-bg));
            color: #ffffff;
            border: 1px solid var(--light-gray-bg);
            padding: 10px 22px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            border-radius: 25px;
            font-family: 'Poppins', Arial, sans-serif;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
            display: inline-flex;
            align-items: center;
            gap: 6px;
            min-width: 160px;
            justify-content: center;
        }
        .refresh-button:hover {
            background: linear-gradient(135deg, #292929, var(--light-gray-bg));
            transform: translateY(-3px);
            box-shadow: 0 6px 18px rgba(255, 255, 255, 0.15);
        }
        .refresh-button::before {
            content: "🔄";
            font-size: 18px;
        }

        /* === النوافذ المنبثقة (Modals) === */
        .modal, #end-lesson-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 400px;
            background: var(--medium-dark-bg);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 150, 255, 0.5);
            text-align: center;
        }
        .modal h3, #end-lesson-modal h3 {
            color: var(--primary-color);
        }
        .modal button, #end-lesson-modal button {
            background-color: var(--primary-dark-color);
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px;
            font-size: 16px;
        }
        .modal button:hover, #end-lesson-modal button:hover {
             background-color: var(--primary-darker-color);
        }
        
        /* نافذة نهاية الدرس */
        #end-lesson-modal {
            max-width: 600px;
            background-color: var(--dark-gray-bg);
            padding: 30px;
        }
         #end-lesson-modal h3 {
            font-size: 24px;
         }
         #end-lesson-modal p {
            font-size: 18px;
         }
        
        /* === استجابة التصميم للشاشات المختلفة (Media Queries) === */
        
        /* شاشات متوسطة (Tablets) */
        @media (max-width: 768px) {
            body {
                padding-top: 80px;
            }
            .sidebar {
                height: 70px;
                gap: 10px;
            }
            .sidebar h3 {
                font-size: 0.9rem;
            }
             .sidebar-button {
                padding: 6px 10px;
                font-size: 0.8rem;
            }
            .bubble {
                max-width: 90%;
                padding: 15px;
            }
            .refresh-button {
                padding: 8px 18px;
                font-size: 14px;
                min-width: 140px;
            }
        }

        /* شاشات صغيرة (الهواتف) */
        @media (max-width: 480px) {
            body {
                padding: 10px;
                padding-top: 130px; /* مساحة إضافية بسبب التفاف الشريط */
                font-size: 15px;
            }
            .sidebar {
                flex-wrap: wrap; /* السماح للعناصر بالالتفاف */
                height: auto; /* ارتفاع تلقائي */
                padding: 10px;
                justify-content: center;
            }
            .sidebar h3 {
                display: none; /* إخفاء النص لتوفير مساحة */
            }
            .progress-bar-container {
                order: -1; /* وضع شريط التقدم في الأعلى */
                width: 100%;
                height: 20px;
                margin-bottom: 10px;
            }
            .progress-percentage {
                font-size: 12px;
            }
            .bubble {
                padding: 10px;
            }
            .interact-button {
                font-size: 12px;
                padding: 5px 8px;
            }
             .refresh-button {
                padding: 7px 16px;
                font-size: 13px;
                min-width: 120px;
            }
        }
    </style>
</head>
<body>

    <div class="sidebar">
        <button class="sidebar-button finish-button" onclick="finishLesson()">
            ✅ انتهيت
        </button>
        
        <h3 id="proo">📊 <span>التقدم</span></h3>

        <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
            <div class="progress-percentage" id="progress-percentage">0%</div>
        </div>

        <button onclick="goToUncompletedBubble()" class="sidebar-button">
            🔍 الفقاعات غير المكتملة
        </button>
    </div>


   
 




</body>
</html>
    


    <br>       <br>    <br>
    <div class="refresh-container"  id="ref">
        <button class="refresh-button" onclick="location.reload();">تحديث الصفحة</button>
    </div>
    <br>
    <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 70vh; text-align: center;">
      
  
     
        <h1 class="lesson-title">النَّوْمُ وَاليَقَظَة</h1>
        <h2 class="lesson-subtitle">🔻SLEEP AND WAKEFULNESS🔻</h2>
        <h2 class="lesson-subtitle">🔻SOMMEIL ET VIGILANCE🔻</h2>
    
    </div>
          
    </div>
    

     


     <!DOCTYPE html>
     <html lang="ar">
     <head>
         <meta charset="UTF-8">
         <meta name="viewport" content="width=device-width, initial-scale=1.0">
         <title>تم عبر برنامج 2019 الطب الجزائري</title>
     
         <style>
         body {
             font-family: 'Poppins', 'Amiri', serif;
             direction: rtl;
             text-align: right;
             background-color: #121212;
             color: white;
             margin: 0;
             padding: 20px;
         }
         
         .container {
             max-width: 600px;
             margin: auto;
             background: #1e1e1e;
             padding: 20px;
             border-radius: 10px;
             box-shadow: 0 0 15px rgba(0, 150, 255, 0.3);
         }
         
         h2 {
             text-align: center;
             color: #00aaff;
         }
         
         .lesson {
             display: flex;
             align-items: center;
             justify-content: space-between;
             padding: 15px;
             border-bottom: 1px solid #444;
             flex-direction: column;
             background: rgba(30, 30, 30, 0.9);
             border-radius: 10px;
             margin-bottom: 10px;
             transition: transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
         }
         
         .lesson:hover {
             transform: translateY(-3px);
             box-shadow: 0 6px 15px rgba(0, 150, 255, 0.4);
         }
         
         .lesson input {
             transform: scale(1.3);
             accent-color: #00aaff;
         }
         
         .lesson span {
             flex-grow: 1;
             margin-right: 10px;
         }
         
         .translation {
             font-size: 12px;
             color: #bbb;
             margin-top: 5px;
         }
         
         .progress-bar {
             width: 100%;
             background: #444;
             height: 12px;
             border-radius: 6px;
             margin: 10px 0;
             overflow: hidden;
         }
         
         .progress {
             height: 100%;
             background: #00aaff;
             width: 0%;
             transition: width 0.3s;
         }
         
         .btn {
             display: block;
             width: 100%;
             padding: 12px;
             background: #00aaff;
             color: white;
             text-align: center;
             border: none;
             border-radius: 6px;
             cursor: pointer;
             font-size: 16px;
             margin-top: 10px;
             transition: background 0.3s ease-in-out;
         }
         
         .btn:hover {
             background: #0077cc;
         }
         
         .lang {
             text-align: center;
             color: #bbb;
             font-size: 14px;
             margin-top: 20px;
         }
     </style>    






     <style>

        /* تنسيقات عامة للفقاعات والجداول */
.bubble {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch; /* لتحسين التمرير على الأجهزة المحمولة */
}

table {
    width: 100%;
    border-collapse: collapse;
    margin: 15px 0;
    min-width: 600px; /* عرض أدنى للجدول لضمان القراءة */
}

th, td {
    padding: 12px 15px;
    text-align: right;
    border: 1px solid #ddd;
}

th {
    background-color: #f2f2f2;
    font-weight: bold;
}

/* تنسيقات خاصة للجداول الإنجليزية والفرنسية */
table[dir="rtl"] {
    text-align: right;
}

table:not([dir="rtl"]) {
    text-align: left;
}

/* تحسينات للعرض على الهواتف */
@media screen and (max-width: 768px) {
    th, td {
        padding: 8px 10px;
        font-size: 14px;
    }
    
    h3 {
        font-size: 16px;
    }
    
    p {
        font-size: 14px;
    }
}












        
     </style>
     </head>
     <body>
         <div class="container">

             <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center;">
                <h2>الأهداف العامة والخاصة في الدرس</h2>
            </div>
            
             <div class="progress-bar"><div class="progress"></div></div>
             <div id="lessonList"></div>
             <button class="btn" onclick="completeAll()">إكمال الكل</button>
             <div class="lang">
                
                العربية

                <br>
            English | Français 
            </div>
         </div>
     
         <script>
             const lessons = [
        


             { ar: "  الاهداف العامة   " },




        { ar: "  الاهداف الخاصة بالدرس   " },







    ];

     
             const lessonList = document.getElementById("lessonList");
             lessons.forEach((lesson, index) => {
                 const div = document.createElement("div");
                 div.className = "lesson";
                 div.innerHTML = `
                     <input type="checkbox" onchange="updateProgress()" id="lesson${index}">
                     <span>${lesson.ar}</span>
                     <div class="translation">${lesson.en}</div>
                     <div class="translation">${lesson.fr}</div>
                 `;
                 lessonList.appendChild(div);
             });
     
             function updateProgress() {
                 const checkboxes = document.querySelectorAll("input[type=checkbox]");
                 let completed = 0;
                 checkboxes.forEach(cb => { if (cb.checked) completed++; });
                 document.querySelector(".progress").style.width = (completed / lessons.length * 100) + "%";
             }
     
             function completeAll() {
                 document.querySelectorAll("input[type=checkbox]").forEach(cb => cb.checked = true);
                 updateProgress();
             }
         </script>
     </body>
     </html>







<div class="bubble">
    <button class="interact-button" id="vigilance-sleep-cycle" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>مقدمة وتعريفات:</strong></li>
        <ul>
            <li>توجد عدة مستويات من اليقظة، مرتبة حسب درجة الانتباه التصاعدي كما يلي:
                <ul>
                    <li>النوم العميق</li>
                    <li>النوم الخفيف</li>
                    <li>النعاس</li>
                    <li>اليقظة العامة</li>
                    <li>اليقظة المركزة</li>
                    <li>فرط الإثارة (أعلى من اليقظة)</li>
                </ul>
            </li>
            <li><strong>اليقظة:</strong> تتميز بتفاعل طبيعي للفرد مع البيئة المحيطة به.</li>
            <li><strong>النوم:</strong> هو فقدان مؤقت وقابل للعكس للوعي بعد التحفيز المناسب، وهو ظاهرة فسيولوجية، دورية، ومنظمة ذاتيًا.</li>
            <li><strong>الإيقاع اليوماوي (Circadien):</strong> من الكلمتين اللاتينيتين "circa" وتعني "حوالي"، و"dies" وتعني "يوم"، وهو التناوب الدوري بين حالتي اليقظة والنوم خلال 24 ساعة (اليوم الواحد).</li>
            <li>تتحكم عدة عوامل في هذا التناوب:
                <ul>
                    <li><strong>عوامل خارجية:</strong> مثل التناوب بين الضوء والظلام، والعادات اليومية مثل الدراسة أو العمل.</li>
                    <li><strong>عوامل داخلية:</strong> مثل الساعة البيولوجية (التي يمثلها بشكل رئيسي تحت المهاد/الهايبوثالاموس).</li>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>I. Generalities - Definitions:</strong></li>
            <ul>
                <li>There are several levels of vigilance, in increasing order:
                    <ul>
                        <li>Deep sleep</li>
                        <li>Light sleep</li>
                        <li>Drowsiness</li>
                        <li>Diffuse wakefulness</li>
                        <li>Attentive wakefulness</li>
                        <li>Hyperexcitation (beyond wakefulness)</li>
                    </ul>
                </li>
                <li><strong>Wakefulness:</strong> Characterized by normal interaction of the subject with the environment.</li>
                <li><strong>Sleep:</strong> A temporary and reversible loss of consciousness that can be interrupted by effective stimulation. It is a physiological, cyclic, and self-regulated phenomenon.</li>
                <li><strong>Circadian rhythm:</strong> From Latin "circa" = about, and "dies" = day. It refers to the periodic alternation between wakefulness and sleep over a 24-hour cycle (one day).</li>
                <li>This alternation is regulated by:
                    <ul>
                        <li><strong>External factors:</strong> Such as the alternation of light and darkness, and acquired rhythms (habits, school, work).</li>
                        <li><strong>Internal factors:</strong> The internal clock, mainly represented by the hypothalamus.</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>I. GÉNÉRALITÉS - DÉFINITIONS :</strong></li>
            <ul>
                <li>Il existe plusieurs niveaux de vigilance, classés par ordre croissant :
                    <ul>
                        <li>Sommeil profond</li>
                        <li>Sommeil léger</li>
                        <li>Somnolence</li>
                        <li>Veille diffuse</li>
                        <li>Veille attentive</li>
                        <li>Hyperexcitation (au-delà de la veille)</li>
                    </ul>
                </li>
                <li><strong>La veille :</strong> se caractérise par une interaction normale du sujet avec son environnement.</li>
                <li><strong>Le sommeil :</strong> est une perte temporaire et réversible de la conscience après une stimulation efficace. C’est un phénomène physiologique, cyclique et autorégulé.</li>
                <li><strong>Le rythme circadien :</strong> du latin « circa » = environ et « dies » = jour, désigne l'alternance périodique entre l’état de veille et l’état de sommeil sur 24 heures.</li>
                <li>Cette alternance est régulée par :
                    <ul>
                        <li><strong>Des facteurs externes :</strong> comme l’alternance lumière/obscurité, les rythmes acquis (habitudes, école, travail).</li>
                        <li><strong>Des facteurs internes :</strong> principalement l’horloge interne représentée par l’hypothalamus.</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</div>









<div class="bubble">
    <button class="interact-button" id="isolation-experiment" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>تجربة العزل الزمني (تجربة "التدفق الحر") - Aschoff & Wever:</strong></li>
        <ul>
            <li>تمت في **مخبأ تحت الأرض** خالٍ من الضوء الطبيعي، الساعات، أو أي قيود اجتماعية.</li>
            <li><strong>الرصد:</strong> استمر إيقاع النوم واليقظة، لكنه بدأ في التغير تدريجيًا ليقترب من دورة قدرها ≈ 25 ساعة.</li>
            <li>الوظائف الحيوية مثل **درجة الحرارة المركزية**، **الكورتيزول**، و**الميلاتونين**، استمرت في إظهار دورات منتظمة.</li>
            <li>تُظهر هذه النتائج وجود **إيقاعات داخلية ذاتية التنظيم** يحافظ عليها **ساعة داخلية** مستقلة عن المنبهات الخارجية.</li>
            <li><strong>تعريف (Lavelle):</strong> النوم ظاهرة فسيولوجية، دورية، وذاتية التنظيم.</li>
        </ul>
    </ul>
     <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 PHYSIOLOGY/A01.jpg" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>



    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Temporal Isolation Experiment ("free-run" experiment) - Aschoff & Wever:</strong></li>
            <ul>
                <li>Conducted in an **underground bunker**, without natural light, clocks, or social constraints.</li>
                <li><strong>Observation:</strong> The sleep-wake rhythm persisted but gradually shifted to a ≈ 25-hour cycle.</li>
                <li>Core body temperature, cortisol, melatonin, etc., continued to show rhythmic cycles.</li>
                <li>These results support the existence of **endogenous rhythms** maintained by an **internal clock**, independently of external stimuli.</li>
                <li><strong>Definition (Lavelle):</strong> Sleep is a physiological, cyclic, and self-regulated phenomenon.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Expérience d'isolement temporel (expérience en "libre cours") - Aschoff & Wever :</strong></li>
            <ul>
                <li>Réalisation dans un **bunker souterrain**, sans lumière naturelle, sans horloge, et sans contraintes sociales.</li>
                <li><strong>Observation :</strong> Le rythme veille-sommeil persiste, mais il se décale progressivement vers un cycle d’environ 25 heures.</li>
                <li>La température centrale, le cortisol, la mélatonine, etc., continuent de présenter des cycles réguliers.</li>
                <li>Ces résultats mettent en évidence l’existence de **rythmes endogènes** maintenus par une **horloge interne**, indépendamment des stimuli externes.</li>
                <li><strong>Définition (Lavelle) :</strong> Le sommeil est un phénomène physiologique, cyclique et autorégulé.</li>
            </ul>
        </ul>
    </div>
</div>

   




















<div class="bubble">
    <button class="interact-button" id="vigilance-table" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- جدول عربي -->
    <h3 dir="rtl">مستويات اليقظة - بالعربية</h3>
    <table border="1" dir="rtl" style="width:100%; text-align: right; border-collapse: collapse;">
        <thead>
            <tr>
                <th>المستوى</th>
                <th>الخصائص</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>النوم العميق</td>
                <td>لا يوجد تفاعل مع البيئة، تخطيط الدماغ بطيء</td>
            </tr>
            <tr>
                <td>النوم الخفيف</td>
                <td>استجابات ممكنة لمحفزات قوية</td>
            </tr>
            <tr>
                <td>النعاس</td>
                <td>بطء ذهني، بداية نوم جزئي</td>
            </tr>
            <tr>
                <td>يقظة غير مركزة</td>
                <td>استيقاظ غير مكتمل، تركيز غير مستقر</td>
            </tr>
            <tr>
                <td>يقظة مركزة</td>
                <td>الحالة المثالية للتعلم والتركيز</td>
            </tr>
            <tr>
                <td>فرط الإثارة</td>
                <td>زيادة في النشاط، توتر، واضطراب</td>
            </tr>
        </tbody>
    </table>
    <p><strong>اليقظة:</strong> حالة وعي يتفاعل فيها الشخص مع البيئة بشكل طبيعي.</p>
    <p><strong>النوم:</strong> فقدان مؤقت للوعي، قابل للاسترجاع بعد تنبيه فعّال. ظاهرة فسيولوجية دورية ومنظمة ذاتياً.</p>

    <br>

    <!-- Table English -->
    <h3>Vigilance Levels - In English</h3>
    <table border="1" style="width:100%; text-align: left; border-collapse: collapse;">
        <thead>
            <tr>
                <th>Level</th>
                <th>Characteristics</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Deep sleep</td>
                <td>No interaction with the environment, slow EEG</td>
            </tr>
            <tr>
                <td>Light sleep</td>
                <td>Possible reactions to strong stimuli</td>
            </tr>
            <tr>
                <td>Drowsiness</td>
                <td>Mental slowness, partial sleep onset</td>
            </tr>
            <tr>
                <td>Diffuse wakefulness</td>
                <td>Incomplete awakening, unstable attention</td>
            </tr>
            <tr>
                <td>Focused wakefulness</td>
                <td>Optimal state for learning and concentration</td>
            </tr>
            <tr>
                <td>Hyperexcitation</td>
                <td>Overactivation, stress, agitation</td>
            </tr>
        </tbody>
    </table>
    <p><strong>Wakefulness:</strong> A conscious alert state with normal interaction with the environment.</p>
    <p><strong>Sleep:</strong> A temporary and reversible loss of consciousness, responsive to effective stimulation. It is a physiological, cyclic, and self-regulated process.</p>

    <br>

    <!-- Tableau français -->
    <h3>Niveaux de vigilance - En français</h3>
    <table border="1" style="width:100%; text-align: left; border-collapse: collapse;">
        <thead>
            <tr>
                <th>Niveau</th>
                <th>Caractéristiques</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Sommeil profond</td>
                <td>Aucune interaction avec l'environnement, EEG lent</td>
            </tr>
            <tr>
                <td>Sommeil léger</td>
                <td>Réactions possibles à des stimuli forts</td>
            </tr>
            <tr>
                <td>Somnolence</td>
                <td>Lenteur mentale, endormissement partiel</td>
            </tr>
            <tr>
                <td>Veille diffuse</td>
                <td>Réveil incomplet, attention instable</td>
            </tr>
            <tr>
                <td>Veille attentive</td>
                <td>État optimal pour l'apprentissage et la concentration</td>
            </tr>
            <tr>
                <td>Hyperexcitation</td>
                <td>Excès d'activation, stress, agitation</td>
            </tr>
        </tbody>
    </table>
    <p><strong>La veille :</strong> État conscient d'interaction normale avec l'environnement.</p>
    <p><strong>Le sommeil :</strong> Perte temporaire et réversible de la conscience, répondant à une stimulation efficace. C'est un phénomène physiologique, cyclique, et autorégulé.</p>
</div>
























<div class="bubble">
    <button class="interact-button" id="vigilance-comparative-table" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <h3>مقارنة بين مستويات اليقظة باللغات الثلاث</h3>
    <table border="1" style="width:100%; text-align: center; border-collapse: collapse;">
        <thead>
            <tr>
                <th>المستوى</th>
                <th>Le niveau (FR)</th>
                <th>Level (EN)</th>
                <th>الخصائص</th>
                <th>Caractéristiques (FR)</th>
                <th>Characteristics (EN)</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>النوم العميق</td>
                <td>Sommeil profond</td>
                <td>Deep sleep</td>
                <td>لا يوجد تفاعل مع البيئة، تخطيط الدماغ بطيء</td>
                <td>Aucune interaction avec l'environnement, EEG lent</td>
                <td>No interaction with the environment, slow EEG</td>
            </tr>
            <tr>
                <td>النوم الخفيف</td>
                <td>Sommeil léger</td>
                <td>Light sleep</td>
                <td>استجابات ممكنة لمحفزات قوية</td>
                <td>Réactions possibles à des stimuli forts</td>
                <td>Possible reactions to strong stimuli</td>
            </tr>
            <tr>
                <td>النعاس</td>
                <td>Somnolence</td>
                <td>Drowsiness</td>
                <td>بطء ذهني، بداية نوم جزئي</td>
                <td>Lenteur mentale, endormissement partiel</td>
                <td>Mental slowness, partial sleep onset</td>
            </tr>
            <tr>
                <td>يقظة غير مركزة</td>
                <td>Veille diffuse</td>
                <td>Diffuse wakefulness</td>
                <td>استيقاظ غير مكتمل، تركيز غير مستقر</td>
                <td>Réveil incomplet, attention instable</td>
                <td>Incomplete awakening, unstable attention</td>
            </tr>
            <tr>
                <td>يقظة مركزة</td>
                <td>Veille attentive</td>
                <td>Focused wakefulness</td>
                <td>الحالة المثالية للتعلم والتركيز</td>
                <td>État optimal pour l'apprentissage et la concentration</td>
                <td>Optimal state for learning and concentration</td>
            </tr>
            <tr>
                <td>فرط الإثارة</td>
                <td>Hyperexcitation</td>
                <td>Hyperexcitation</td>
                <td>زيادة في النشاط، توتر، واضطراب</td>
                <td>Excès d'activation, stress, agitation</td>
                <td>Overactivation, stress, agitation</td>
            </tr>
        </tbody>
    </table>

    <br>

    <h4>تعريفات / Définitions / Definitions</h4>
    <ul>
        <li><strong>اليقظة / La veille / Wakefulness:</strong> حالة وعي طبيعية تتفاعل مع البيئة</li>
        <li><strong>النوم / Le sommeil / Sleep:</strong> فقدان مؤقت وقابل للعكس للوعي، استجابة لمحفز فعّال</li>
    </ul>
</div>



















































<div class="bubble">
    <button class="interact-button" id="nsc-clock" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>النواة فوق التصالبة هي مقر الساعة البيولوجية:</strong></li>
        <ul>
            <li><strong>تجربة تلف النواة فوق التصالبة (NSC):</strong></li>
            <ul>
                <li><strong>الهدف:</strong> تحديد الموقع التشريحي للساعة البيولوجية (الساعة اليومية).</li>
                <li><strong>الطريقة:</strong> يتم إتلاف NSC في منطقة تحت المهاد لدى الجرذ.</li>
                <li><strong>النتيجة:</strong> تختفي الإيقاعات اليومية (النوم واليقظة، درجة الحرارة، الإفرازات الهرمونية).</li>
                <li><strong>الاستنتاج:</strong> NSC هي مركز التحكم في الإيقاعات اليومية.</li>
            </ul>
            <li><strong>تجربة زرع NSC:</strong></li>
            <ul>
                <li><strong>الهدف:</strong> تأكيد دور NSC كمركز مستقل للإيقاع.</li>
                <li><strong>الطريقة:</strong> يتم زرع NSC سليمة في جرذ تم تدمير NSC لديه.</li>
                <li><strong>النتيجة:</strong> تعود الإيقاعات اليومية، وتكون دورتها الزمنية مطابقة لدورة الحيوان المتبرع.</li>
                <li><strong>الاستنتاج:</strong> NSC لها إيقاع داخلي وتتحكم في تنظيم الإيقاعات الحيوية للجسم.</li>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>The suprachiasmatic nucleus (SCN) is the seat of the biological clock:</strong></li>
            <ul>
                <li><strong>SCN lesion experiment:</strong></li>
                <ul>
                    <li><strong>Objective:</strong> Identify the anatomical location of the circadian clock.</li>
                    <li><strong>Method:</strong> In rats, the SCN in the hypothalamus is destroyed.</li>
                    <li><strong>Result:</strong> Circadian rhythms (sleep-wake, temperature, hormone secretion) disappear.</li>
                    <li><strong>Conclusion:</strong> The SCN is the control center of circadian rhythms.</li>
                </ul>
                <li><strong>SCN transplantation experiment:</strong></li>
                <ul>
                    <li><strong>Objective:</strong> Confirm the SCN’s role as an autonomous rhythm generator.</li>
                    <li><strong>Method:</strong> Functional SCNs are transplanted into animals whose SCNs have been destroyed.</li>
                    <li><strong>Result:</strong> Circadian rhythms are restored with a period matching that of the donor.</li>
                    <li><strong>Conclusion:</strong> The SCN has intrinsic rhythmicity and regulates the body's circadian rhythms.</li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Le noyau suprachiasmatique (NSC) est le siège de l’horloge biologique :</strong></li>
            <ul>
                <li><strong>Expérience de lésion des NSC :</strong></li>
                <ul>
                    <li><strong>Objectif :</strong> Identifier le siège anatomique de l’horloge circadienne.</li>
                    <li><strong>Méthode :</strong> On détruit les NSC dans l’hypothalamus de rats.</li>
                    <li><strong>Résultat :</strong> Les rythmes circadiens (veille-sommeil, température, sécrétions hormonales) disparaissent.</li>
                    <li><strong>Conclusion :</strong> Les NSC sont les centres de commande des rythmes circadiens.</li>
                </ul>
                <li><strong>Expérience de greffe des NSC :</strong></li>
                <ul>
                    <li><strong>Objectif :</strong> Confirmer le rôle autonome des NSC dans la régulation rythmique.</li>
                    <li><strong>Méthode :</strong> Greffe de NSC fonctionnels dans un animal dont les NSC ont été détruits.</li>
                    <li><strong>Résultat :</strong> Les rythmes circadiens sont restaurés, avec une période correspondant à celle du donneur.</li>
                    <li><strong>Conclusion :</strong> Les NSC possèdent une rythmicité intrinsèque et régulent tout l’organisme.</li>
                </ul>
            </ul>
        </ul>
    </div>
</div>








<div class="bubble">
    <button class="interact-button" id="sleep-wake-cycle" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>تبادل حالات اليقظة والنوم:</strong></li>
        <ul>
            <li><strong>العوامل الخارجية:</strong>
                <ul>
                    <li>الضوء / الظلام</li>
                    <li>الإيقاعات المكتسبة:
                        <ul>
                            <li>جداول منتظمة (العمل، المدرسة)</li>
                            <li>العادات اليومية</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>العوامل الداخلية:</strong>
                <ul>
                    <li>الساعة البيولوجية الداخلية</li>
                    <li>موجودة في منطقة تحت المهاد (النواة فوق التصالبة)</li>
                    <li>تنظم الإيقاع اليومي (circadien)</li>
                </ul>
            </li>
            <li>هناك تفاعل دائم بين الإشارات الخارجية والداخلية لضمان تبادل مستقر بين حالتي اليقظة والنوم.</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Sleep/Wake Alternation:</strong></li>
            <ul>
                <li><strong>External factors:</strong>
                    <ul>
                        <li>Light / darkness</li>
                        <li>Acquired rhythms:
                            <ul>
                                <li>Fixed schedules (work, school)</li>
                                <li>Daily habits</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><strong>Internal factors:</strong>
                    <ul>
                        <li>Internal biological clock</li>
                        <li>Located in the hypothalamus (suprachiasmatic nuclei)</li>
                        <li>Regulates the circadian rhythm</li>
                    </ul>
                </li>
                <li>There is a constant interaction between external and internal signals to ensure a stable alternation between wakefulness and sleep.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Alternance veille / sommeil :</strong></li>
            <ul>
                <li><strong>Facteurs externes :</strong>
                    <ul>
                        <li>Lumière / obscurité</li>
                        <li>Rythmes acquis :
                            <ul>
                                <li>Horaires fixes (travail, école)</li>
                                <li>Habitudes quotidiennes</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><strong>Facteurs internes :</strong>
                    <ul>
                        <li>Horloge biologique interne</li>
                        <li>Localisée dans l'hypothalamus (noyaux suprachiasmatiques)</li>
                        <li>Régule le rythme circadien</li>
                    </ul>
                </li>
                <li>Interaction permanente entre les signaux externes et internes pour assurer une alternance stable entre veille et sommeil.</li>
            </ul>
        </ul>
    </div>
</div>







<div class="bubble">
    <button class="interact-button" id="circadian-rhythm" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>الإيقاع اليومي (الساعة البيولوجية):</strong></li>
        <ul>
            <li><strong>الأصل اللغوي:</strong>
                <ul>
                    <li>Circa = تقريبًا</li>
                    <li>Dies = يوم</li>
                </ul>
            </li>
            <li><strong>التعريف:</strong> التناوب المنتظم بين حالتي اليقظة والنوم خلال فترة تقارب 24 ساعة.</li>
            <li><strong>الساعة البيولوجية:</strong>
                <ul>
                    <li>موجودة في النواة فوق التصالبة (NSC) بمنطقة تحت المهاد.</li>
                    <li>تستقبل معلومات من الشبكية (الضوء) لتتزامن مع دورة الليل/النهار.</li>
                </ul>
            </li>
            <li><strong>الدور:</strong> مزامنة الوظائف البيولوجية مع البيئة، مثل:
                <ul>
                    <li>درجة حرارة الجسم</li>
                    <li>إفراز الهرمونات (مثل: الميلاتونين، الكورتيزول)</li>
                    <li>مستوى اليقظة</li>
                    <li>معدل ضربات القلب وضغط الدم</li>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Circadian Rhythm:</strong></li>
            <ul>
                <li><strong>Etymology:</strong>
                    <ul>
                        <li>Circa = about</li>
                        <li>Dies = day</li>
                    </ul>
                </li>
                <li><strong>Definition:</strong> Regular alternation between wakefulness and sleep over a period of approximately 24 hours.</li>
                <li><strong>Biological Clock:</strong>
                    <ul>
                        <li>Located in the suprachiasmatic nuclei (SCN) of the hypothalamus.</li>
                        <li>Receives input from the retina (light) to synchronize with the day/night cycle.</li>
                    </ul>
                </li>
                <li><strong>Role:</strong> Synchronizes biological functions with the environment, such as:
                    <ul>
                        <li>Body temperature</li>
                        <li>Hormone secretion (e.g., melatonin, cortisol)</li>
                        <li>Alertness level</li>
                        <li>Heart rate and blood pressure</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Rythme circadien :</strong></li>
            <ul>
                <li><strong>Étymologie :</strong>
                    <ul>
                        <li>Circa = environ</li>
                        <li>Dies = jour</li>
                    </ul>
                </li>
                <li><strong>Définition :</strong> Alternance régulière entre veille et sommeil sur une période d’environ 24 heures.</li>
                <li><strong>Horloge biologique :</strong>
                    <ul>
                        <li>Située dans les noyaux suprachiasmatiques (NSC) de l’hypothalamus.</li>
                        <li>Reçoit des informations de la rétine (lumière) pour se synchroniser avec le cycle jour/nuit.</li>
                    </ul>
                </li>
                <li><strong>Rôle :</strong> Synchronise les fonctions biologiques avec l’environnement :
                    <ul>
                        <li>Température corporelle</li>
                        <li>Sécrétions hormonales (ex. : mélatonine, cortisol)</li>
                        <li>Niveau de vigilance</li>
                        <li>Fréquence cardiaque, pression artérielle</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</div>







<div class="bubble">
    <button class="interact-button" id="sleep-architecture" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>II. بنية النوم:</strong></li>
        <ul>
            <li><strong>1. التنظيم: دورة النوم</strong></li>
            <ul>
                <li>دورة النوم هي تسلسل منظم لعدة مراحل نوم.</li>
                <li><strong>المدة:</strong> حوالي 90 دقيقة في المتوسط.</li>
                <li>يشمل النوم الليلي 4 إلى 5 دورات نوم.</li>
                <li>كل دورة تتكون من:
                    <ul>
                        <li><strong>النوم البطيء:</strong> N1، N2، N3</li>
                        <li><strong>النوم الحالم (REM):</strong> يتميز بنشاط دماغي مكثف، أحلام، وارتخاء عضلي كامل.</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>II. Sleep Architecture:</strong></li>
            <ul>
                <li><strong>1. Organization: Sleep Cycle</strong></li>
                <ul>
                    <li>A sleep cycle is an orderly sequence of several sleep stages.</li>
                    <li><strong>Average duration:</strong> about 90 minutes.</li>
                    <li>Each night includes 4 to 5 cycles.</li>
                    <li>Each cycle consists of:
                        <ul>
                            <li><strong>Non-REM sleep:</strong> N1, N2, N3</li>
                            <li><strong>REM sleep (Rapid Eye Movement):</strong> characterized by intense brain activity, dreaming, and muscle atonia.</li>
                        </ul>
                    </li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>II. Architecture du sommeil :</strong></li>
            <ul>
                <li><strong>1. Organisation : Cycle de sommeil</strong></li>
                <ul>
                    <li>Un cycle de sommeil est un enchaînement ordonné de plusieurs stades de sommeil.</li>
                    <li><strong>Durée moyenne :</strong> environ 90 minutes.</li>
                    <li>Chaque nuit comprend 4 à 5 cycles.</li>
                    <li>Chaque cycle est composé de :
                        <ul>
                            <li><strong>Sommeil lent :</strong> N1, N2, N3</li>
                            <li><strong>Sommeil paradoxal (REM) :</strong> activité cérébrale intense, rêves, atonie musculaire.</li>
                        </ul>
                    </li>
                </ul>
            </ul>
        </ul>
    </div>
</div>








<div class="bubble">
  <button class="interact-button" onclick="markBubbleAsCompleted(this)">تفاعل</button>

  <h3>2. وسائل استكشاف حالات اليقظة – Moyens d'exploration des états de vigilance – Vigilance Monitoring Tools</h3>

  <table border="1" cellpadding="6" cellspacing="0" style="width:100%; border-collapse: collapse; text-align: center;">
    <thead style="background-color: #f2f2f2;">
      <tr>
        <th>الجهاز</th>
        <th>الشرح بالعربية</th>
        <th>Français</th>
        <th>English</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>EEG</strong><br>تخطيط الدماغ الكهربائي</td>
        <td>يقيس النشاط الكهربائي للدماغ، ويُستخدم لتحديد مراحل النوم ومستويات اليقظة</td>
        <td><strong>Électroencéphalogramme</strong><br>Mesure l'activité électrique du cerveau pour suivre les stades du sommeil.</td>
        <td><strong>Electroencephalogram</strong><br>Measures brain electrical activity; identifies sleep stages and alertness levels.</td>
      </tr>
      <tr>
        <td><strong>EOG</strong><br>تخطيط حركة العين</td>
        <td>يسجل حركات العين، خصوصاً السريعة أثناء النوم الحالم (REM)</td>
        <td><strong>Électro-oculogramme</strong><br>Enregistre les mouvements oculaires, notamment pendant le sommeil paradoxal.</td>
        <td><strong>Electrooculogram</strong><br>Records eye movements, especially during REM sleep.</td>
      </tr>
      <tr>
        <td><strong>EMG</strong><br>تخطيط العضلات</td>
        <td>يقيس توتر العضلات. ينخفض في النوم العميق ويختفي في النوم الحالم</td>
        <td><strong>Électromyogramme</strong><br>Mesure le tonus musculaire. Réduit durant le sommeil profond, absent en REM.</td>
        <td><strong>Electromyogram</strong><br>Measures muscle tone. Decreases in deep sleep, absent in REM sleep.</td>
      </tr>
      <tr>
        <td><strong>ECG</strong><br>تخطيط القلب</td>
        <td>يسجل النشاط الكهربائي للقلب، لتقييم انتظام ضربات القلب أثناء النوم</td>
        <td><strong>Électrocardiogramme</strong><br>Enregistre l'activité cardiaque pour observer les variations du rythme cardiaque.</td>
        <td><strong>Electrocardiogram</strong><br>Records heart activity to monitor rhythm changes during sleep.</td>
      </tr>
      <tr>
        <td><strong>Oxymètre + capteurs التنفس</strong></td>
        <td>يقيس تشبع الدم بالأكسجين وحركات التنفس لتشخيص اضطرابات مثل انقطاع النفس الليلي</td>
        <td><strong>Oxymètre & capteurs respiratoires</strong><br>Mesurent la saturation en O₂ et les mouvements respiratoires pour détecter les apnées.</td>
        <td><strong>Oximeter & respiratory sensors</strong><br>Measure oxygen saturation and breathing patterns; detect sleep apnea.</td>
      </tr>
    </tbody>
  </table>

  <p style="margin-top: 10px;"><strong>ملاحظة:</strong> تجمع <strong>البوليسومنوجرافي</strong> بين جميع هذه الوسائل لتقديم تحليل شامل لحالة النوم واليقظة، وتُستخدم عادة في مراكز النوم.</p>
</div>











<div class="bubble">
  <h3>وسائل استكشاف حالات اليقظة والنوم</h3>
  <table border="1" cellpadding="6" cellspacing="0" style="width:100%; border-collapse: collapse; text-align: center;">
    <thead style="background-color: #d4e2d4;">
      <tr>
        <th>الجهاز</th>
        <th>الوظيفة</th>
        <th>الشرح</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>EEG</strong><br>(تخطيط كهربائية الدماغ)</td>
        <td>قياس النشاط الكهربائي للدماغ</td>
        <td>يساعد على تحديد مراحل النوم المختلفة مثل النوم الخفيف، العميق، والحالم، ويظهر تغيرات الإيقاع الكهربائي للدماغ أثناء كل مرحلة.</td>
      </tr>
      <tr>
        <td><strong>EOG</strong><br>(تخطيط حركة العين)</td>
        <td>تسجيل حركة العين</td>
        <td>يُستخدم للكشف عن الحركات السريعة للعين أثناء النوم الحالم (REM) وهو مؤشر مهم لتحديد هذه المرحلة.</td>
      </tr>
      <tr>
        <td><strong>EMG</strong><br>(تخطيط العضلات)</td>
        <td>قياس توتر العضلات</td>
        <td>يساعد على معرفة مستويات الاسترخاء أو الشلل العضلي خاصة في النوم الحالم حيث يكون هناك فقدان تام للتوتر العضلي.</td>
      </tr>
      <tr>
        <td><strong>ECG</strong><br>(تخطيط القلب الكهربائي)</td>
        <td>قياس نشاط القلب</td>
        <td>يسجل التغيرات في معدل نبض القلب أثناء النوم، وهو مفيد لرصد الاضطرابات القلبية الليلية.</td>
      </tr>
      <tr>
        <td><strong>مقياس التأكسج + مجسات تنفس</strong></td>
        <td>قياس التنفس وتشبع الأكسجين</td>
        <td>يكشف عن انقطاع النفس النومي أو انخفاض تشبع الدم بالأكسجين أثناء النوم، ويُستخدم لتشخيص توقف التنفس أثناء النوم.</td>
      </tr>
    </tbody>
  </table>







<div class="bubble">
  <h3>Tools for Monitoring Sleep and Wakefulness States</h3>
  <table border="1" cellpadding="6" cellspacing="0" style="width:100%; border-collapse: collapse; text-align: center;">
    <thead style="background-color: #d4e4f2;">
      <tr>
        <th>Device</th>
        <th>Function</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>EEG</strong><br>(Electroencephalogram)</td>
        <td>Brain activity</td>
        <td>Records the brain’s electrical signals to identify sleep stages: light, deep, and REM sleep.</td>
      </tr>
      <tr>
        <td><strong>EOG</strong><br>(Electrooculogram)</td>
        <td>Eye movements</td>
        <td>Detects rapid eye movements typical of REM sleep and is essential for sleep phase identification.</td>
      </tr>
      <tr>
        <td><strong>EMG</strong><br>(Electromyogram)</td>
        <td>Muscle tone</td>
        <td>Measures muscle activity; shows decreased tone in deep sleep and near-paralysis during REM sleep.</td>
      </tr>
      <tr>
        <td><strong>ECG</strong><br>(Electrocardiogram)</td>
        <td>Heart activity</td>
        <td>Monitors the heart's rhythm and rate throughout the night, detecting irregularities if present.</td>
      </tr>
      <tr>
        <td><strong>Oximeter & Respiration sensors</strong></td>
        <td>O₂ saturation & Breathing</td>
        <td>Detects respiratory patterns and oxygen drops, useful for diagnosing sleep apnea and hypoxia.</td>
      </tr>
    </tbody>
  </table>
</div>



















  <div class="bubble">
  <h3>Outils de Surveillance des États de Sommeil et d'Éveil</h3>
  <table border="1" cellpadding="6" cellspacing="0" style="width:100%; border-collapse: collapse; text-align: center;">
    <thead style="background-color: #d4e4f2;">
      <tr>
        <th>Appareil</th>
        <th>Fonction</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>EEG</strong><br>(Électroencéphalogramme)</td>
        <td>Activité cérébrale</td>
        <td>Enregistre les signaux électriques du cerveau pour identifier les stades du sommeil : léger, profond et paradoxal (REM).</td>
      </tr>
      <tr>
        <td><strong>EOG</strong><br>(Électrooculogramme)</td>
        <td>Mouvements oculaires</td>
        <td>Détecte les mouvements oculaires rapides caractéristiques du sommeil paradoxal, essentiel pour identifier les phases du sommeil.</td>
      </tr>
      <tr>
        <td><strong>EMG</strong><br>(Électromyogramme)</td>
        <td>Tonus musculaire</td>
        <td>Mesure l’activité musculaire ; montre une diminution du tonus en sommeil profond et une quasi-paralysie durant le REM.</td>
      </tr>
      <tr>
        <td><strong>ECG</strong><br>(Électrocardiogramme)</td>
        <td>Activité cardiaque</td>
        <td>Surveille le rythme et la fréquence cardiaque durant la nuit, permettant de détecter d’éventuelles irrégularités.</td>
      </tr>
      <tr>
        <td><strong>Oxymètre et capteurs respiratoires</strong></td>
        <td>Saturation en O₂ & Respiration</td>
        <td>Détecte les schémas respiratoires et les baisses d’oxygène, utile pour diagnostiquer l’apnée du sommeil et l’hypoxie.</td>
      </tr>
    </tbody>
  </table>
</div>

</div>









<div class="bubble">
    <button class="interact-button" id="eeg-overview" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>a) تخطيط الدماغ الكهربائي (EEG):</strong></li>
        <ul>
            <li>EEG هو تسجيل للنشاط الكهربائي للدماغ عبر أقطاب توضع على فروة الرأس.</li>
            <li>أنواع الموجات الدماغية بحسب حالة الوعي:
                <ul>
                    <li><strong>بيتا (Beta):</strong> في حالة الاستثارة والانتباه العالي.</li>
                    <li><strong>ألفا (Alpha):</strong> في حالة الاسترخاء والهدوء.</li>
                    <li><strong>ثيتا (Theta):</strong> في حالة النعاس أو الانتقال إلى النوم.</li>
                    <li><strong>دلتا (Delta):</strong> أثناء النوم العميق.</li>
                </ul>
            </li>
            <li>يتغير تردد وسعة الموجات بحسب مستوى الوعي:
                <ul>
                    <li>بيتا: تردد مرتفع، سعة منخفضة</li>
                    <li>دلتا: تردد منخفض، سعة مرتفعة (مثلاً: 50 ميكروفولت خلال ثانية)</li>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

         <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 PHYSIOLOGY/A02.jpg" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>a) EEG (Electroencephalogram):</strong></li>
            <ul>
                <li>The EEG records the brain’s electrical activity using electrodes placed on the scalp.</li>
                <li>Brain wave types according to state of consciousness:
                    <ul>
                        <li><strong>Beta:</strong> Associated with excitement and alertness.</li>
                        <li><strong>Alpha:</strong> Linked to relaxation and calmness.</li>
                        <li><strong>Theta:</strong> Seen in drowsiness and early stages of sleep.</li>
                        <li><strong>Delta:</strong> Present during deep sleep.</li>
                    </ul>
                </li>
                <li>Frequency and amplitude vary by state:
                    <ul>
                        <li>Beta: High frequency, low amplitude</li>
                        <li>Delta: Low frequency, high amplitude (e.g., 50 μV per second)</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>a) EEG (électroencéphalogramme) :</strong></li>
            <ul>
                <li>L’EEG enregistre l’activité électrique du cerveau à l’aide d’électrodes placées sur le cuir chevelu.</li>
                <li>Types d’ondes cérébrales selon l’état de vigilance :
                    <ul>
                        <li><strong>Bêta :</strong> état d’excitation et de vigilance élevée.</li>
                        <li><strong>Alpha :</strong> état de relaxation et de calme.</li>
                        <li><strong>Thêta :</strong> somnolence, début du sommeil.</li>
                        <li><strong>Delta :</strong> sommeil profond.</li>
                    </ul>
                </li>
                <li>La fréquence et l’amplitude varient selon l’état :
                    <ul>
                        <li>Bêta : fréquence élevée, faible amplitude</li>
                        <li>Delta : fréquence basse, grande amplitude (ex. : 50 μV par seconde)</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</div>
<div class="bubble">
    <button class="interact-button" id="b-polysomnography" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>B) تخطيط النوم (Polysomnographie):</strong></li>
        <ul>
            <li><strong>مراحل النوم حسب تخطيط الدماغ (EEG):</strong>
                <ul>
                    <li><strong>الاستيقاظ:</strong> موجات دماغية نشطة وسريعة.</li>
                    <li><strong>النعاس / بداية النوم:</strong> تباطؤ تدريجي للنشاط الكهربائي.</li>
                    <li><strong>المرحلة 1:</strong> نوم خفيف، موجات ثيتا.</li>
                    <li><strong>المرحلة 2:</strong> ظهور مغازل النوم ومركبات K.</li>
                    <li><strong>المرحلتان 3 و 4:</strong> نوم عميق جدًا، موجات دلتا بطيئة.</li>
                    <li><strong>مرحلة حركة العين السريعة (SP):</strong> نشاط دماغي يشبه الاستيقاظ، تحدث فيها الأحلام.</li>
                </ul>
            </li>
            <li><strong>ملاحظات:</strong></li>
            <ul>
                <li>SP = نوم حركة العين السريعة (Sommeil Paradoxal)</li>
                <li>SL = كمون النوم (Sleep Latency): الوقت اللازم للانتقال من الاستيقاظ إلى النوم.</li>
                <li>UM = يقظات قصيرة (micro-awakenings)</li>
            </ul>
        </ul>
    </ul>

    <br>
         <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 PHYSIOLOGY/A03.jpg" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>B) Polysomnography:</strong></li>
            <ul>
                <li><strong>EEG waves associated with sleep stages:</strong>
                    <ul>
                        <li><strong>Wakefulness:</strong> Active, fast EEG waves.</li>
                        <li><strong>Sleep onset:</strong> Gradual slowing of EEG activity.</li>
                        <li><strong>Stage 1:</strong> Light sleep, theta waves.</li>
                        <li><strong>Stage 2:</strong> Sleep spindles and K-complexes appear.</li>
                        <li><strong>Stages 3 & 4:</strong> Deep sleep, slow delta waves.</li>
                        <li><strong>REM sleep (SP):</strong> EEG resembles wakefulness, vivid dreams occur.</li>
                    </ul>
                </li>
                <li><strong>Notes:</strong></li>
                <ul>
                    <li>SP = REM (Rapid Eye Movement) sleep</li>
                    <li>SL = Sleep Latency: time taken to fall asleep.</li>
                    <li>UM = Micro-awakenings</li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>B) Polysomnographie :</strong></li>
            <ul>
                <li><strong>Ondes EEG selon les stades du sommeil :</strong>
                    <ul>
                        <li><strong>Éveil :</strong> ondes cérébrales actives et rapides.</li>
                        <li><strong>Endormissement :</strong> ralentissement progressif de l’activité EEG.</li>
                        <li><strong>Stade 1 :</strong> sommeil léger, ondes thêta.</li>
                        <li><strong>Stade 2 :</strong> présence de fuseaux de sommeil et complexes K.</li>
                        <li><strong>Stades 3 et 4 :</strong> sommeil profond, ondes delta lentes.</li>
                        <li><strong>Sommeil paradoxal (SP) :</strong> activité EEG similaire à l’éveil, rêves intenses.</li>
                    </ul>
                </li>
                <li><strong>Remarques :</strong></li>
                <ul>
                    <li>SP = Sommeil paradoxal</li>
                    <li>SL = Latence d’endormissement</li>
                    <li>UM = Micro-réveils</li>
                </ul>
            </ul>
        </ul>
    </div>
</div>








<div class="bubble">
    <button class="interact-button" id="sleep-stages" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>II. مراحل النوم:</strong></li>
        <ul>
            <li>يوجد وسيلتان لاستكشاف حالات اليقظة:
                <ul>
                    <li><strong>تخطيط الدماغ الكهربائي (EEG):</strong> يسجل نشاط الخلايا العصبية في الطبقات السطحية للقشرة المخية.</li>
                    <li><strong>تخطيط النوم (Polysomnographie):</strong> يجمع بين EEG وحساسات أخرى تسمى متعددة التخطيط:
                        <ul>
                            <li>تخطيط حركة العين EOG</li>
                            <li>تخطيط العضلات EMG</li>
                            <li>تخطيط القلب ECG</li>
                            <li>تشبع الأكسجين وحركات التنفس ...</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>1) خلال اليقظة:</strong> النشاط الدماغي غير متزامن مع ترددات سريعة β > 14 هرتز.
                <ul>
                    <li>EMG: نشاط عضلي مرتفع</li>
                    <li>EOG: العديد من حركات العين</li>
                    <li>التنفس سريع وغير منتظم، ومعدل ضربات القلب مرتفع، والاستجابة للمحفزات عالية جداً.</li>
                </ul>
            </li>
            <li><strong>2) النوم:</strong> نوعان من النوم:
                <ul>
                    <li><strong>a) النوم ذو الأمواج البطيئة:</strong>
                        <ul>
                            <li><strong>N1:</strong> نعاس، انتقال بين اليقظة والنوم، أمواج ألفا، يدوم بضع دقائق ويمكن إيقاظ الشخص بسهولة.</li>
                            <li><strong>N2:</strong> أعمق من N1، يحتاج إلى تحفيز أقوى للإيقاظ، نشاط غير منتظم ثيتا، مع فترات من مغازل النوم ومركبات K.</li>
                            <li><strong>N3:</strong> نوم عميق جداً، صعب الاستيقاظ، EEG يظهر موجات دلتا عالية.</li>
                        </ul>
                        <li><strong>تغيرات فسيولوجية أثناء النوم البطيء:</strong>
                            <ul>
                                <li>انخفاض في التوتر العضلي (مع تغير الوضعيات كل 20 دقيقة)</li>
                                <li>انخفاض معدل ضربات القلب</li>
                                <li>انخفاض معدل التنفس</li>
                                <li>انخفاض في الاستقلاب الأساسي</li>
                                <li>زيادة في حركة الجهاز الهضمي</li>
                            </ul>
                        </li>
                    </li>
                    <li><strong>b) النوم الحالم (REM):</strong> الدماغ في حالة يقظة بينما الجسم نائم. يتميز EEG بنشاط ثيتا أو ألفا غير منتظم مع فترات بيتا منخفضة الجهد.
                        <ul>
                            <li>زيادة في ضغط الدم</li>
                            <li>زيادة في الاستقلاب الأساسي</li>
                            <li>عدم انتظام في معدل ضربات القلب والتنفس</li>
                            <li>غياب التنظيم الحراري</li>
                            <li>انتصاب القضيب</li>
                            <li>حركات عين سريعة</li>
                            <li>ارتخاء عضلي تام</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>تتشكل هذه المراحل دورة نوم مدتها 90 دقيقة تتكرر 4 إلى 5 مرات في الليلة. خلال الليل، تزداد مدة N2 والنوم الحالم بينما يقل N3 في نهاية الليل.</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>II. Sleep Stages:</strong></li>
            <ul>
                <li>Two main methods allow exploration of vigilance states:
                    <ul>
                        <li><strong>EEG:</strong> Reflects the activity of neurons in the superficial layers of the cerebral cortex.</li>
                        <li><strong>Polysomnography:</strong> Combines EEG with other polygraphic sensors:
                            <ul>
                                <li>Electrooculogram (EOG): eye activity</li>
                                <li>Electromyogram (EMG): muscle activity</li>
                                <li>Electrocardiogram (ECG): cardiac activity</li>
                                <li>Oxygen saturation and respiratory movements…</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><strong>1) During wakefulness:</strong> Brain activity is desynchronized with fast beta waves >14 Hz.
                    <ul>
                        <li>EMG: high muscular activity</li>
                        <li>EOG: numerous eye movements</li>
                        <li>Breathing is fast and irregular, and heart rate is high. Very low response threshold to stimuli.</li>
                    </ul>
                </li>
                <li><strong>2) Sleep:</strong> Two types of sleep:
                    <ul>
                        <li><strong>a) Slow-wave sleep:</strong>
                            <ul>
                                <li><strong>N1:</strong> Drowsiness, transition between wakefulness and sleep, alpha waves, lasts a few minutes, easy to wake up.</li>
                                <li><strong>N2:</strong> Deeper than N1, needs stronger stimulation to wake up, irregular theta activity with sleep spindles and K-complexes.</li>
                                <li><strong>N3:</strong> Deep sleep, hard to wake up, large delta waves on EEG.</li>
                            </ul>
                            <li><strong>Physiological changes during slow-wave sleep:</strong>
                                <ul>
                                    <li>Decrease in muscle tone (with posture adjustment every 20 minutes)</li>
                                    <li>Decrease in heart rate</li>
                                    <li>Decrease in respiratory rate</li>
                                    <li>Reduction in basal metabolism</li>
                                    <li>Increase in gastrointestinal transit</li>
                                </ul>
                            </li>
                        </li>
                        <li><strong>b) Paradoxical sleep (REM sleep):</strong> The brain is active like in wakefulness while the body sleeps. EEG shows irregular theta or alpha activity with bursts of low-voltage beta waves.
                            <ul>
                                <li>Increase in blood pressure</li>
                                <li>Increase in basal metabolism</li>
                                <li>Irregular cardiac and respiratory rhythms</li>
                                <li>Absence of thermoregulation</li>
                                <li>Penile erection</li>
                                <li>Rapid eye movements</li>
                                <li>Muscle atonia</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>These stages form a 90-minute sleep cycle that repeats 4 to 5 times per night. As the night progresses, N2 and REM durations increase while N3 decreases by the end.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>II. Les stades de sommeil:</strong></li>
            <ul>
                <li>Deux moyens permettent l’exploration des états de vigilance :
                    <ul>
                        <li><strong>EEG :</strong> correspond à l'activité des neurones des couches superficielles du cortex cérébral.</li>
                        <li><strong>Polysomnographie :</strong> combinaison de l’EEG avec d’autres capteurs polygraphiques :
                            <ul>
                                <li>Électro-oculogramme (EOG) : activité oculaire</li>
                                <li>Électromyogramme (EMG) : activité musculaire</li>
                                <li>Électrocardiogramme (ECG) : activité cardiaque</li>
                                <li>Saturation d’oxygène et mouvements respiratoires…</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><strong>1) Au cours de l’éveil :</strong> L’activité cérébrale est désynchronisée avec des fréquences rapides beta >14 Hz.
                    <ul>
                        <li>EMG : activité musculaire importante</li>
                        <li>EOG : nombreux mouvements oculaires</li>
                        <li>Respiration rapide et irrégulière, fréquence cardiaque élevée. Seuil de réponse aux stimuli très bas.</li>
                    </ul>
                </li>
                <li><strong>2) Sommeil :</strong> Deux types de sommeil :
                    <ul>
                        <li><strong>a) Sommeil à ondes lentes :</strong>
                            <ul>
                                <li><strong>N1 :</strong> somnolence, transition entre veille et sommeil, ondes alpha, dure quelques minutes, sujet facilement réveillable.</li>
                                <li><strong>N2 :</strong> plus profond que N1, nécessite des stimulations plus intenses, activité irrégulière dite thêta avec des fuseaux de sommeil et complexes K.</li>
                                <li><strong>N3 :</strong> sommeil profond, sujet difficile à réveiller, EEG à ondes delta amples.</li>
                            </ul>
                            <li><strong>Modifications physiologiques pendant le sommeil à ondes lentes :</strong>
                                <ul>
                                    <li>Diminution du tonus musculaire (ajustements posturaux toutes les 20 min)</li>
                                    <li>Diminution de la fréquence cardiaque</li>
                                    <li>Diminution de la fréquence respiratoire</li>
                                    <li>Diminution du métabolisme de base</li>
                                    <li>Augmentation du transit gastro-intestinal</li>
                                </ul>
                            </li>
                        </li>
                        <li><strong>b) Sommeil paradoxal (REM sleep) :</strong> Cerveau actif comme à l’état d’éveil alors que le sujet dort ; EEG irrégulier thêta ou alpha avec des bouffées de rythmes beta de faible voltage.
                            <ul>
                                <li>Augmentation de la pression artérielle</li>
                                <li>Augmentation du métabolisme de base</li>
                                <li>Irrégularité des fréquences cardiaque et respiratoire</li>
                                <li>Absence de thermorégulation</li>
                                <li>Érection du pénis</li>
                                <li>Mouvements oculaires rapides</li>
                                <li>Atonie musculaire</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>Ces stades forment un cycle de sommeil de 90 minutes, qui se répète 4 à 5 fois par nuit. Au cours de la nuit, la durée de N2 et du sommeil paradoxal augmente, alors que celle du N3 diminue en fin de nuit.</li>
            </ul>
        </ul>
    </div>
</div>











<div class="bubble">
    <button class="interact-button" id="wakefulness-state" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>حالة اليقظة:</strong></li>
        <ul>
            <li><strong>EEG (تخطيط كهربية الدماغ):</strong>
                <ul>
                    <li>موجات بيتا: > 14 هرتز</li>
                    <li>نشاط سريع ومنخفض السعة → اليقظة النشطة</li>
                </ul>
            </li>
            <li><strong>EMG (تخطيط كهربية العضلات):</strong>
                <ul>
                    <li>توتر عضلي مرتفع</li>
                    <li>نشاط عضلي كبير (إمكانية الحركة)</li>
                </ul>
            </li>
            <li><strong>EOG (تخطيط كهربية العين):</strong>
                <ul>
                    <li>حركات عين كثيرة (مسح بصري للبيئة)</li>
                </ul>
            </li>
            <li><strong>الوظائف الحيوية (اللاإرادية):</strong>
                <ul>
                    <li>تنفس سريع وغير منتظم</li>
                    <li>معدل ضربات قلب مرتفع</li>
                </ul>
            </li>
            <li><strong>عتبة الاستجابة للمؤثرات:</strong>
                <ul>
                    <li>منخفضة جداً → استجابة عالية للضوء، الأصوات، اللمس...</li>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Wakefulness state:</strong></li>
            <ul>
                <li><strong>EEG (Electroencephalogram):</strong>
                    <ul>
                        <li>Beta waves: > 14 Hz</li>
                        <li>Fast, low-amplitude activity → Active wakefulness</li>
                    </ul>
                </li>
                <li><strong>EMG (Electromyogram):</strong>
                    <ul>
                        <li>High muscle tone</li>
                        <li>Significant muscle activity (possible mobility)</li>
                    </ul>
                </li>
                <li><strong>EOG (Electrooculogram):</strong>
                    <ul>
                        <li>Frequent eye movements (environment scanning)</li>
                    </ul>
                </li>
                <li><strong>Autonomic functions:</strong>
                    <ul>
                        <li>Fast and irregular breathing</li>
                        <li>Elevated heart rate</li>
                    </ul>
                </li>
                <li><strong>Response threshold to stimuli:</strong>
                    <ul>
                        <li>Very low → high reactivity to noise, light, touch…</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>État de veille :</strong></li>
            <ul>
                <li><strong>EEG :</strong>
                    <ul>
                        <li>Ondes bêta : > 14 Hz</li>
                        <li>Activité rapide et de faible amplitude → Éveil actif</li>
                    </ul>
                </li>
                <li><strong>EMG (électromyogramme) :</strong>
                    <ul>
                        <li>Tonus musculaire élevé</li>
                        <li>Activité musculaire importante (mobilité possible)</li>
                    </ul>
                </li>
                <li><strong>EOG (électro-oculogramme) :</strong>
                    <ul>
                        <li>Nombreux mouvements oculaires (scanning de l’environnement)</li>
                    </ul>
                </li>
                <li><strong>Fonctions végétatives :</strong>
                    <ul>
                        <li>Respiration rapide et irrégulière</li>
                        <li>Fréquence cardiaque élevée</li>
                    </ul>
                </li>
                <li><strong>Seuil de réponse aux stimuli :</strong>
                    <ul>
                        <li>Très bas → grande réactivité aux bruits, lumières, contacts…</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</div>



<div class="bubble">
  <button class="interact-button" id="sleep-stages" onclick="markBubbleAsCompleted(this)">تفاعل</button>

  <!-- بالعربية -->
  <ul>
    <li><strong>النوم:</strong></li>
    <ul>
      <li><strong>a) النوم ذو الموجات البطيئة (NREM):</strong></li>
      <table border="1" dir="rtl">
        <thead>
          <tr>
            <th>المرحلة</th>
            <th>EEG</th>
            <th>هل يمكن الاستيقاظ؟</th>
            <th>الخصائص</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>N1</td>
            <td>موجات ألفا أو ثيتا</td>
            <td>سهل</td>
            <td>مرحلة انتقالية من اليقظة إلى النوم، نعاس</td>
          </tr>
          <tr>
            <td>N2</td>
            <td>موجات ثيتا + مغازل النوم + مركبات K</td>
            <td>متوسط</td>
            <td>انخفاض الإحساس الحسي</td>
          </tr>
          <tr>
            <td>N3</td>
            <td>موجات دلتا كبيرة</td>
            <td>صعب جداً</td>
            <td>نوم عميق، استعادة جسدية</td>
          </tr>
        </tbody>
      </table>

      <br>

      <li><strong>b) النوم المتناقض (REM):</strong></li>
      <table border="1" dir="rtl">
        <thead>
          <tr>
            <th>EEG</th>
            <th>الخصائص</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>نشاط سريع وغير منتظم<br>موجات ثيتا، ألفا، ونفَضات بيتا</td>
            <td>يشبه حالة اليقظة النشطة</td>
          </tr>
        </tbody>
      </table>
    </ul>
  </ul>

  <br>

  <!-- ENGLISH -->
  <div class="bubble" dir="ltr">
    <ul>
      <li><strong>Sleep:</strong></li>
      <ul>
        <li><strong>a) Slow-wave sleep (NREM):</strong></li>
        <table border="1">
          <thead>
            <tr>
              <th>Stage</th>
              <th>EEG</th>
              <th>Awakening possible?</th>
              <th>Features</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>N1</td>
              <td>Alpha or theta waves</td>
              <td>Easy</td>
              <td>Transition from wakefulness to sleep, drowsiness</td>
            </tr>
            <tr>
              <td>N2</td>
              <td>Theta waves + sleep spindles + K-complexes</td>
              <td>Moderate</td>
              <td>Decreased sensory perception</td>
            </tr>
            <tr>
              <td>N3</td>
              <td>Large delta waves</td>
              <td>Very difficult</td>
              <td>Deep sleep, physical recovery</td>
            </tr>
          </tbody>
        </table>

        <br>

        <li><strong>b) Paradoxical sleep (REM):</strong></li>
        <table border="1">
          <thead>
            <tr>
              <th>EEG</th>
              <th>Features</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Fast, irregular activity<br>Theta, alpha waves, and beta bursts</td>
              <td>Resembles active wakefulness</td>
            </tr>
          </tbody>
        </table>
      </ul>
    </ul>
  </div>

  <br>

  <!-- FRANÇAIS -->
  <div class="bubble">
    <ul>
      <li><strong>Le sommeil :</strong></li>
      <ul>
        <li><strong>a) Sommeil à ondes lentes (NREM) :</strong></li>
        <table border="1">
          <thead>
            <tr>
              <th>Stade</th>
              <th>EEG</th>
              <th>Réveil possible ?</th>
              <th>Particularités</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>N1</td>
              <td>Ondes alpha ou thêta</td>
              <td>Facile</td>
              <td>Transition veille → sommeil, somnolence</td>
            </tr>
            <tr>
              <td>N2</td>
              <td>Ondes thêta + fuseaux de sommeil + complexes K</td>
              <td>Moyen</td>
              <td>Diminution de la perception sensorielle</td>
            </tr>
            <tr>
              <td>N3</td>
              <td>Ondes delta amples</td>
              <td>Très difficile</td>
              <td>Sommeil profond, récupération physique</td>
            </tr>
          </tbody>
        </table>

        <br>

        <li><strong>b) Sommeil paradoxal (REM) :</strong></li>
        <table border="1">
          <thead>
            <tr>
              <th>EEG</th>
              <th>Particularités</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Activité rapide et irrégulière<br>Présence d’ondes thêta, alpha, et bouffées de bêta</td>
              <td>Ressemble à l’état de veille active</td>
            </tr>
          </tbody>
        </table>
      </ul>
    </ul>
  </div>
</div>


<div class="bubble">
    <button class="interact-button" id="nrem-sleep-changes" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>التغيرات الفسيولوجية – النوم بطيء الموجات (NREM):</strong></li>
        <ul>
            <li><strong>انخفاض عام في الوظائف الحيوية:</strong>
                <ul>
                    <li>انخفاض معدل ضربات القلب</li>
                    <li>انخفاض معدل التنفس</li>
                    <li>انخفاض معدل الأيض الأساسي</li>
                </ul>
            </li>
            <li><strong>انخفاض توتر العضلات:</strong> انخفاض تدريجي في التوتر العضلي وتغير في الوضعية كل حوالي 20 دقيقة</li>
            <li><strong>النشاط الهضمي:</strong> زيادة في حركة الجهاز الهضمي</li>
            <li>تساعد هذه التغيرات في الاستشفاء البدني، والنمو، وراحة الأعضاء الحيوية.</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Physiological Changes – Slow Wave Sleep (NREM):</strong></li>
            <ul>
                <li><strong>Overall decrease in vital functions:</strong>
                    <ul>
                        <li>Decreased heart rate</li>
                        <li>Decreased respiratory rate</li>
                        <li>Decreased basal metabolic rate</li>
                    </ul>
                </li>
                <li><strong>Reduced muscle tone:</strong> Gradual decrease in muscle tone and postural change every ~20 minutes</li>
                <li><strong>Digestive activity:</strong> Increased gastrointestinal transit</li>
                <li>These changes promote physical recovery, growth, and rest of vital organs.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Modifications physiologiques – Sommeil à ondes lentes (NREM) :</strong></li>
            <ul>
                <li><strong>Diminution globale des fonctions vitales :</strong>
                    <ul>
                        <li>Fréquence cardiaque diminuée</li>
                        <li>Fréquence respiratoire diminuée</li>
                        <li>Métabolisme de base réduit</li>
                    </ul>
                </li>
                <li><strong>Tonus musculaire réduit :</strong> Diminution progressive du tonus et changement de posture environ toutes les 20 minutes</li>
                <li><strong>Activité digestive :</strong> Augmentation du transit gastro-intestinal</li>
                <li>Ces changements favorisent la récupération physique, la croissance et le repos des organes vitaux.</li>
            </ul>
        </ul>
    </div>
</div>








<div class="bubble">
    <button class="interact-button" id="rem-sleep-changes" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>التغيرات الفسيولوجية – النوم الحالم (REM):</strong></li>
        <ul>
            <li><strong>النشاط اللاإرادي والتمثيل الغذائي:</strong>
                <ul>
                    <li>زيادة ضغط الدم</li>
                    <li>زيادة التمثيل الغذائي الدماغي</li>
                    <li>معدل ضربات القلب: غير منتظم</li>
                    <li>التنفس: غير منتظم</li>
                </ul>
            </li>
            <li><strong>تنظيم درجة حرارة الجسم:</strong>
                <ul>
                    <li>غياب التنظيم الحراري</li>
                    <li>لا يستطيع الجسم تعديل حرارته أثناء هذا الطور</li>
                </ul>
            </li>
            <li><strong>النشاط العضلي:</strong> ارتخاء عضلي شامل (أتونيا عضلية)</li>
            <li><strong>الاستثناءات:</strong> عضلات التنفس وعضلات العين</li>
            <li><strong>علامات مميزة:</strong>
                <ul>
                    <li>حركات عين سريعة (REM)</li>
                    <li>انتصابات انعكاسية متكررة حتى دون محتوى جنسي</li>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Physiological Changes – Paradoxical Sleep (REM):</strong></li>
            <ul>
                <li><strong>Autonomic and metabolic activity:</strong>
                    <ul>
                        <li>Increased blood pressure</li>
                        <li>Increased brain metabolism</li>
                        <li>Heart rate: irregular</li>
                        <li>Respiration: irregular</li>
                    </ul>
                </li>
                <li><strong>Body temperature regulation:</strong>
                    <ul>
                        <li>Absence of thermoregulation</li>
                        <li>The body no longer regulates its temperature</li>
                    </ul>
                </li>
                <li><strong>Muscular activity:</strong> Generalized muscle atonia</li>
                <li><strong>Exceptions:</strong> Respiratory and ocular muscles remain active</li>
                <li><strong>Characteristic signs:</strong>
                    <ul>
                        <li>Rapid eye movements (REM)</li>
                        <li>Frequent reflex erections (even without erotic content)</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Modifications physiologiques – Sommeil paradoxal (REM) :</strong></li>
            <ul>
                <li><strong>Activité végétative et métabolique :</strong>
                    <ul>
                        <li>Pression artérielle augmentée</li>
                        <li>Métabolisme cérébral augmenté</li>
                        <li>Fréquence cardiaque : irrégulière</li>
                        <li>Respiration : irrégulière</li>
                    </ul>
                </li>
                <li><strong>Régulation corporelle :</strong>
                    <ul>
                        <li>Absence de thermorégulation</li>
                        <li>Le corps ne régule plus sa température</li>
                    </ul>
                </li>
                <li><strong>Activité musculaire :</strong> Atonie musculaire généralisée</li>
                <li><strong>Sauf :</strong> muscles respiratoires et oculaires</li>
                <li><strong>Signes caractéristiques :</strong>
                    <ul>
                        <li>Mouvements oculaires rapides (REM)</li>
                        <li>Érections réflexes fréquentes (même sans contenu érotique)</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</div>


<div class="bubble">
    <button class="interact-button" id="sleep-needs" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>III. احتياجات النوم:</strong></li>
        <ul>
            <li>تختلف احتياجات النوم حسب العمر:</li>
            <ul>
                <li><strong>البالغ:</strong> من 7 إلى 8 ساعات (تتراوح بين 6 ساعات للنوم القليل و10 ساعات للنوم الكثير)، موزعة على 80٪ نوم بطيء و20٪ نوم حالم.</li>
                <li><strong>الوليد:</strong> حوالي 16 ساعة، منها 60٪ نوم حالم و40٪ نوم بطيء.</li>
                <li><strong>كبار السن:</strong> من 5 إلى 6 ساعات، مع نوم عميق أقل وأرق متكرر.</li>
            </ul>
            <li><strong>ملاحظة:</strong> الحرمان من النوم يؤدي إلى "دين نوم"، لكنه لا يتناسب طرديًا مع مدة الحرمان.</li>
        </ul>
    </ul>



    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>III. Sleep Needs:</strong></li>
            <ul>
                <li>Sleep needs vary with age:</li>
                <ul>
                    <li><strong>Adult:</strong> 7–8 hours (ranging from 6 hours for short sleepers to 10 hours for long sleepers); distributed as 80% slow-wave sleep and 20% REM sleep.</li>
                    <li><strong>Newborn:</strong> Around 16 hours; 60% REM sleep and 40% slow-wave sleep.</li>
                    <li><strong>Elderly:</strong> 5–6 hours, with less deep sleep and frequent insomnia.</li>
                </ul>
                <li><strong>Note:</strong> Sleep deprivation leads to a sleep debt, which is not directly proportional to the duration of deprivation.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>III. Besoins de sommeil :</strong></li>
            <ul>
                <li>Les besoins de sommeil varient avec l’âge :</li>
                <ul>
                    <li><strong>Adulte :</strong> 7 à 8 heures (entre 6 h pour un petit dormeur et 10 h pour un gros dormeur) ; réparties en 80 % de sommeil lent et 20 % de sommeil paradoxal.</li>
                    <li><strong>Nouveau-né :</strong> Environ 16 heures ; dont 60 % de sommeil paradoxal et 40 % de sommeil lent.</li>
                    <li><strong>Sujet âgé :</strong> 5 à 6 heures, avec moins de sommeil profond et des insomnies fréquentes.</li>
                </ul>
                <li><strong>NB :</strong> La privation de sommeil entraîne une dette de sommeil qui n’est pas proportionnelle à la durée de la privation.</li>
            </ul>
        </ul>
    </div>
</div>







         <div style="display: flex; gap: 10px;">
            <figure class="bubble">
                <img src="2MED U5 PHYSIOLOGY/A04.jpg" alt="شرح الاختصارات الطبية" class="outside-image">
            </figure>
        </div>




<div class="bubble">
    <button class="interact-button" id="sleep-neurobiology" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>IV. علم الأعصاب في النوم:</strong></li>
        <ul>
            <li>لفهم الظواهر الكيميائية العصبية المرتبطة بالنوم، من الضروري فهم الشبكات العصبية المسؤولة عن حالة اليقظة، حيث إن النوم ليس إلا تعطيلًا للدوائر العصبية المحفّزة لليقظة.</li>
            <li><strong>1. شبكة اليقظة:</strong> تشمل مجموعة من البنى العصبية التي تحافظ على التنبيه والوعي.</li>
            <li><strong>2. شبكة النوم:</strong> مسؤولة عن تثبيط نشاط مراكز اليقظة وتحفيز بدء النوم والحفاظ عليه.</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>IV. Neurobiology of Sleep:</strong></li>
            <ul>
                <li>To understand the neurochemical processes of sleep, it is essential to understand the neuronal networks responsible for wakefulness. In fact, sleep is simply the deactivation of circuits involved in arousal.</li>
                <li><strong>1. Wakefulness Network:</strong> Includes various brain structures that sustain alertness and consciousness.</li>
                <li><strong>2. Sleep Network:</strong> Responsible for inhibiting arousal centers and triggering and maintaining sleep.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>IV. Neurobiologie du sommeil :</strong></li>
            <ul>
                <li>Pour comprendre les phénomènes neurochimiques du sommeil, il est nécessaire de comprendre les réseaux neuronaux de l’état de veille. En effet, le sommeil n’est que la désactivation des circuits impliqués dans l’éveil.</li>
                <li><strong>1. Le réseau de l’éveil :</strong> Comprend les structures cérébrales responsables du maintien de la vigilance et de la conscience.</li>
                <li><strong>2. Le réseau du sommeil :</strong> Intervient pour inhiber les centres de l’éveil et permettre l’installation et le maintien du sommeil.</li>
            </ul>
        </ul>
    </div>
</div>

















<div class="bubble">
    <button class="interact-button" id="wakefulness-network" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>1. Le réseau de l’éveil :</strong></li>
        <ul>
            <li>يوجد شبكة عصبية مسؤولة عن اليقظة، وتتأثر بمنبهات داخلية (مثل الجوع، العطش، الحاجة الجنسية) وخارجية (مثل المدخلات الحسية والعوامل الاجتماعية والاقتصادية).</li>

            <li><strong>أ) البنى المسؤولة عن اليقظة القشرية:</strong></li>
            <ul>
                <li><strong>1) نواة ماينرت:</strong> تقع في مستوى الجسر، تحتوي على عصبونات كولينية وغلوتاماتية تنشط الخلايا العصبية القشرية إما بشكل مباشر عبر مستقبلات نيكوتينية أو غلوتاماتية، أو بشكل غير مباشر عبر تثبيط عصبونات المهاد الشبكية من خلال مستقبلات موسكارينية.</li>
                <li><strong>2) اللّوكوس سيروليوس:</strong> يحتوي على عصبونات نورأدرينالينية تُرسل إسقاطات إلى مجموعات اليقظة الأخرى، بالإضافة إلى نوى المهاد (الداخلية الشبكية) والقشرة الدماغية.</li>
                <li><strong>3) نواتا الرافاء الظهرية والوسطى:</strong> تحتوي على عصبونات سيروتونينية (5-HT) تُسقط إلى تحت المهاد، القشرة، والعديد من البنى الأخرى.</li>
            </ul>

            <li><strong>ب) اليقظة السلوكية مضمونة عبر:</strong></li>
            <ul>
                <li><strong>1) النواة الأنبوبية الحلمية (TMN):</strong> تقع في تحت المهاد الخلفي، تحتوي على عصبونات هيستامينية تُسقط إلى جميع أنحاء الجهاز العصبي، وتتميز بنشاط منخفض لكنه مستمر أثناء اليقظة.</li>
                <li><strong>2) عصبونات الأوركسين/الهيبوكريتين (Hcrt):</strong> تقع في تحت المهاد الخلفي، وتُسقط إلى كافة أنحاء الدماغ، وخصوصًا إلى مراكز اليقظة الأخرى. تزداد فعاليتها عند انخفاض تركيز الغلوكوز الدماغي وقد تساهم في تحفيز السلوك الغذائي.</li>
                <li><strong>3) المادة السوداء والمنطقة السقفية البطنية:</strong> تحتوي على عصبونات دوبامينية تُفعل اليقظة السلوكية وتساهم في العمليات المعرفية والانتباه، كما تلعب دورًا خاصًا في النوم الحالم (REM).</li>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>1. Le réseau de l’éveil:</strong></li>
            <ul>
                <li>There is a neuronal network of wakefulness influenced by internal stimuli (hunger, thirst, sexual need) and external stimuli (sensory input, socio-economic factors).</li>

                <li><strong>a) Structures responsible for cortical arousal:</strong></li>
                <ul>
                    <li><strong>1) Nucleus of Meynert:</strong> Located at the pons level, cholinergic and glutamatergic neurons activate cortical neurons either directly (via nicotinic or glutamatergic receptors) or indirectly (by inhibiting thalamic reticular neurons via muscarinic receptors).</li>
                    <li><strong>2) Locus coeruleus (LC):</strong> Contains noradrenergic (NA) neurons projecting to other arousal systems, intralaminar and reticular thalamic nuclei, and the cortex.</li>
                    <li><strong>3) Dorsal and median raphe nuclei:</strong> Contain serotonin (5-HT) neurons projecting to the hypothalamus, cortex, and many other areas.</li>
                </ul>

                <li><strong>b) Behavioral wakefulness is maintained by:</strong></li>
                <ul>
                    <li><strong>1) Tuberomammillary nucleus (TMN):</strong> Located in the posterior hypothalamus, histaminergic neurons project widely throughout the CNS with slow tonic activity during wakefulness.</li>
                    <li><strong>2) Orexin/Hypocretin neurons (Hcrt):</strong> Located in the posterior hypothalamus; they project broadly, especially to other wakefulness centers. Their activity increases when brain glucose levels drop, possibly triggering food-seeking behavior.</li>
                    <li><strong>3) Substantia nigra and ventral tegmental area (VTA):</strong> Dopaminergic neurons that promote behavioral arousal, cognitive processes, and attention, with a specific role in REM sleep as well.</li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>1. Le réseau de l’éveil :</strong></li>
            <ul>
                <li>Il existe un réseau neuronal de l’éveil, influencé par des stimulations internes (faim, soif, besoin sexuel) et externes (afférences sensorielles, facteurs socio-économiques).</li>

                <li><strong>a) Structures responsables de l’éveil cortical :</strong></li>
                <ul>
                    <li><strong>1) Noyau de Meynert :</strong> Situé au niveau du pont, les neurones cholinergiques et glutaminergiques activent les neurones corticaux directement (par les récepteurs nicotiniques ou glutaminergiques) ou indirectement (via inhibition des neurones thalamiques réticulaires par les récepteurs muscariniques).</li>
                    <li><strong>2) Locus coeruleus (LC) :</strong> Contient des neurones noradrénergiques projetant vers d'autres groupes de l'éveil, les noyaux thalamiques intralaminaires et réticulés, ainsi que le cortex.</li>
                    <li><strong>3) Raphés dorsal et médian :</strong> Ces noyaux contiennent des neurones sérotoninergiques (5-HT) projetant vers l'hypothalamus, le cortex et de nombreuses autres structures.</li>
                </ul>

                <li><strong>b) L’éveil comportemental est assuré par :</strong></li>
                <ul>
                    <li><strong>1) Noyau tubero-mammillaire (TMN) :</strong> Situé dans l’hypothalamus postérieur, ce noyau histaminergique projette largement dans le névraxe et présente une activité tonique lente durant l’éveil.</li>
                    <li><strong>2) Neurones à orexine/hypocrétine (Hcrt) :</strong> Localisés dans l’hypothalamus postérieur, ils projettent sur l’ensemble du cerveau, notamment sur d'autres structures de l’éveil. Leur activité augmente lorsque le taux de glucose cérébral diminue, stimulant potentiellement la recherche alimentaire.</li>
                    <li><strong>3) Substance noire et aire tegmentale ventrale :</strong> Les neurones dopaminergiques activent l’éveil comportemental, jouent un rôle dans les processus cognitifs et l’attention, ainsi qu’un rôle spécifique dans le sommeil paradoxal.</li>
                </ul>
            </ul>
        </ul>
    </div>
</div>



<div class="bubble">
    <button class="interact-button" id="sleep-network" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>2. Le Réseau du sommeil :</strong></li>
        <ul>
            <li><strong>1) النواة البصرية الأمامية الوحشية (NPVL):</strong> يتم تنشيطها بواسطة تراكم الأدينوزين، الناتج عن الجهد العقلي، الجهد البدني، أو المرض. تساهم في النوم من خلال تثبيط أنظمة اليقظة؛ إذ أن العصبونات GABAergic فيها تُسقط على بنى اليقظة مثل نوى التكوين الشبكي وتحت المهاد الخلفي (النواة الأنبوبية الحلمية الهيستامينية). <br>
            الكافيين في القهوة والثيوفيلين في الشاي هما مضادان معروفان للأدينوزين ولهما تأثير منبه، بينما تؤدي البنزوديازيبينات إلى التأثير المعاكس، أي تعزيز النوم.</li>

            <li><strong>2) النواة فوق التصالب البصري (SCN):</strong> "الساعة البيولوجية"، مسؤولة عن تنظيم دورة النوم/الاستيقاظ بالتزامن مع الضوء والظلام. تتلقى SCN إشارات ضوئية من الشبكية، لذا تكون نشطة خلال النهار وأقل نشاطًا ليلًا. كما تُثبط NPVL أثناء اليقظة من خلال إسقاطات مباشرة.</li>

            <li><strong>3) الغدة الصنوبرية (الملقبة بالإبيفيز):</strong> تفرز الميلاتونين، الذي يصل إلى ذروته منتصف الليل، ويلعب دورًا هامًا في بدء النوم والحفاظ عليه.</li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>2. Le Réseau du sommeil:</strong></li>
            <ul>
                <li><strong>1) Ventrolateral Preoptic Nucleus (VLPO):</strong> Activated by the accumulation of adenosine, which builds up due to cognitive effort, physical activity, and illness. It promotes sleep by inhibiting arousal systems. These GABAergic neurons project to wakefulness structures such as the reticular formation and the posterior hypothalamus (histaminergic tuberomammillary nuclei). <br>
                Caffeine (in coffee) and theophylline (in tea) are known adenosine antagonists with wake-promoting effects. Benzodiazepines have the opposite effect, inducing sleep.</li>

                <li><strong>2) Suprachiasmatic Nucleus (SCN):</strong> Acts as the biological clock, synchronizing the sleep-wake cycle with light and darkness. The SCN receives light input from the retina, is active during the day, and less so at night. It directly inhibits the VLPO during wakefulness.</li>

                <li><strong>3) Pineal gland:</strong> Secretes melatonin, which peaks around midnight and plays a major role in initiating and maintaining sleep.</li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>2. Le Réseau du sommeil :</strong></li>
            <ul>
                <li><strong>1) Noyaux pré-optique ventro-latéral (NPVL):</strong> Stimulés par l’accumulation d’adénosine (liée aux efforts cognitifs, physiques, et à la maladie). Ces neurones GABAergiques favorisent le sommeil en inhibant les systèmes d’éveil, notamment les noyaux de la formation réticulaire et les noyaux tubéromammillaires histaminergiques de l’hypothalamus postérieur. <br>
                La caféine (dans le café) et la théophylline (dans le thé) sont des antagonistes de l’adénosine, connus pour leur effet éveillant. Les benzodiazépines ont l'effet inverse, en induisant le sommeil.</li>

                <li><strong>2) Noyau suprachiasmatique (SCN) :</strong> Joue le rôle d’horloge biologique, synchronisant le cycle sommeil/veille avec l’alternance lumière/obscurité. Le SCN reçoit des stimulations lumineuses de la rétine, est actif pendant la journée et moins actif la nuit. Il inhibe directement le NPVL durant l’état d’éveil.</li>

                <li><strong>3) L’épiphyse (glande pinéale) :</strong> Sécrète de la mélatonine, avec un pic autour de minuit. Elle joue un rôle essentiel dans l’induction et le maintien du sommeil.</li>
            </ul>
        </ul>
    </div>
</div>








<div class="bubble">
    <button class="interact-button" id="neurobiology-of-sleep" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>علم الأعصاب للنوم:</strong></li>
        <ul>
            <li><strong>توازن بين نظامين متضادين:</strong></li>
            <ul>
                <li><strong>1. قطب النوم (VLPO - الوطاء الأمامي):</strong>
                    <ul>
                        <li>يُفرز GABA والجالانين</li>
                        <li>يثبط مراكز اليقظة:</li>
                        <ul>
                            <li>الوطاء الخلفي</li>
                            <li>جذع الدماغ (التشكيل الشبكي)</li>
                        </ul>
                    </ul>
                </li>
                <li><strong>2. قطب اليقظة:</strong>
                    <ul>
                        <li>ينشّط القشرة الدماغية ويحافظ على اليقظة بوساطة:</li>
                        <ul>
                            <li>النورأدرينالين (المركز الأزرق – locus coeruleus)</li>
                            <li>الهيستامين (النواة الأنبوبية الحلمية)</li>
                            <li>الأوركسين (الوطاء الجانبي)</li>
                        </ul>
                        <li>يثبط VLPO</li>
                    </ul>
                </li>
                <li><strong>نموذج "القاطع الكهربائي" (Flip-Flop Switch):</strong>
                    <ul>
                        <li>VLPO "يُطفئ" مراكز اليقظة</li>
                        <li>مراكز اليقظة "تُطفئ" VLPO</li>
                    </ul>
                </li>
                <li><strong>دور الأوركسين في استقرار اليقظة:</strong>
                    <ul>
                        <li>الأوركسين = "قفل" اليقظة</li>
                        <li>غيابه يؤدي إلى النوم القهري (ناركوليبسي): انتقالات مفاجئة بين النوم واليقظة</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Neurobiology of Sleep:</strong></li>
            <ul>
                <li><strong>A balance between two opposing systems:</strong></li>
                <ul>
                    <li><strong>1. Sleep pole (VLPO – anterior hypothalamus):</strong>
                        <ul>
                            <li>Releases GABA and galanin</li>
                            <li>Inhibits arousal centers:</li>
                            <ul>
                                <li>Posterior hypothalamus</li>
                                <li>Brainstem (reticular formation)</li>
                            </ul>
                        </ul>
                    </li>
                    <li><strong>2. Wakefulness pole:</strong>
                        <ul>
                            <li>Activates the cortex and maintains alertness via:</li>
                            <ul>
                                <li>Norepinephrine (locus coeruleus)</li>
                                <li>Histamine (tuberomammillary nucleus)</li>
                                <li>Orexin (lateral hypothalamus)</li>
                            </ul>
                            <li>Inhibits VLPO</li>
                        </ul>
                    </li>
                    <li><strong>“Flip-Flop Switch” model:</strong>
                        <ul>
                            <li>VLPO “turns off” wakefulness centers</li>
                            <li>Wakefulness centers “turn off” VLPO</li>
                        </ul>
                    </li>
                    <li><strong>Stabilization of wakefulness – role of orexin:</strong>
                        <ul>
                            <li>Orexin = “lock” of wakefulness</li>
                            <li>Without orexin → narcolepsy: sudden transitions between wake and sleep</li>
                        </ul>
                    </li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Neurobiologie du sommeil :</strong></li>
            <ul>
                <li><strong>Un équilibre entre deux systèmes opposés :</strong></li>
                <ul>
                    <li><strong>1. Le pôle du sommeil (VLPO – hypothalamus antérieur) :</strong>
                        <ul>
                            <li>Libère du GABA et de la galanine</li>
                            <li>Inhibe les centres de l'éveil :</li>
                            <ul>
                                <li>Hypothalamus postérieur</li>
                                <li>Tronc cérébral (formation réticulée)</li>
                            </ul>
                        </ul>
                    </li>
                    <li><strong>2. Le pôle de l’éveil :</strong>
                        <ul>
                            <li>Active le cortex et maintient la vigilance grâce à :</li>
                            <ul>
                                <li>Noradrénaline (locus coeruleus)</li>
                                <li>Histamine (noyau tubéromamillaire)</li>
                                <li>Orexine (hypothalamus latéral)</li>
                            </ul>
                            <li>Inhibe le VLPO</li>
                        </ul>
                    </li>
                    <li><strong>Le “Flip-Flop Switch” :</strong>
                        <ul>
                            <li>Le VLPO “éteint” les centres de l’éveil</li>
                            <li>Les centres de l’éveil “éteignent” le VLPO</li>
                        </ul>
                    </li>
                    <li><strong>Stabilisation de l’état d’éveil – rôle de l’orexine :</strong>
                        <ul>
                            <li>Orexine = “verrou” de l’éveil</li>
                            <li>Sans orexine → narcolepsie : transitions soudaines entre veille et sommeil</li>
                        </ul>
                    </li>
                </ul>
            </ul>
        </ul>
    </div>
</div>











<div class="bubble">
    <button class="interact-button" id="sleep-wake-systems" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>أنظمة تنظيم النوم واليقظة:</strong></li>
        <ul>
            <li><strong>🔻 النظام المحفز للنوم (باللون الوردي والبرتقالي):</strong></li>
            <ul>
                <li>VLPO (النواة أمام البصرية الوحشية)</li>
                <li>تُفرز GABA والجالانين</li>
            </ul>
            <li><strong>🔺 نظام اليقظة (باللون الأزرق الفاتح والأزرق الداكن):</strong></li>
            <ul>
                <li><strong>الناقلات العصبية المنشطة:</strong></li>
                <ul>
                    <li>النورأدرينالين (الجسر → النوى الرابية)</li>
                    <li>السيروتونين (المركز الأزرق – locus coeruleus)</li>
                    <li>الهيستامين (النوى الأنبوبية الحلمية)</li>
                    <li>الدوبامين (المنطقة السقيفية البطنية - ATV)</li>
                    <li>الأستيل كولين (الجسر، نواة ماينرت)</li>
                    <li>الأوركسين/الهيبوكريتين (الوطاء الجانبي)</li>
                </ul>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Sleep and Wakefulness Systems:</strong></li>
            <ul>
                <li><strong>🔻 Sleep-inducing system (in pink and orange):</strong></li>
                <ul>
                    <li>VLPO (Ventrolateral Preoptic Nucleus)</li>
                    <li>Releases GABA and galanin</li>
                </ul>
                <li><strong>🔺 Arousal system (in sky blue and dark blue):</strong></li>
                <ul>
                    <li><strong>Activating neurotransmitters:</strong></li>
                    <ul>
                        <li>Norepinephrine (pons → raphe nuclei)</li>
                        <li>Serotonin (locus coeruleus)</li>
                        <li>Histamine (tuberomammillary nuclei)</li>
                        <li>Dopamine (ventral tegmental area – VTA)</li>
                        <li>Acetylcholine (pons, nucleus of Meynert)</li>
                        <li>Orexin/hypocretin (lateral hypothalamus)</li>
                    </ul>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Systèmes du sommeil et de l’éveil :</strong></li>
            <ul>
                <li><strong>🔻 Système inducteur du sommeil (en rose et orange) :</strong></li>
                <ul>
                    <li>VLPO (noyau préoptique ventrolatéral)</li>
                    <li>Libère GABA et galanine</li>
                </ul>
                <li><strong>🔺 Système d’éveil (en bleu ciel et bleu foncé) :</strong></li>
                <ul>
                    <li><strong>Neurotransmetteurs activants :</strong></li>
                    <ul>
                        <li>Noradrénaline (pont → noyaux du raphé)</li>
                        <li>Sérotonine (locus coeruleus)</li>
                        <li>Histamine (noyaux tubéromamillaires)</li>
                        <li>Dopamine (aire tegmentale ventrale - ATV)</li>
                        <li>Acétylcholine (pont, noyau de Meynert)</li>
                        <li>Orexine / hypocretine (hypothalamus latéral)</li>
                    </ul>
                </ul>
            </ul>
        </ul>
    </div>
</div>












<div class="bubble">
    <button class="interact-button" id="sleep-clocks" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>ساعتان بيولوجيتان مكملتان:</strong></li>
        <ul>
            <li><strong>1. العملية السيركادية (إيقاع الليل/النهار):</strong></li>
            <ul>
                <li>النوى فوق التصالبة (SCN)</li>
                <li>تتحكم بإفراز الميلاتونين من الغدة الصنوبرية</li>
                <li>تقوم بمزامنة الإيقاعات الحيوية على مدى 24 ساعة</li>
            </ul>
            <li><strong>2. العملية الاستتبابية (ضغط النوم):</strong></li>
            <ul>
                <li>تعتمد على تراكم الأدينوزين</li>
                <li>كلما طال الاستيقاظ، زادت كمية الأدينوزين → الحاجة إلى النوم</li>
                <li>هاتان الآليتان تؤديان إلى تنشيط VLPO لبدء النوم</li>
            </ul>
            <li><strong>الدور الخاص بالأوركسين:</strong></li>
            <ul>
                <li>الأوركسين (يُنتج في الوطاء الجانبي) يعمل كقفل أمان لليقظة</li>
                <li>فقدانه يؤدي إلى نوبات نوم مفاجئة → مرض النوم القهري (narcolepsie)</li>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Two Complementary Clocks:</strong></li>
            <ul>
                <li><strong>1. Circadian process (day/night rhythm):</strong></li>
                <ul>
                    <li>Suprachiasmatic nuclei (SCN)</li>
                    <li>Control melatonin secretion by the pineal gland</li>
                    <li>Synchronize 24-hour biological rhythms</li>
                </ul>
                <li><strong>2. Homeostatic process (sleep pressure):</strong></li>
                <ul>
                    <li>Based on adenosine accumulation</li>
                    <li>The longer we stay awake, the more adenosine builds up → increased sleep need</li>
                    <li>Both systems converge to activate VLPO and trigger sleep</li>
                </ul>
                <li><strong>Special role of orexin:</strong></li>
                <ul>
                    <li>Orexin (produced in the lateral hypothalamus) acts as a wakefulness safety lock</li>
                    <li>Its loss leads to sudden sleep attacks → narcolepsy</li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Deux horloges complémentaires :</strong></li>
            <ul>
                <li><strong>1. Processus circadien (rythme jour/nuit) :</strong></li>
                <ul>
                    <li>Noyaux suprachiasmatiques (SCN)</li>
                    <li>Contrôlent la sécrétion de mélatonine par la glande pinéale</li>
                    <li>Synchronisent les rythmes biologiques sur 24 h</li>
                </ul>
                <li><strong>2. Processus homéostatique (pression du sommeil) :</strong></li>
                <ul>
                    <li>Basé sur l’accumulation de l’adénosine</li>
                    <li>Plus on reste éveillé, plus l’adénosine s’accumule → besoin de dormir</li>
                    <li>Les deux processus convergent vers l’activation du VLPO pour déclencher le sommeil</li>
                </ul>
                <li><strong>Rôle particulier de l’orexine :</strong></li>
                <ul>
                    <li>L’orexine (produite par l’hypothalamus latéral) agit comme un verrou de sécurité de l’éveil</li>
                    <li>Sa perte entraîne des accès brutaux de sommeil → narcolepsie</li>
                </ul>
            </ul>
        </ul>
    </div>
</div>










<div class="bubble">
    <button class="interact-button" id="cortical-arousal" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>اليقظة القشرية:</strong></li>
        <ul>
            <li>تنشيط القشرة المخية → الوعي، التركيز، النشاط الذهني</li>
            <li><strong>الناقلات العصبية ومصادرها وأدوارها:</strong></li>
            <table border="1" style="border-collapse: collapse; width: 100%; text-align: center;">
                <tr>
                    <th>الناقل العصبي</th>
                    <th>المصدر</th>
                    <th>الدور الرئيسي</th>
                </tr>
                <tr>
                    <td>أسيتيل كولين</td>
                    <td>الجسر، نواة ماينرت</td>
                    <td>تنشيط القشرة (EEG سريع)</td>
                </tr>
                <tr>
                    <td>نورأدرينالين</td>
                    <td>نوى الرافية</td>
                    <td>اليقظة، الانتباه</td>
                </tr>
                <tr>
                    <td>هيستامين</td>
                    <td>النوى الأنبوبية الحليمية</td>
                    <td>الحفاظ على نغمة اليقظة القشرية</td>
                </tr>
                <tr>
                    <td>سيروتونين</td>
                    <td>لوسوس كيروليوس (الجسر)</td>
                    <td>تثبيت حالة اليقظة (EEG)</td>
                </tr>
            </table>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Cortical Arousal:</strong></li>
            <ul>
                <li>Activation of the cerebral cortex → consciousness, attention, mental activity</li>
                <li><strong>Neurotransmitters, Origin and Main Role:</strong></li>
                <table border="1" style="border-collapse: collapse; width: 100%; text-align: center;">
                    <tr>
                        <th>Neurotransmitter</th>
                        <th>Origin</th>
                        <th>Main Role</th>
                    </tr>
                    <tr>
                        <td>Acetylcholine</td>
                        <td>Pons, nucleus of Meynert</td>
                        <td>Cortical activation (fast EEG)</td>
                    </tr>
                    <tr>
                        <td>Norepinephrine</td>
                        <td>Raphe nuclei</td>
                        <td>Vigilance, attention</td>
                    </tr>
                    <tr>
                        <td>Histamine</td>
                        <td>Tuberomammillary nuclei</td>
                        <td>Tonic maintenance of cortical arousal</td>
                    </tr>
                    <tr>
                        <td>Serotonin</td>
                        <td>Locus coeruleus (pons)</td>
                        <td>Stabilization of arousal (EEG)</td>
                    </tr>
                </table>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Éveil cortical :</strong></li>
            <ul>
                <li>Activation du cortex cérébral → conscience, attention, activité mentale</li>
                <li><strong>Neurotransmetteurs, origine et rôle :</strong></li>
                <table border="1" style="border-collapse: collapse; width: 100%; text-align: center;">
                    <tr>
                        <th>Neurotransmetteur</th>
                        <th>Origine</th>
                        <th>Rôle principal</th>
                    </tr>
                    <tr>
                        <td>Acétylcholine</td>
                        <td>Pont, noyau de Meynert</td>
                        <td>Activation corticale (EEG rapide)</td>
                    </tr>
                    <tr>
                        <td>Noradrénaline</td>
                        <td>Noyaux du raphé</td>
                        <td>Vigilance, attention</td>
                    </tr>
                    <tr>
                        <td>Histamine</td>
                        <td>Noyaux tubéromamillaires</td>
                        <td>Maintien tonique de l’éveil cortical</td>
                    </tr>
                    <tr>
                        <td>Sérotonine</td>
                        <td>Locus coeruleus (pont)</td>
                        <td>Stabilisation de l’éveil EEG</td>
                    </tr>
                </table>
            </ul>
        </ul>
    </div>

</div>



<div class="bubble">
    <button class="interact-button" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- جدول ثلاثي اللغة -->
    <table border="1" style="border-collapse: collapse; width: 100%; text-align: center;">
        <thead style="background-color: #f2f2f2;">
            <tr>
                <th>العربية</th>
                <th>Français</th>
                <th>English</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>أسيتيل كولين (الجسر، نواة ماينرت) – تنشيط القشرة (EEG سريع)</td>
                <td>Acétylcholine (pont, noyau de Meynert) – Activation corticale (EEG rapide)</td>
                <td>Acetylcholine (pons, nucleus of Meynert) – Cortical activation (fast EEG)</td>
            </tr>
            <tr>
                <td>نورأدرينالين (نوى الرافة) – اليقظة والانتباه</td>
                <td>Noradrénaline (noyaux du raphé) – Vigilance, attention</td>
                <td>Norepinephrine (raphe nuclei) – Vigilance, attention</td>
            </tr>
            <tr>
                <td>هيستامين (النوى الأنبوبية الحليمية) – الحفاظ على يقظة القشرة</td>
                <td>Histamine (noyaux tubéromamillaires) – Maintien de l’éveil cortical</td>
                <td>Histamine (tuberomammillary nuclei) – Maintenance of cortical arousal</td>
            </tr>
            <tr>
                <td>سيروتونين (اللوسوس كيروليوس، الجسر) – تثبيت حالة اليقظة</td>
                <td>Sérotonine (locus coeruleus, pont) – Stabilisation de l’éveil</td>
                <td>Serotonin (locus coeruleus, pons) – Stabilization of arousal</td>
            </tr>
        </tbody>
    </table>
</div>







<div class="bubble">
    <button class="interact-button" id="wakefulness-table" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>اليقظة السلوكية:</strong></li>
        <ul>
            <li>القدرة على الحركة، التفاعل، الكلام، والتجاوب مع المحيط</li>
        </ul>
        <table border="1" style="border-collapse: collapse; width: 100%; text-align: center;">
            <thead>
                <tr>
                    <th>الناقل العصبي</th>
                    <th>المنشأ</th>
                    <th>الدور الرئيسي</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>الأوركسين / الهيبوكريتين</td>
                    <td>الوطاء الجانبي</td>
                    <td>الحفاظ على اليقظة السلوكية، الوضعية، استقرار حالة الاستيقاظ</td>
                </tr>
                <tr>
                    <td>الدوبامين</td>
                    <td>المنطقة السقفية البطنية (ATV)</td>
                    <td>الدافع، بدء الحركة، الانتباه الحركي</td>
                </tr>
                <tr>
                    <td>الأستيل كولين</td>
                    <td>الجسر</td>
                    <td>تنشيط الحركة بشكل غير مباشر</td>
                </tr>
            </tbody>
        </table>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Behavioral Wakefulness:</strong></li>
            <ul>
                <li>Ability to act, move, speak, and respond to the environment</li>
            </ul>
            <table border="1" style="border-collapse: collapse; width: 100%; text-align: center;">
                <thead>
                    <tr>
                        <th>Neurotransmitter</th>
                        <th>Origin</th>
                        <th>Main Role</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Orexin / Hypocretin</td>
                        <td>Lateral hypothalamus</td>
                        <td>Maintaining behavioral wakefulness, posture, wake state stability</td>
                    </tr>
                    <tr>
                        <td>Dopamine</td>
                        <td>Ventral tegmental area (VTA)</td>
                        <td>Motivation, movement initiation, motor attention</td>
                    </tr>
                    <tr>
                        <td>Acetylcholine</td>
                        <td>Pons</td>
                        <td>Indirect motor activation</td>
                    </tr>
                </tbody>
            </table>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Éveil comportemental :</strong></li>
            <ul>
                <li>Capacité à agir, bouger, parler, réagir à l’environnement</li>
            </ul>
            <table border="1" style="border-collapse: collapse; width: 100%; text-align: center;">
                <thead>
                    <tr>
                        <th>Neurotransmetteur</th>
                        <th>Origine</th>
                        <th>Rôle principal</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Orexine / Hypocrétine</td>
                        <td>Hypothalamus latéral</td>
                        <td>Maintien de l’éveil comportemental, posture, stabilisation de l’état d’éveil</td>
                    </tr>
                    <tr>
                        <td>Dopamine</td>
                        <td>Aire tegmentale ventrale (ATV)</td>
                        <td>Motivation, initiation du mouvement, attention motrice</td>
                    </tr>
                    <tr>
                        <td>Acétylcholine</td>
                        <td>Pont</td>
                        <td>Activation motrice indirecte</td>
                    </tr>
                </tbody>
            </table>
        </ul>
    </div>
</div>


<div class="bubble">
    <button class="interact-button" id="wakefulness-table-sidebyside" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <table border="1" style="width: 100%; border-collapse: collapse; text-align: center; direction: rtl;">
        <thead style="background-color: #f0f0f0;">
            <tr>
                <th>🇸🇦 بالعربية</th>
                <th>🇫🇷 Français</th>
                <th>🇬🇧 English</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>اليقظة السلوكية:</strong><br>القدرة على الحركة، التفاعل، الكلام، والتجاوب مع المحيط</td>
                <td><strong>Éveil comportemental :</strong><br>Capacité à agir, bouger, parler, réagir à l’environnement</td>
                <td><strong>Behavioral Wakefulness:</strong><br>Ability to act, move, speak, and respond to the environment</td>
            </tr>
            <tr>
                <td style="text-align: right;">
                    <ul style="list-style: disc; padding-right: 20px;">
                        <li><strong>الأوركسين / الهيبوكريتين</strong>: الوطاء الجانبي – الحفاظ على اليقظة والوضعية</li>
                        <li><strong>الدوبامين</strong>: المنطقة السقفية البطنية – الدافع، بدء الحركة</li>
                        <li><strong>الأستيل كولين</strong>: الجسر – تنشيط الحركة غير المباشر</li>
                    </ul>
                </td>
                <td style="text-align: left;">
                    <ul style="list-style: disc; padding-left: 20px;">
                        <li><strong>Orexine / Hypocrétine</strong> : Hypothalamus latéral – Maintien de l’éveil, posture</li>
                        <li><strong>Dopamine</strong> : Aire tegmentale ventrale – Motivation, initiation du mouvement</li>
                        <li><strong>Acétylcholine</strong> : Pont – Activation motrice indirecte</li>
                    </ul>
                </td>
                <td style="text-align: left;">
                    <ul style="list-style: disc; padding-left: 20px;">
                        <li><strong>Orexin / Hypocretin</strong>: Lateral hypothalamus – Maintains wakefulness and posture</li>
                        <li><strong>Dopamine</strong>: Ventral tegmental area – Motivation, movement initiation</li>
                        <li><strong>Acetylcholine</strong>: Pons – Indirect motor activation</li>
                    </ul>
                </td>
            </tr>
        </tbody>
    </table>
</div>

















<div class="bubble">
    <button class="interact-button" id="non-rem-sleep" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>النوم البطيء (غير REM):</strong></li>
        <table border="1" style="border-collapse: collapse; width: 100%;">
            <tr>
                <th>الفئة</th>
                <th>التفاصيل</th>
            </tr>
            <tr>
                <td>البنى العصبية المشاركة</td>
                <td>نواة VLPO (ما قبل البصري) – تثبط مراكز اليقظة<br>المهاد (في نمط تذبذبي)</td>
            </tr>
            <tr>
                <td>الناقلات العصبية</td>
                <td>GABA (مثبط)<br>جالانين<br>انخفاض في: النورأدرينالين، السيروتونين، الهيستامين</td>
            </tr>
        </table>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>SLOW-WAVE SLEEP (non-REM):</strong></li>
            <table border="1" style="border-collapse: collapse; width: 100%;">
                <tr>
                    <th>Category</th>
                    <th>Details</th>
                </tr>
                <tr>
                    <td>Involved Structures</td>
                    <td>VLPO (preoptic nucleus) – inhibits wakefulness systems<br>Thalamus (oscillatory mode)</td>
                </tr>
                <tr>
                    <td>Neurotransmitters</td>
                    <td>GABA (inhibitory)<br>Galanin<br>Decrease in: norepinephrine, serotonin, histamine</td>
                </tr>
            </table>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>SOMMEIL LENT (non-REM):</strong></li>
            <table border="1" style="border-collapse: collapse; width: 100%;">
                <tr>
                    <th>Catégorie</th>
                    <th>Détails</th>
                </tr>
                <tr>
                    <td>Structures impliquées</td>
                    <td>Noyau VLPO (préoptique) – inhibe les systèmes d’éveil<br>Thalamus (mode oscillatoire)</td>
                </tr>
                <tr>
                    <td>Neurotransmetteurs</td>
                    <td>GABA (inhibition)<br>Galanine<br>Baisse de : noradrénaline, sérotonine, histamine</td>
                </tr>
            </table>
        </ul>
    </div>
</div>








<div class="bubble">
    <button class="interact-button" id="non-rem-sleep-parallel" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <table border="1" style="border-collapse: collapse; width: 100%; text-align: center;">
        <thead>
            <tr style="background-color: #f0f0f0;">
                <th>🇸🇦 بالعربية</th>
                <th>🇬🇧 English</th>
                <th>🇫🇷 Français</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>النوم البطيء (غير REM)</strong></td>
                <td><strong>Slow-wave sleep (non-REM)</strong></td>
                <td><strong>Sommeil lent (non-REM)</strong></td>
            </tr>
            <tr>
                <td>نواة VLPO (ما قبل البصري) – تثبط مراكز اليقظة</td>
                <td>VLPO (preoptic nucleus) – inhibits wakefulness systems</td>
                <td>VLPO (préoptique) – inhibe les systèmes d’éveil</td>
            </tr>
            <tr>
                <td>المهاد (في نمط تذبذبي)</td>
                <td>Thalamus (oscillatory mode)</td>
                <td>Thalamus (mode oscillatoire)</td>
            </tr>
            <tr>
                <td>الناقلات العصبية: GABA، جالانين</td>
                <td>Neurotransmitters: GABA, galanin</td>
                <td>Neurotransmetteurs : GABA, galanine</td>
            </tr>
            <tr>
                <td>انخفاض: النورأدرينالين، السيروتونين، الهيستامين</td>
                <td>Decrease in: norepinephrine, serotonin, histamine</td>
                <td>Baisse de : noradrénaline, sérotonine, histamine</td>
            </tr>
        </tbody>
    </table>
</div>




















<div class="bubble">
    <button class="interact-button" id="rem-sleep" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>النوم الحالم (REM):</strong></li>
        <ul>
            <li><strong>البنى العصبية المعنية:</strong>
                <ul>
                    <li>الجسر (أنوية كولينية)</li>
                    <li>تثبيط شوكي (النخاع الشوكي) → انعدام التوتر العضلي</li>
                </ul>
            </li>
            <li><strong>الناقلات العصبية:</strong>
                <ul>
                    <li>أستيل كولين ↑</li>
                    <li>نورأدرينالين، سيروتونين، هستامين ↓</li>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>REM Sleep (Paradoxical Sleep):</strong></li>
            <ul>
                <li><strong>Involved structures:</strong>
                    <ul>
                        <li>Pons (cholinergic nuclei)</li>
                        <li>Medullary inhibition (spinal cord) → muscle atonia</li>
                    </ul>
                </li>
                <li><strong>Neurotransmitters:</strong>
                    <ul>
                        <li>Acetylcholine ↑</li>
                        <li>Norepinephrine, serotonin, histamine ↓</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>SOMMEIL PARADOXAL (REM) :</strong></li>
            <ul>
                <li><strong>Structures impliquées :</strong>
                    <ul>
                        <li>Pont (noyaux cholinergiques)</li>
                        <li>Inhibition médullaire (moelle épinière) → atonie musculaire</li>
                    </ul>
                </li>
                <li><strong>Neurotransmetteurs :</strong>
                    <ul>
                        <li>Acétylcholine ↑</li>
                        <li>Noradrénaline, sérotonine, histamine ↓</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</div>










<div class="bubble">
    <button class="interact-button" id="rem-sleep" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <table style="width:100%; table-layout:fixed; border-collapse: collapse;">
        <thead>
            <tr>
                <th style="width: 33%; border: 1px solid #ccc; padding: 8px;">العربية</th>
                <th style="width: 33%; border: 1px solid #ccc; padding: 8px;">English</th>
                <th style="width: 33%; border: 1px solid #ccc; padding: 8px;">Français</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="border: 1px solid #ccc; padding: 8px; vertical-align: top;">
                    <strong>النوم الحالم (REM):</strong><br>
                    <strong>البنى العصبية:</strong><br>
                    - الجسر (أنوية كولينية)<br>
                    - تثبيط شوكي → انعدام التوتر العضلي<br>
                    <strong>الناقلات العصبية:</strong><br>
                    - أستيل كولين ↑<br>
                    - نورأدرينالين، سيروتونين، هستامين ↓
                </td>
                <td style="border: 1px solid #ccc; padding: 8px; vertical-align: top;" dir="ltr">
                    <strong>REM Sleep (Paradoxical Sleep):</strong><br>
                    <strong>Involved structures:</strong><br>
                    - Pons (cholinergic nuclei)<br>
                    - Medullary inhibition → muscle atonia<br>
                    <strong>Neurotransmitters:</strong><br>
                    - Acetylcholine ↑<br>
                    - Norepinephrine, serotonin, histamine ↓
                </td>
                <td style="border: 1px solid #ccc; padding: 8px; vertical-align: top;">
                    <strong>SOMMEIL PARADOXAL (REM) :</strong><br>
                    <strong>Structures impliquées :</strong><br>
                    - Pont (noyaux cholinergiques)<br>
                    - Inhibition médullaire → atonie musculaire<br>
                    <strong>Neurotransmetteurs :</strong><br>
                    - Acétylcholine ↑<br>
                    - Noradrénaline, sérotonine, histamine ↓
                </td>
            </tr>
        </tbody>
    </table>
</div>







<div class="bubble">
    <button class="interact-button" id="sleep-roles" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>الأدوار البيولوجية والمعرفية للنوم:</strong></li>
        <ul>
            <li>النوم ليس مجرد استراحة، بل هو وظيفة بيولوجية نشطة وأساسية من أجل:</li>
            <ul>
                <li>الدماغ</li>
                <li>الجسم</li>
                <li>التوازن النفسي</li>
                <li>الصحة على المدى الطويل</li>
            </ul>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Biological and Cognitive Roles of Sleep:</strong></li>
            <ul>
                <li>Sleep is not a break — it is an active and essential biological function for:</li>
                <ul>
                    <li>The brain</li>
                    <li>The body</li>
                    <li>Mental balance</li>
                    <li>Long-term health</li>
                </ul>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Rôles biologiques et cognitifs du sommeil :</strong></li>
            <ul>
                <li>Le sommeil n'est pas une pause, c'est une fonction biologique active et essentielle pour :</li>
                <ul>
                    <li>Le cerveau</li>
                    <li>Le corps</li>
                    <li>L'équilibre mental</li>
                    <li>La santé à long terme</li>
                </ul>
            </ul>
        </ul>
    </div>
</div>


<div class="bubble">
    <button class="interact-button" id="sleep-functions" onclick="markBubbleAsCompleted(this)">تفاعل</button>

    <!-- بالعربية -->
    <ul>
        <li><strong>الوظائف الحيوية والمعرفية للنوم:</strong></li>
        <ul>
            <li><strong>1. الاسترجاع الدماغي:</strong>
                <ul>
                    <li>توفير الطاقة العصبية</li>
                    <li>تنظيف الفضلات العصبية (نظام غليمفاتيكي)</li>
                    <li>خفض الاستثارة العصبية → توازن الشبكات العصبية</li>
                </ul>
            </li>
            <li><strong>2. التجدد الجسدي:</strong>
                <ul>
                    <li>إفراز هرمون النمو (GH) خلال النوم العميق</li>
                    <li>إصلاح الخلايا</li>
                    <li>تعزيز المناعة</li>
                </ul>
            </li>
            <li><strong>3. تثبيت الذاكرة:</strong>
                <ul>
                    <li>الذاكرة التصريحية (المعلومات، الدروس): النوم العميق (N3)</li>
                    <li>الذاكرة الإجرائية (الحركات، المهارات): النوم الحالم (REM)</li>
                    <li>فرز وتنظيم الذكريات</li>
                </ul>
            </li>
            <li><strong>4. التنظيم العاطفي:</strong>
                <ul>
                    <li>تهدئة اللوزة الدماغية (مركز المشاعر)</li>
                    <li>تقليل القلق وزيادة الاستقرار العاطفي</li>
                    <li>الأحلام = تفريغ انفعالي غير واعي</li>
                </ul>
            </li>
            <li><strong>5. التنظيم الإيقاعي:</strong>
                <ul>
                    <li>تنظيم الإيقاع اليومي (circadien)</li>
                    <li>درجة الحرارة، إفراز الهرمونات، الهضم...</li>
                </ul>
            </li>
            <li><strong>6. الصحة العامة:</strong>
                <ul>
                    <li>الوقاية من أمراض القلب</li>
                    <li>تنظيم الشهية (اللبتين / الغريلين)</li>
                    <li>الحد من مخاطر السكري، السمنة، الاكتئاب...</li>
                </ul>
            </li>
        </ul>
    </ul>

    <br>

    <!-- بالإنجليزية -->
    <div class="bubble" dir="ltr">
        <ul>
            <li><strong>Main Biological and Cognitive Functions of Sleep:</strong></li>
            <ul>
                <li><strong>1. Brain Recovery:</strong>
                    <ul>
                        <li>Neuronal energy conservation</li>
                        <li>Brain waste clearance (glymphatic system)</li>
                        <li>Reduced excitability → neuronal balance</li>
                    </ul>
                </li>
                <li><strong>2. Physical Regeneration:</strong>
                    <ul>
                        <li>Growth hormone (GH) secretion during deep sleep</li>
                        <li>Cellular repair</li>
                        <li>Immune reinforcement</li>
                    </ul>
                </li>
                <li><strong>3. Memory Consolidation:</strong>
                    <ul>
                        <li>Declarative memory (facts, lessons): slow-wave sleep (N3)</li>
                        <li>Procedural memory (skills, movements): REM sleep</li>
                        <li>Sorting and organizing memories</li>
                    </ul>
                </li>
                <li><strong>4. Emotional Regulation:</strong>
                    <ul>
                        <li>Soothing of the amygdala (emotion center)</li>
                        <li>Less anxiety, more emotional stability</li>
                        <li>Dreams = unconscious emotional discharge</li>
                    </ul>
                </li>
                <li><strong>5. Biological Rhythmicity:</strong>
                    <ul>
                        <li>Regulation of circadian rhythms</li>
                        <li>Body temperature, hormone secretion, digestion...</li>
                    </ul>
                </li>
                <li><strong>6. Overall Health:</strong>
                    <ul>
                        <li>Cardiovascular prevention</li>
                        <li>Appetite regulation (leptin/ghrelin)</li>
                        <li>Reduces risk of diabetes, obesity, depression...</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>

    <br>

    <!-- بالفرنسية -->
    <div class="bubble">
        <ul>
            <li><strong>Fonctions biologiques et cognitives principales du sommeil :</strong></li>
            <ul>
                <li><strong>1. Récupération cérébrale :</strong>
                    <ul>
                        <li>Économie d’énergie neuronale</li>
                        <li>Nettoyage des déchets cérébraux (système glymphatique)</li>
                        <li>Réduction de l’excitabilité → équilibre neuronal</li>
                    </ul>
                </li>
                <li><strong>2. Régénération physique :</strong>
                    <ul>
                        <li>Sécrétion de l’hormone de croissance (GH) pendant le sommeil profond</li>
                        <li>Réparation cellulaire</li>
                        <li>Renforcement immunitaire</li>
                    </ul>
                </li>
                <li><strong>3. Consolidation de la mémoire :</strong>
                    <ul>
                        <li>Mémoire déclarative (faits, cours...) : sommeil lent (N3)</li>
                        <li>Mémoire procédurale (mouvements, habiletés) : sommeil paradoxal</li>
                        <li>Tri et organisation des souvenirs</li>
                    </ul>
                </li>
                <li><strong>4. Régulation émotionnelle :</strong>
                    <ul>
                        <li>Apaisement de l’amygdale (centre des émotions)</li>
                        <li>Moins d’anxiété, plus de stabilité émotionnelle</li>
                        <li>Rêves = décharge émotionnelle inconsciente</li>
                    </ul>
                </li>
                <li><strong>5. Rythmicité biologique :</strong>
                    <ul>
                        <li>Régulation des rythmes circadiens</li>
                        <li>Température corporelle, sécrétion hormonale, digestion...</li>
                    </ul>
                </li>
                <li><strong>6. Santé globale :</strong>
                    <ul>
                        <li>Prévention cardiovasculaire</li>
                        <li>Régulation de l’appétit (leptine/ghréline)</li>
                        <li>Limite les risques de diabète, obésité, dépression...</li>
                    </ul>
                </li>
            </ul>
        </ul>
    </div>
</div>


<!-- تصميم جديد كليًا بدون خاصية الطفو -->
<div style="display: flex; justify-content: center; align-items: center; height: 200px; background-color: #f5f5f5; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">

  <button style="background-color: #d32f2f; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-size: 18px; font-weight: bold; cursor: pointer; transition: background-color 0.3s ease;">
    إضافات  قريبا 
  </button>

</div>

























    <div id="end-lesson-modal">
        <h3>أحسنت يا طبيبنا إن شاء الله!</h3>
        <p id="lesson-summary">الوقت المستغرق: 00 دقيقة و 00 ثانية. عدد الفقاعات التي تم التفاعل معها: 0 من أصل 0.</p>
        <button class="reload-button" onclick="reloadPage()">إعادة الحفظ</button>
        <button onclick="goToTestsPage()">الانتقال إلى صفحة الاختبارات</button>
    </div>

    <div class="modal" id="question-modal">
        <h3 id="modal-question">هل حفظت هذه الفقاعة؟</h3>
        <button onclick="closeModal(true)">نعم</button>
        <button onclick="closeModal(false)">لا</button>
    </div>

    <script>
    let totalBubbles = 33; 
    let completedBubbles = 0; 
    let startTime = Date.now();
    let bubbleButton = null;
    
    function showQuestion() {
        document.getElementById('question-modal').style.display = 'block';
    }
    
    function closeModal(answer) {
        document.getElementById('question-modal').style.display = 'none';
    
        if (answer) {
            completedBubbles++;
            updateProgress();
            bubbleButton.style.backgroundColor = '#4CAF50'; 
            bubbleButton.innerText = 'تم التفاعل'; 
            bubbleButton.disabled = true; 
    
            if (completedBubbles === totalBubbles) {
                enableFinishButton();
            }
        }
    }
    
    function updateProgress() {
        let progress = (completedBubbles / totalBubbles) * 100; 
        document.getElementById('progress-bar').style.width = `${progress}%`;
        document.getElementById('progress-percentage').innerText = `${Math.round(progress)}%`;
    
        const finishButton = document.querySelector('.finish-button');
        if (progress === 100) {
            finishButton.disabled = false; 
            finishButton.style.backgroundColor = '#00aaff'; 
            finishButton.style.cursor = 'pointer'; 
        } else {
            finishButton.disabled = true;
            finishButton.style.backgroundColor = '#ccc'; 
            finishButton.style.cursor = 'not-allowed'; 
        }
    }
    
    function markBubbleAsCompleted(button) {
        bubbleButton = button; 
        showQuestion(); 
    }
    
    function finishLesson() {
        let elapsedTime = Date.now() - startTime;
        let minutes = Math.floor(elapsedTime / 60000);
        let seconds = Math.floor((elapsedTime % 60000) / 1000);
        let summary = `الوقت المستغرق: ${minutes} دقيقة و ${seconds} ثانية. عدد الفقاعات التي تم التفاعل معها: ${completedBubbles} من أصل ${totalBubbles}.`;
        document.getElementById('lesson-summary').innerText = summary;
        document.getElementById('end-lesson-modal').style.display = 'block';
    }
    
    function reloadPage() {
        location.reload();
    }
    
    function goToTestsPage() {
        window.location.href = 'MED02.html';
    }
    
    function initializeFinishButton() {
        const finishButton = document.querySelector('.finish-button');
        finishButton.disabled = true; 
        finishButton.style.backgroundColor = '#ccc'; 
        finishButton.style.cursor = 'not-allowed'; 
    }
    
    window.onload = initializeFinishButton;
    
    // وظيفة للانتقال إلى أول فقاعة غير مكتملة
    function goToUncompletedBubble() {
        let bubbles = document.querySelectorAll('.interact-button');
        for (let bubble of bubbles) {
            if (!bubble.disabled) { // تعني أن الفقاعة لم يتم التفاعل معها
                bubble.scrollIntoView({ behavior: 'smooth', block: 'center' });
                bubble.style.border = "3px solid red"; // تمييزها باللون الأحمر
                break;
            }
        }
    }
    </script>
    
</body>
</html>




























































<br><br><br><br><br><br><br>




<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📚 بطاقات فلاش تفاعلية</title>
    <style>
        body {
            font-family: 'Amiri', serif;
            background-color: #121212;
            color: #fff;
            text-align: center;
            padding: 20px;
            margin: 0;
            direction: rtl;
        }

        .flashcard {
            width: 100%;
            height: 300px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .flipped {
            transform: rotateY(180deg);
        }

        .flashcard-side {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(255, 255, 255, 0.2);
        }

        .front {
            background-color: #1e1e1e;
        }

        .back {
            background-color: #2c2c2c;
            transform: rotateY(180deg);
        }

        .flashcard-image {
            width: 40%;
            height: 100%;
            border-radius: 10px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .flashcard-image img {
            max-width: 100%;
            max-height: 100%;
            transition: transform 0.3s ease-in-out;
            cursor: pointer;
        }

        .flashcard-image img.expanded {
            transform: scale(1.5);
        }

        .flashcard-content {
            width: 65%;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            text-align: right;
            direction: rtl;
            overflow-y: auto;
            max-height: 150px;
            white-space: normal;
            word-wrap: break-word;
            position: relative;
        }
        .hint-container {
    position: fixed; /* استخدم fixed لجعل التلميح ثابتًا في المكان */
    top: -190px; /* 20px من أعلى الصفحة */
    left: 50%;
    transform: translateX(-50%); /* لتوسيط التلميح بشكل أفقي */
    width: 80%; /* عرض التلميح */
    background-color: rgba(0, 0, 0, 0.7);
    padding: 10px;
    border-radius: 10px;
    font-size: 16px;
    color: #f1c40f;
    box-shadow: 0 4px 8px rgba(255, 255, 255, 0.2);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease-out;
}

        /* عند إظهار التلميح */
        .hint-container.show {
            opacity: 1;
            pointer-events: auto;
        }

        .buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 15px;
            gap: 10px;
        }

        .navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
        }

        button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s, transform 0.2s;
        }

        button:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }

        .arrow {
            font-size: 30px;
            cursor: pointer;
            transition: color 0.3s, transform 0.2s;
        }

        .arrow:hover {
            color: #00aaff;
            transform: scale(1.2);
        }

        @media (max-width: 480px) {
            .flashcard {
                height: 230px;
            }

            .flashcard-image {
                width: 40%;
                max-height: 150px;
            }

            .flashcard-content {
                font-size: 14px;
                padding: 10px;
                max-height: 120px;
            }

            button {
                font-size: 14px;
                padding: 8px;
            }
        }
    </style>
</head>
<body>
       

            <div class="lesson-container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 30vh; text-align: center;">
      
                <h2  id="flashcard-section">📚 بطاقات فلاش تفاعلية</h2>
         
            </div>
            

   
    <div class="flashcard-container" onclick="flipCard(event)">
        <div class="flashcard" id="flashcard">
            <div class="flashcard-side front">
                <div class="flashcard-image">
                    <img id="cardImageFront" src="" alt="صورة البطاقة" onclick="toggleImageSize(this)">
                </div>
                <div class="flashcard-content">
                    <h3 id="question"></h3>
                    <!-- حاوية التلميح -->
                    <div id="hintContainer" class="hint-container">
                        <p id="hint" class="hint"></p>
                    </div>
                </div>
            </div>
            <div class="flashcard-side back">
                <div class="flashcard-image">
                    <img id="cardImageBack" src="" alt="صورة البطاقة" onclick="toggleImageSize(this)">
                </div>
                <div class="flashcard-content">
                    <h3>الإجابة:</h3>
                    <p id="answer"></p>
                </div>
            </div>
        </div>
    </div>

    <br><br>
    <div class="buttons">
        <button onclick="showHint()">🔍 تلميح</button>
        <button onclick="shuffleCards()">🔀 خلط البطاقات</button>
    </div>

    <br>
    <div class="navigation">
        <span class="arrow" onclick="nextCard()">➡️</span>
        <span id="cardNumber">1 / 3</span>
        <span class="arrow" onclick="prevCard()">⬅️</span>
    </div>

    <script>
        const flashcards = [
            {
                question : "خمن البيانات والعنوان:<br>🔹 باللغة العربية (AR): خمن البيانات والعنوان<br>🔹 باللغة الإنجليزية (EN): Guess the data and the title<br>🔹 باللغة الفرنسية (FR): Devinez les données et le titre",
                hint : "🔍 شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5 (AR)<br>🔍 In English (EN): Axial slice from a CT scan / TDM of the chest at the Th5 level<br>🔍 En français (FR): Coupe axiale d'un scanner TDM du thorax au niveau Th5",
                answer: `
                    <ul style="padding-right: 20px; text-align: right; direction: rtl; list-style: none; line-height: 1.8; font-size: 18px;">
                        <li><b>  العنوان:</b><br>
                            🔹 <b>شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5.  (AR):</b><br>
                            🔹 <b>Axial slice of a CT scan / TDM of the thorax at the Th5 level.  (EN):</b><br>
                            🔹 <b> Coupe axiale d'un scanner / TDM thoracique au niveau Th5 (FR):</b>
               
                        </li><br>
                        <span style="font-size: 20px; font-weight: bold;">🔍 شريحة محورية من تصوير مقطعي محوسب / TDM للصدر عند مستوى Th5:</span><br>
                        <ol style="padding-right: 20px; text-align: right;">
                            <li>1️⃣ : الرئة اليمنى (Right Lung) - <i>Poumon droit</i></li><br>
                            <li>2️⃣ : الرئة اليسرى (Left Lung) - <i>Poumon gauche</i></li><br>
                            <li>3️⃣ : الجذع الرئوي (Pulmonary Trunk) - <i>Tronc pulmonaire</i></li><br>
                            <li>4️⃣ : الشريان الرئوي الأيمن (Right Pulmonary Artery) - <i>Artère pulmonaire droite</i></li><br>
                            <li>5️⃣ : الشريان الرئوي الأيسر (Left Pulmonary Artery) - <i>Artère pulmonaire gauche</i></li><br>
                            <li>6️⃣ : الوريد الأجوف العلوي (Superior Vena Cava) - <i>Veine cave supérieure</i></li><br>
                            <li>7️⃣ : الأبهر الصدري الصاعد (Ascending Thoracic Aorta) - <i>Aorte thoracique ascendante</i></li><br>
                            <li>8️⃣ : الأبهر الصدري النازل (Descending Thoracic Aorta) - <i>Aorte thoracique descendante</i></li><br>
                            <li>9️⃣ : الوريد الرئوي الأيسر (Left Pulmonary Vein) - <i>Veine pulmonaire gauche</i></li><br>
                            <li>🔟 : الكتف الأيسر (Left Scapula) - <i>Scapula gauche</i></li><br>
                        </ol>
                    </ul>
                `,
                imageFront: "2MEDU1ANATOMIE/A101.png", // صورة الجهة الأمامية
                imageBack: "2MEDU1ANATOMIE/A101.png", // صورة الجهة الخلفية
                isHtml: true
            },
    {
        question: `🔹 <b>  خمن الشرايين الوربية( Costal) التي تغذي الغدة الثديية.   </b> 🔹<br>
        🔹 <b>باللغة العربية (AR):</b> خمن الشرايين الوربية( intercostal) التي تغذي الغدة الثديية.  br>
        🔹 <b>In English (EN):</b> Guess the intercostal arteries that supply the mammary gland<br>
        🔹 <b>En français (FR):</b> Devinez les artères intercostales qui irriguent la glande mammaire`,
        
        hint: `🔍 <b>تلميح / Hint / Indice</b><br>
        🔴 <b>باللغة العربية (AR):</b> عددها ثلاثة بالترتيب.<br>
        🔵 <b>In English (EN):</b> They are three in order.<br>
        ⚪ <b>En français (FR):</b> Ils sont au nombre de trois dans l'ordre.`,
        
        answer: `
            <div style="text-align: center;">
                <ul style="padding-right: 20px; text-align: right; direction: rtl; list-style: none; line-height: 1.8; font-size: 18px;">
                    <li>2️⃣ <b>الشريان الوربي الثاني</b> (Intercostal Artery 2) - <i>Deuxième artère intercostale</i></li><br>
                    <li>3️⃣ <b>الشريان الوربي الثالث</b> (Intercostal Artery 3) - <i>Troisième artère intercostale</i></li><br>
                    <li>4️⃣ <b>الشريان الوربي الرابع</b> (Intercostal Artery 4) - <i>Quatrième artère intercostale</i></li><br>
                </ul>
            </div>
        `,
        imageFront: "/A101.png", // صورة الجهة الأمامية
                imageBack: "2MED U4 ANATOMIE/A47.jpg", // صورة الجهة الخلفية
                isHtml: true
    }



    ];

let currentIndex = 0;
let flipped = false;

function updateCard() {
    const card = flashcards[currentIndex];
    document.getElementById("question").innerHTML = card.question;
    document.getElementById("answer").innerHTML = card.answer;
    document.getElementById("cardImageFront").src = card.imageFront;
    document.getElementById("cardImageBack").src = card.imageBack;
    document.getElementById("cardNumber").textContent = `${currentIndex + 1} / ${flashcards.length}`;
}

function flipCard(event) {
    event.stopPropagation();
    flipped = !flipped;
    document.getElementById("flashcard").classList.toggle("flipped", flipped);
}

function nextCard() {
    currentIndex = (currentIndex + 1) % flashcards.length;
    flipped = false;
    document.getElementById("flashcard").classList.remove("flipped");
    updateCard();
}

function prevCard() {
    currentIndex = (currentIndex - 1 + flashcards.length) % flashcards.length;
    flipped = false;
    document.getElementById("flashcard").classList.remove("flipped");
    updateCard();
}

updateCard();
</script>




























<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>نظام الأزرار العائمة الذكي - نسخة الهاتف</title>

    <style>
        .floating-system {
            position: fixed;
            z-index: 9999;
            bottom: 25px;
            left: 25px; /* تغيير من right إلى left */
            display: flex;
            flex-direction: row;
            gap: 15px;
            align-items: center;
            touch-action: none;
        }
        
        /* الزر الرئيسي */
        .main-floating-btn {
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(108, 92, 231, 0.4);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            -webkit-tap-highlight-color: transparent;
            position: relative;
            order: 1;
        }
    
        /* الأزرار الثانوية */
        .secondary-btn {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, #00b894, #55efc4);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 22px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 184, 148, 0.3);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateX(30px);
            visibility: hidden;
            -webkit-tap-highlight-color: transparent;
            position: relative;
        }
        
        .secondary-btn.search-btn {
            background: linear-gradient(135deg, #0984e3, #74b9ff);
        }
        
        .secondary-btn.speech-btn {
            background: linear-gradient(135deg, #e17055, #fab1a0);
        }
        
        .secondary-btn.contact-btn {
            background: linear-gradient(135deg, #fd79a8, #ff9ff3);
        }
        
        .secondary-btn.flashcard-btn {
            background: linear-gradient(135deg, #fdcb6e, #ffeaa7);
            color: #333;
        }
    
      .secondary-btn.eldars-btn {
          background: linear-gradient(135deg, #9b59b6, #8e44ad);
      }
  
        /* حالة الأزرار عند الفتح */
        .floating-system.expanded {
            flex-direction: row-reverse;
        }
        
        .floating-system.expanded .secondary-btn {
            opacity: 1;
            transform: translateX(0);
            visibility: visible;
        }
        
        .floating-system.expanded .search-btn {
            transition-delay: 0.1s;
        }
        
        .floating-system.expanded .speech-btn {
            transition-delay: 0.2s;
        }
        
        .floating-system.expanded .contact-btn {
            transition-delay: 0.3s;
        }
        
        .floating-system.expanded .flashcard-btn {
            transition-delay: 0.4s;
        }
            
      .floating-system.expanded .eldars-btn {
          transition-delay: 0.5s;
      }
    
        /* تأثير النبض */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0.7); }
            70% { box-shadow: 0 0 0 12px rgba(108, 92, 231, 0); }
            100% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0); }
        }
    
        .pulse-effect {
            animation: pulse 1.5s infinite;
        }
    
        /* تحسينات للهواتف الصغيرة */
        @media (max-width: 480px) {
            .floating-system {
                bottom: 20px;
                left: 20px; /* تغيير من right إلى left */
                gap: 12px;
            }
            
            .main-floating-btn {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }
            
            .secondary-btn {
                width: 52px;
                height: 52px;
                font-size: 22px;
            }
            
            /* زيادة مساحة الضغط */
            .main-floating-btn::after,
            .secondary-btn::after {
                content: '';
                position: absolute;
                top: -15px;
                left: -15px;
                right: -15px;
                bottom: -15px;
            }
        }
    
        /* أنماط القلم الناطق */
        .notification {
            position: fixed;
            bottom: 100px;
            right: 20px;
            background: #008cff;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            font-size: 18px;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.5s, transform 0.5s;
            display: none;
            z-index: 9998;
            max-width: 80%;
        }
    
        .show-notification {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }
        
        /* أنماط البحث */
        .search-bubble {
            position: fixed;
            bottom: 120px;
            right: 30px;
            width: 350px;
            max-height: 60vh;
            background-color: rgb(82, 82, 82);
            border-radius: 18px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            display: none;
            flex-direction: column;
            z-index: 10000;
            overflow: hidden;
            animation: bubbleAppear 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
    
        .search-bubble.show {
            display: flex;
        }
    
        @keyframes bubbleAppear {
            from {
                transform: translateY(20px) scale(0.9);
                opacity: 0;
            }
            to {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
        }
    
        .bubble-header {
            padding: 15px;
            background-color: #ffffff;
            border-bottom: 1px solid #424242;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    
        .bubble-title {
            font-weight: bold;
            color: #333;
        }
    
        .close-bubble {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #777;
            padding: 0;
            margin: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    
        .bubble-content {
            flex: 1;
            overflow-y: auto;
            padding: 0;
        }
    
        .search-input {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: none;
            border-bottom: 2px solid #989898;
            outline: none;
        }
    
        .search-input:focus {
            border-bottom-color: #2185d0;
        }
    
        .search-results {
            max-height: calc(60vh - 120px);
            overflow-y: auto;
        }
    
        .result-item {
            padding: 15px;
            border-bottom: 1px solid #747272;
            cursor: pointer;
            transition: background 0.2s;
        }
    
        .result-item:hover {
            background-color: #393737;
        }
    
        .result-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2185d0;
        }
    
        .highlight {
            background-color: #009c05;
            padding: 0 2px;
            border-radius: 3px;
        }
        .no-results {
            padding: 20px;
            text-align: center;
            color: #999;
        }
    
        @media (max-width: 768px) {
            .search-bubble {
                right: 15px;
                width: calc(100% - 30px);
                max-height: 50vh;
                bottom: 100px;
            }
            
            .search-results {
                max-height: calc(50vh - 120px);
            }
        }
        
        /* أنماط نافذة التواصل */
        .popupCONTACT {
            position: fixed;
            top: 50%;
            right: 50%;
            transform: translate(50%, -50%);
            width: 90%;
            max-width: 300px;
            background: #ffffff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            z-index: 1001;
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }
    
        .close-btnCONTACT {
            position: absolute;
            top: 10px;
            left: 10px;
            background: transparent;
            border: none;
            font-size: 22px;
            color: #ff4d4d;
            cursor: pointer;
            font-weight: bold;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
    
        .contact-containerCONTACT {
            text-align: center;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            width: 100%;
            margin: auto;
        }
    
        .contact-titleCONTACT {
            font-size: 22px;
            margin-bottom: 10px;
        }
    
        .contact-textCONTACT {
            font-size: 16px;
            color: #333;
            margin-bottom: 15px;
        }
    
        .social-linksCONTACT {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
    
        .btnCONTACT {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 12px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 16px;
            font-weight: bold;
            color: white;
            transition: 0.3s;
        }
    
        .telegram-btnCONTACT { background: #0088cc; }
        .facebook-btnCONTACT { background: #1877f2; }
        .instagram-btnCONTACT { background: #e1306c; }
    
  
  
  
  
   /* أنماط نافذة Eldars */
   .eldars-popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  max-width: 600px;
  height: 80vh;
  background: white;
  border-radius: 15px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  z-index: 10010;
  display: none;
  overflow: hidden;
  animation: fadeIn 0.3s ease-in-out;
  }
  
  .eldars-popup.show {
  display: block;
  }
  
  .eldars-header {
  padding: 15px;
  background: #9b59b6;
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  }
  
  .eldars-title {
  font-weight: bold;
  font-size: 18px;
  }
  
  .close-eldars {
  background: none;
  border: none;
  color: white;
  font-size: 24px;
  cursor: pointer;
  }
  
  .eldars-content {
  width: 100%;
  height: calc(100% - 50px);
  overflow: hidden;
  position: relative;
  }
  
  .eldars-iframe {
  width: 100%; /* عرض العنصر 100% ليشغل المساحة المتاحة */
  height: 100%; /* ارتفاع العنصر 100% ليشغل المساحة المتاحة */
  position: absolute;
  top: 0;
  left: 0;
  transform: none; /* إزالة التكبير الزائد */
  border: none;
  overflow: auto; /* تمكين التمرير داخل الـiframe إذا لزم الأمر */
  }
  
  /* تحسين العرض على الشاشات الصغيرة (الهواتف) */
  @media (max-width: 768px) {
  .eldars-popup {
      max-width: 90%;
      height: 85vh; /* تقليل ارتفاع النافذة لتكون أكثر مرونة */
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  /* تحسين العرض على الشاشات الصغيرة جدًا (الهاتف المحمول) */
  @media (max-width: 480px) {
  .eldars-popup {
      max-width: 95%;
      height: 90vh;
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  /* تحسين العرض على الشاشات الكبيرة */
  @media (min-width: 1024px) {
  .eldars-popup {
      max-width: 800px;
      height: 80vh;
  }
  .eldars-iframe {
      width: 100%;
      height: 100%;
  }
  }
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
        @keyframes fadeIn {
            from { opacity: 0; transform: translate(50%, -45%); }
            to { opacity: 1; transform: translate(50%, -50%); }
        }
    
        /* تحسينات للهواتف الصغيرة */
        @media (max-width: 480px) {
            .floating-system {
                bottom: 15px;
                left: 15px; /* تغيير من right إلى left */
                gap: 8px;
            }
            
            .main-floating-btn {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .secondary-btn {
                width: 42px;
                height: 42px;
                font-size: 18px;
            }
            
            /* تحسينات للبحث على الشاشات الصغيرة */
            .search-bubble {
                bottom: 90px;
                max-height: 60vh;
            }
            
            /* تحسينات لنافذة التواصل */
            .popupCONTACT {
                max-width: 90%;
                padding: 15px;
            }
            
            .contact-titleCONTACT {
                font-size: 18px;
            }
            
            .contact-textCONTACT {
                font-size: 14px;
            }
            
            .btnCONTACT {
                padding: 10px;
                font-size: 14px;
            }
            
            /* زيادة مساحة الضغط للأزرار */
            .main-floating-btn::after,
            .secondary-btn::after {
                content: '';
                position: absolute;
                top: -10px;
                left: -10px;
                right: -10px;
                bottom: -10px;
            }
            
            /* تحسينات للإشعارات */
            .notification {
                bottom: 80px;
                right: 10px;
                font-size: 14px;
                padding: 10px 15px;
            }
        }
    
        /* تحسينات إضافية للشاشات الصغيرة جدًا */
        @media (max-width: 360px) {
            .floating-system {
                bottom: 10px;
                left: 10px; /* تغيير من right إلى left */
                gap: 6px;
            }
            
            .main-floating-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }
            
            .secondary-btn {
                width: 38px;
                height: 38px;
                font-size: 16px;
            }
        }
        </style>
    </style>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- نظام الأزرار العائمة -->
    <div class="floating-system" id="floatingSystem">
        <!-- الأزرار الثانوية -->
        <button class="secondary-btn flashcard-btn" id="flashcardBtn" title="البطاقات التعليمية">
            <i class="far fa-copy"></i>
        </button>
        
        <button class="secondary-btn contact-btn" id="contactBtn" title="الدعم الفني">
            <i class="fas fa-headset"></i>
        </button>


    



        <button class="secondary-btn speech-btn" id="speechBtn" title="القلم الناطق">
            <i class="fas fa-microphone-alt"></i>
        </button>
        
        <button class="secondary-btn search-btn" id="searchBtn" title="البحث الذكي">
            <i class="fas fa-search"></i>
        </button>
        
        <!-- الزر الرئيسي -->
        <button class="main-floating-btn" id="mainFloatingBtn">
            <i class="fas fa-plus"></i>
        </button>
    </div>


    <!-- إشعارات القلم الناطق -->
    <div id="notification" class="notification"></div>


    <div>
        <label>🔹 اختر جنس الصوت:</label>
        <select id="voiceGender">
            <option value="male">ذكر</option>
            <option value="female">أنثى</option>
        </select>
    </div>

    <div class="speed-control">
        <label for="speedRange">🔊 سرعة الصوت:</label>
        <input type="range" id="speedRange" min="0.5" max="2" step="0.1" value="1">
    </div>
    <!-- فقاعة البحث -->
    <div class="search-bubble" id="searchBubble">
        <div class="bubble-header">
            <div class="bubble-title">البحث في الموقع</div>
            <button class="close-bubble" id="closeBubble" aria-label="إغلاق البحث">×</button>
        </div>
        <div class="bubble-content">
            <input type="text" class="search-input" id="searchInput" 
                   placeholder="اكتب كلمة البحث..." autocomplete="off"
                   aria-label="مربع البحث">
            <div class="search-results" id="searchResults"></div>
        </div>
    </div>

    <!-- نافذة التواصل -->
    <div class="popupCONTACT" id="popupCONTACT">
        <button class="close-btnCONTACT" id="closeContactBtn">✖</button>
        <div class="contact-containerCONTACT">
            <h3 class="contact-titleCONTACT" style="text-align: center; color: black; font-size: 24px; font-weight: bold;">📩 تواصل معنا</h3>

            <p class="contact-textCONTACT">في حالة توفر مشكلة أو لديك اقتراح سواء حول اختبار أو غيره تواصل معنا</p>
            
            <div class="social-linksCONTACT">
                <a href="http://t.me/ADATEALM_bot" target="_blank" class="btnCONTACT telegram-btnCONTACT">
                    <i class="fab fa-telegram"></i> بوت تيليغرام
                </a>
                
                <a href="https://t.me/adatealm" target="_blank" class="btnCONTACT telegram-btnCONTACT">
                    <i class="fab fa-telegram"></i> تيليغرام
                </a>
                
                <a href="https://www.facebook.com/share/1BFTe2mWNL/" target="_blank" class="btnCONTACT facebook-btnCONTACT">
                    <i class="fab fa-facebook"></i> فيسبوك
                </a>
                
                <a href="https://www.instagram.com/adat_ealm?igsh=djg1eXlwMTJvM2xw" target="_blank" class="btnCONTACT instagram-btnCONTACT">
                    <i class="fab fa-instagram"></i> إنستغرام
                </a>
            </div>
        </div>
    </div>


    <script>
        // عناصر الواجهة
        const floatingSystem = document.getElementById('floatingSystem');
        const mainBtn = document.getElementById('mainFloatingBtn');
        const searchBtn = document.getElementById('searchBtn');
        const speechBtn = document.getElementById('speechBtn');
        const contactBtn = document.getElementById('contactBtn');
        const flashcardBtn = document.getElementById('flashcardBtn');
        const searchBubble = document.getElementById('searchBubble');
        const closeBubble = document.getElementById('closeBubble');
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        const popupCONTACT = document.getElementById('popupCONTACT');
        const closeContactBtn = document.getElementById('closeContactBtn');
        const notification = document.getElementById('notification');
        
        // حالات النظام
        let isExpanded = false;
        let isDragging = false;
        let startX, startY, initialX, initialY;
        let isSpeechEnabled = false;
        let speechSynthesisInstance = window.speechSynthesis || null;
        let currentUtterance = null;
        let voices = [];
        let currentResults = [];
        let selectedIndex = -1;
        let searchTimeout;
        
        // تهيئة النظام
        function initSystem() {
            // إضافة تأثير النبض بعد 3 ثواني
            setTimeout(() => {
                mainBtn.classList.add('pulse-effect');
                setTimeout(() => {
                    mainBtn.classList.remove('pulse-effect');
                }, 3000);
            }, 3000);
            
            // تهيئة Web Speech API
            if (speechSynthesisInstance) {
                speechSynthesisInstance.onvoiceschanged = function() {
                    voices = speechSynthesisInstance.getVoices();
                };
                
                // تحميل الأصوات مباشرة إذا كانت متاحة
                voices = speechSynthesisInstance.getVoices();
            } else {
                speechBtn.style.display = 'none';
            }
            
            // جعل النظام قابلاً للسحب
            setupDragAndDrop();
            
            // إضافة أحداث اللمس
            setupTouchEvents();
        }
        
        // إعداد أحداث اللمس
        function setupTouchEvents() {
            // منع السلوك الافتراضي لللمس
            const buttons = [mainBtn, searchBtn, speechBtn, contactBtn, flashcardBtn];
            
            buttons.forEach(btn => {
                btn.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // محاكاة تأثير الضغط
                    this.style.transform = 'scale(0.95)';
                    
                    // تحديد الزر الذي تم الضغط عليه
                    if (btn === mainBtn) {
                        toggleSystem();
                    } else if (btn === searchBtn) {
                        toggleSearch();
                    } else if (btn === speechBtn) {
                        toggleSpeech();
                    } else if (btn === contactBtn) {
                        togglePopupCONTACT();
                    } else if (btn === flashcardBtn) {
                        goToFlashCard();
                    }
                }, { passive: false });
                
                btn.addEventListener('touchend', function() {
                    this.style.transform = '';
                });
            });
        }
        
        // تبديل حالة النظام (مفتوح/مغلق)
        function toggleSystem() {
            isExpanded = !isExpanded;
            floatingSystem.classList.toggle('expanded', isExpanded);
            
            if (isExpanded) {
                mainBtn.innerHTML = '<i class="fas fa-times"></i>';
                mainBtn.style.transform = 'rotate(135deg)';
                isDragging = false;
            } else {
                mainBtn.innerHTML = '<i class="fas fa-plus"></i>';
                mainBtn.style.transform = 'rotate(0)';
                closeAllPopups();
            }
        }
        
        // إغلاق جميع النوافذ المنبثقة
        function closeAllPopups() {
            searchBubble.classList.remove('show');
            popupCONTACT.style.display = 'none';
        }
        
        // تهيئة السحب والإفلات
        function setupDragAndDrop() {
            // للأجهزة التي تعمل باللمس
            mainBtn.addEventListener('touchstart', handleDragStart, { passive: false });
            document.addEventListener('touchmove', handleDragMove, { passive: false });
            document.addEventListener('touchend', endDrag);
            
            // للأجهزة التي تعمل بالماوس
            mainBtn.addEventListener('mousedown', handleDragStart);
            document.addEventListener('mousemove', handleDragMove);
            document.addEventListener('mouseup', endDrag);
        }
        
        function handleDragStart(e) {
            if (isExpanded) return;
            
            isDragging = true;
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;
            
            startX = clientX;
            startY = clientY;
            initialX = floatingSystem.offsetLeft;
            initialY = floatingSystem.offsetTop;
            
            if (e.cancelable) e.preventDefault();
        }
        
        function handleDragMove(e) {
            if (!isDragging || isExpanded) return;
            
            const clientX = e.clientX || e.touches[0].clientX;
            const clientY = e.clientY || e.touches[0].clientY;
            const deltaX = clientX - startX;
            const deltaY = clientY - startY;
            
            let newX = initialX + deltaX;
            let newY = initialY + deltaY;
            
            // تحديد الحدود لمنع الخروج من الشاشة
            newX = Math.max(0, Math.min(newX, window.innerWidth - floatingSystem.offsetWidth));
            newY = Math.max(0, Math.min(newY, window.innerHeight - floatingSystem.offsetHeight));
            
            floatingSystem.style.left = newX + 'px';
            floatingSystem.style.top = newY + 'px';
            floatingSystem.style.right = 'auto';
            floatingSystem.style.bottom = 'auto';
            
            if (e.cancelable) e.preventDefault();
        }
        




        function endDrag() {
    if (!isDragging) return;
    isDragging = false;
    
    // جعل النظام يلتصق بالجانب الأيسر دائماً
    floatingSystem.style.left = '20px';
    floatingSystem.style.right = 'auto';
    floatingSystem.style.bottom = '20px';
    floatingSystem.style.top = 'auto';
}
       
        // وظائف الأزرار
        function toggleSearch() {
            if (isExpanded) toggleSystem();
            searchBubble.classList.toggle('show');
            if (searchBubble.classList.contains('show')) {
                searchInput.focus();
            }
        }
        
        function toggleSpeech() {
            if (!speechSynthesisInstance) {
                showNotification("⚠️ هذه الميزة غير مدعومة في متصفحك");
                return;
            }
            
            if (isExpanded) toggleSystem();
            isSpeechEnabled = !isSpeechEnabled;
            showNotification(isSpeechEnabled ? "✅ تم تفعيل القلم الناطق!" : "⛔ تم إيقاف القلم الناطق!");
            
            if (isSpeechEnabled) {
                document.addEventListener('mouseup', handleTextSelection);
                document.addEventListener('touchend', handleTextSelection);
            } else {
                document.removeEventListener('mouseup', handleTextSelection);
                document.removeEventListener('touchend', handleTextSelection);
                stopSpeech();
            }
        }
        
        function handleTextSelection(e) {
            if (!isSpeechEnabled) return;
            
            // منع النقر العادي إذا كان القلم الناطق مفعلاً
            if (e.target.closest('.floating-system, .search-bubble, .popupCONTACT')) {
                return;
            }
            
            let selectedText = window.getSelection().toString().trim();
            if (selectedText.length > 0) {
                speakText(selectedText);
            }
        }
        
        function speakText(text) {
            stopSpeech();
            
            let utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = /[\u0600-\u06FF]/.test(text) ? "ar-SA" : "en-US";
            
            // اختيار الصوت المناسب
            if (voices.length > 0) {
                const arabicVoices = voices.filter(v => v.lang.includes('ar'));
                if (arabicVoices.length > 0) {
                    utterance.voice = arabicVoices[0];
                }
            }
            
            utterance.rate = 1;
            utterance.volume = 1.0;
            
            currentUtterance = utterance;
            speechSynthesisInstance.speak(utterance);
        }
        
        function stopSpeech() {
            if (speechSynthesisInstance && speechSynthesisInstance.speaking) {
                speechSynthesisInstance.cancel();
            }
            currentUtterance = null;
        }
        
        function togglePopupCONTACT() {
            if (isExpanded) toggleSystem();
            popupCONTACT.style.display = popupCONTACT.style.display === "block" ? "none" : "block";
        }
        
        function goToFlashCard() {
            if (isExpanded) toggleSystem();
            document.getElementById('flashcard-section').scrollIntoView({ 
                behavior: 'smooth' 
            });
        }
        
        function showNotification(message) {
            notification.textContent = message;
            notification.classList.add("show-notification");
            
            setTimeout(() => {
                notification.classList.remove("show-notification");
            }, 2000);
        }
        
        // أحداث البحث
        function handleSearchInput(e) {
            const query = e.target.value.trim();
            clearTimeout(searchTimeout);
            
            if (query.length < 2) {
                clearResults();
                return;
            }
            
            searchTimeout = setTimeout(() => {
                performSearch(query);
            }, 300);
        }
        
        function performSearch(query) {
            clearResults();
            currentResults = [];
            selectedIndex = -1;
            
            const searchableElements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, li, [id]');
            
            searchableElements.forEach(element => {
                const text = element.textContent || element.innerText;
                const elementId = element.id || (element.parentNode.id || '');
                
                if (text.toLowerCase().includes(query.toLowerCase())) {
                    const previewText = text.length > 100 ? text.substring(0, 100) + '...' : text;
                    
                    currentResults.push({
                        element: element,
                        id: elementId,
                        title: element.tagName.startsWith('H') ? text : (elementId || 'قسم في الصفحة'),
                        preview: previewText,
                        fullText: text
                    });
                }
            });
            
            if (currentResults.length === 0) {
                showNoResults();
                return;
            }
            
            displayResults(currentResults, query);
        }
        
        function displayResults(results, query) {
            results.forEach((result, index) => {
                const resultItem = document.createElement('div');
                resultItem.className = 'result-item';
                resultItem.innerHTML = `
                    <div class="result-title">${highlightText(result.title, query)}</div>
                    <div class="result-preview">${highlightText(result.preview, query)}</div>
                `;
                resultItem.addEventListener('click', () => navigateToResult(result));
                searchResults.appendChild(resultItem);
            });
        }
        
        function highlightText(text, query) {
            if (!query) return text;
            return text.replace(
                new RegExp(query, 'gi'), 
                match => `<span class="highlight">${match}</span>`
            );
        }
        
        function navigateToResult(result) {
            if (result.element) {
                result.element.scrollIntoView({
                    behavior: 'smooth',
                    block: 'center'
                });
                
                const originalBg = result.element.style.backgroundColor;
                result.element.style.backgroundColor = '#fff9c4';
                setTimeout(() => {
                    result.element.style.backgroundColor = originalBg;
                }, 2000);
            }
            
            searchBubble.classList.remove('show');
        }
        
        function showNoResults() {
            searchResults.innerHTML = '<div class="no-results">لا توجد نتائج مطابقة</div>';
        }
        
        function clearResults() {
            searchResults.innerHTML = '';
            currentResults = [];
            selectedIndex = -1;
        }
        
        // إضافة الأحداث
        mainBtn.addEventListener('click', toggleSystem);
        searchBtn.addEventListener('click', toggleSearch);
        speechBtn.addEventListener('click', toggleSpeech);
        contactBtn.addEventListener('click', togglePopupCONTACT);
        flashcardBtn.addEventListener('click', goToFlashCard);
        closeBubble.addEventListener('click', () => searchBubble.classList.remove('show'));
        closeContactBtn.addEventListener('click', togglePopupCONTACT);
        searchInput.addEventListener('input', handleSearchInput);
        
        // تهيئة النظام عند التحميل
        window.addEventListener('load', initSystem);
        
        // إعادة حساب المواقع عند تغيير حجم النافذة
        window.addEventListener('resize', endDrag);
    </script>
</body>
</html>








































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تحويل اتجاه النص تلقائيًا مع الحفاظ على التنسيق</title>
    <style>
        body {
    
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .rtl {
            direction: rtl;
            text-align: right;
        }
        
        .ltr {
            direction: ltr;
            text-align: left;
        }
        
        /* تنسيقات إضافية للحفاظ على المظهر */
        .mixed-content {
            unicode-bidi: embed;
        }
    </style>
</head>
<body>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // عناصر أكثر تحديداً مع استثناء العناصر التي قد تحتوي على أطفال معقدة
            const elements = document.querySelectorAll('p, div:not(div div), span, li, h1, h2, h3, h4, h5, h6');
            
            elements.forEach(element => {
                // تجاهل العناصر التي تحتوي على أطفال معقدة
                if (element.children.length > 0 && !(element.children.length === 1 && element.children[0].tagName === 'SPAN')) {
                    return;
                }
                
                const text = element.textContent.trim();
                
                if (!text) return;
                
                // تحليل النص لتحديد إذا كان إنجليزي/عربي
                const hasArabic = /[\u0600-\u06FF]/.test(text);
                const hasEnglish = /[a-zA-Z]/.test(text);
                
                // إذا كان النص يحتوي على الإنجليزية فقط
                if (hasEnglish && !hasArabic) {
                    element.classList.add('ltr');
                    element.classList.remove('rtl');
                } 
                // إذا كان النص يحتوي على العربية فقط
                else if (hasArabic && !hasEnglish) {
                    element.classList.add('rtl');
                    element.classList.remove('ltr');
                }
                // إذا كان نصاً مختلطاً
                else if (hasArabic && hasEnglish) {
                    element.classList.add('mixed-content');
                    
                    // تحديد الاتجاه الأساسي بناءً على الحرف الأول
                    const firstChar = text.charAt(0);
                    if (/[a-zA-Z]/.test(firstChar)) {
                        element.style.direction = 'ltr';
                        element.style.textAlign = 'left';
                    } else {
                        element.style.direction = 'rtl';
                        element.style.textAlign = 'right';
                    }
                }
            });
        });
    </script>
</body>
</html>
























































<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>تنبيه طبي - INFATM</title>
    <style>
        /* تهيئة عامة */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-text-size-adjust: 100%;
            touch-action: manipulation;
        }

        /* زر الخطر العائم - تصميم جديد */
        ._x1 {
            position: fixed;
            top: 120px; /* تغيير من bottom إلى top */
            right: 10px;  /* تعديل القيمة */
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #ff0000, #c00000);
            color: white;
            font-size: 21px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 5px 15px rgba(255, 0, 0, 0.3), 
                        inset 0 2px 4px rgba(255, 255, 255, 0.3);
            transition: all 0.2s ease;
            z-index: 1000;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
            animation: _a1 2s infinite;
        }

        @keyframes _a1 {
            0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 0, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); }
        }

        ._x1:hover {
            transform: scale(1.1);
            background: linear-gradient(135deg, #ff3333, #d10000);
        }

        ._x1:active {
            transform: scale(0.95);
            animation: none;
        }

        /* طبقة التعتيم */
        ._x2 {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1001;
            display: none;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        /* نافذة المحتوى */
        ._x3 {
            position: fixed;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            display: flex;
            flex-direction: column;
            z-index: 10012;
            display: none;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            background: white;
        }

        ._x4 {
          background: linear-gradient(to right, #e74c3c, #c0392b);
          color: white;
          padding: 18px;
          text-align: center;
          position: relative;
          flex-shrink: 0;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      ._x4 h2 {
          font-size: 1.3rem;
          font-weight: 600;
          text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
      }

        ._x5 {
            flex-grow: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            background-color: #f5f5f5;
        }

        /* زر الإغلاق الجديد */
        ._x6 {
            position: absolute;
            top: 12px;
            left: 12px;
            background: white;
            color: #e74c3c;
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: all 0.2s;
        }

        ._x6:hover {
            transform: rotate(90deg);
            background: #ffebee;
        }

        /* مؤشر التحميل */
        ._x7 {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            padding: 20px;
        }

        ._x8 {
            width: 45px;
            height: 45px;
            border: 5px solid rgba(231, 76, 60, 0.2);
            border-top: 5px solid #e74c3c;
            border-radius: 50%;
            animation: _a2 1s linear infinite;
            margin-bottom: 20px;
        }

        @keyframes _a2 {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        ._x7 p {
            color: #7f8c8d;
            font-size: 1.1rem;
            margin-top: 10px;
        }

        /* المحتوى المعروض */
        ._x9 {
            padding: 18px;
            line-height: 1.7;
            font-size: 1rem;
            color: #333;
        }

        /* التكيف مع الشاشات الصغيرة */
        @media (max-width: 480px) {
            ._x1 {
                width: 30px;
                height: 30px;
                font-size: 16px;
                bottom: 20px;
            }
            
            ._x4 {
                padding: 15px;
            }
            
            ._x4 h2 {
                font-size: 1.1rem;
            }
            
            ._x6 {
                width: 28px;
                height: 28px;
                font-size: 1rem;
            }
        }

        /* تحسينات لللمس على الهواتف */
        @media (hover: none) {
            ._x1:hover {
                transform: scale(1);
                background: linear-gradient(135deg, #ff0000, #c00000);
            }
            
            ._x6:hover {
                transform: rotate(0deg);
                background: white;
            }
        }
    </style>
</head>
<body>

<!-- زر الخطر العائم الجديد -->
<button class="_x1" onclick="_f1()">⚠️</button>

<!-- طبقة التعتيم -->
<div class="_x2" id="_d1"></div>

<!-- نافذة المحتوى -->
<div class="_x3" id="_d2">
    <div class="_x4">
        <button class="_x6" onclick="_f1()">×</button>
        <h2 >⚠️  محتوى زر التنبيه  الخطر   ⚠️   </h2>
    </div>
    <div class="_x5" id="_d3">
        <div class="_x7">
            <div class="_x8"></div>
            <p>جاري تحميل المحتوى ...</p>
        </div>
    </div>
</div>

<script>
    // متغيرات التطبيق
    let _v1 = false;
    const _u1 = "https://s22mcs.github.io/S22MCS02-/MEDECINE_EXAM_NOTE.html";
    
    // عناصر DOM
    const _d2 = document.getElementById('_d2');
    const _d1 = document.getElementById('_d1');
    const _d3 = document.getElementById('_d3');
    const _b1 = document.querySelector('._x1');
    
    // تبديل عرض/إخفاء النافذة
    function _f1() {
        if (_d2.style.display === 'flex') {
            _f2();
        } else {
            _f3();
        }
    }
    
    function _f3() {
        // إيقاف تأثير النبض عند الفتح
        _b1.style.animation = 'none';
        
        _d1.style.display = 'block';
        _d2.style.display = 'flex';
        document.body.style.overflow = 'hidden';
        
        if (!_v1) {
            _f4();
        }
    }
    
    function _f2() {
        // إعادة تشغيل تأثير النبض عند الإغلاق
        _b1.style.animation = '_a1 2s infinite';
        
        _d1.style.display = 'none';
        _d2.style.display = 'none';
        document.body.style.overflow = 'auto';
    }
    
    // تحميل المحتوى
    async function _f4() {
        try {
            // استخدام iframe كحل أساسي
            _f5();
            _v1 = true;
        } catch (error) {
            _f6(error);
        }
    }
    
    // عرض المحتوى باستخدام iframe
    function _f5() {
        _d3.innerHTML = `
            <iframe src="${_u1}" 
                    style="width:100%; height:100%; border:none;"
                    sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
                    loading="lazy">
            </iframe>
        `;
    }
    
    // عرض رسالة الخطأ
    function _f6(_e1) {
        _d3.innerHTML = `
            <div class="_x7">
                <div style="color: #e74c3c; margin-bottom: 15px; font-size: 1.2rem;">⚠️ خطأ في تحميل المحتوى</div>
                <p style="margin-bottom: 20px; color: #555;">${_e1.message}</p>
                <button onclick="_f7()" 
                        style="padding: 10px 20px; 
                               background: linear-gradient(to right, #e74c3c, #c0392b); 
                               color: white; 
                               border: none; 
                               border-radius: 30px;
                               font-size: 1rem;
                               box-shadow: 0 3px 10px rgba(231, 76, 60, 0.3);
                               transition: all 0.2s;">
                    إعادة المحاولة
                </button>
            </div>
        `;
    }
    
    // إعادة تحميل المحتوى
    function _f7() {
        _d3.innerHTML = `
            <div class="_x7">
                <div class="_x8"></div>
                <p>جاري تحميل المحتوى الطبي...</p>
            </div>
        `;
        _f4();
    }
    
    // إغلاق النافذة عند النقر خارجها
    _d1.addEventListener('click', _f2);
    
    // منع إغلاق النافذة عند النقر داخلها
    _d2.addEventListener('click', (e) => {
        e.stopPropagation();
    });
    
    // تحسين الأداء للهواتف
    if ('connection' in navigator) {
        if (navigator.connection.saveData || navigator.connection.effectiveType.includes('2g')) {
            // تحسينات لشبكات الجيل الثاني
            _b1.style.animation = 'none';
        }
    }
    
    // إضافة اهتزاز عند النقر (للهواتف)
    function _f8() {
        if ('vibrate' in navigator) {
            navigator.vibrate(10);
        }
    }
    
    // إضافة الاهتزاز للأزرار
    document.querySelector('._x1').addEventListener('click', _f8);
    document.querySelector('._x6')?.addEventListener('click', _f8);
</script>

</body>
</html>



  
















<style>
    /* أنماط الزر الطافي */
    .theme-toggle {
        position: fixed;
        top:100px;
        left: 20px;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background-color: #333;
        color: #fff;
        border: none;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        z-index: 9999;
        transition: all 0.3s ease;
    }
    
    .theme-toggle:hover {
        transform: scale(1.1);
    }
    
    /* أنماط الوضع النهاري */
    body.light-mode {
        background-color: #f5f5f5;
        color: #333;
    }
    

    

body.dark-mode .hover-image-container {
    color: #ffffff;
}

body.dark-mode .image-tooltip {
    color: #66bfff;
}

body.dark-mode .image-tooltip-content {
    background-color: #222;
    box-shadow: 0 10px 25px rgba(255, 255, 255, 0.1);
}

body.dark-mode .tooltip-caption {
    color: #ccc;
}
    body.light-mode .sidebar {
        background-color: #f0f0f0;
        color: #333;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    
    body.light-mode .bubble {
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        border-left: 6px solid #007bff;
        color: #333;
    }
    
    body.light-mode .progress-bar-container {
        background-color: #e0e0e0;
    }
    
    body.light-mode .finish-button {
        background-color: #007bff;
        color: white;
    }
    
    body.light-mode .interact-button {
        background-color: #007bff;
        color: white;
    }
    
    body.light-mode .refresh-button {
        background: linear-gradient(135deg, #f0f0f0, #e0e0e0);
        color: #333;
        border: 1px solid #ccc;
    }
    
    body.light-mode #end-lesson-modal {
        background-color: #f5f5f5;
        color: #333;
    }
    
    body.light-mode .modal {
        background: #f5f5f5;
        color: #333;
    }
</style>

<button class="theme-toggle" id="themeToggle">☀️</button>

<script>
    // اختيار العناصر
    const themeToggle = document.getElementById('themeToggle');
    const body = document.body;
    
    // التحقق من التفضيل المحفوظ
    const currentTheme = localStorage.getItem('theme');
    if (currentTheme === 'light') {
        body.classList.add('light-mode');
        body.classList.remove('dark-mode');
        themeToggle.textContent = '🌙';
    } else {
        body.classList.add('dark-mode');
        themeToggle.textContent = '☀️';
    }
    
    // حدث النقر على الزر
    themeToggle.addEventListener('click', () => {
        if (body.classList.contains('dark-mode')) {
            // التحويل إلى الوضع النهاري
            body.classList.add('light-mode');
            body.classList.remove('dark-mode');
            themeToggle.textContent = '🌙';
            localStorage.setItem('theme', 'light');
        } else {
            // التحويل إلى الوضع الليلي
            body.classList.add('dark-mode');
            body.classList.remove('light-mode');
            themeToggle.textContent = '☀️';
            localStorage.setItem('theme', 'dark');
        }
    });
</script>








































            
            
            
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>أداة التحكم في التكبير/التصغير</title>
  <style>
    /* تنسيقات أداة التكبير/التصغير */
    .zoom-controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      background: rgba(40, 40, 40, 0.9);
      padding: 12px;
      border-radius: 24px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .zoom-btn {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: #007bff;
      color: white;
      border: none;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    
    .zoom-btn:hover {
      background: #0056b3;
      transform: scale(1.05);
    }
    
    .zoom-value {
      color: white;
      font-family: Arial, sans-serif;
      font-size: 14px;
      font-weight: bold;
      min-width: 40px;
      text-align: center;
    }
    
    /* للهواتف */
    @media (max-width: 768px) {
      .zoom-controls-container {
        bottom: 15px;
        left: 15px;
      }
      
      
    }
  </style>
</head>
<body>



<script>
  // إعدادات التكبير
  const zoomSettings = {
    current: 1, // هذه القيمة سيتم تغييرها عند التحميل إذا لم توجد قيمة محفوظة
    min: 0.3, // غيرت الحد الأدنى ليتناسب مع القيمة الافتراضية
    max: 2,
    step: 0.1
  };

  // عناصر التحكم
  const elements = {
    zoomIn: document.getElementById('zoom-in'),
    zoomOut: document.getElementById('zoom-out'),
    zoomReset: document.getElementById('zoom-reset'),
    zoomValue: document.getElementById('zoom-value'),
    html: document.documentElement
  };

  // تطبيق مستوى التكبير الحالي
  function applyZoom() {
    elements.html.style.fontSize = `${zoomSettings.current * 100}%`;
    elements.zoomValue.textContent = `${Math.round(zoomSettings.current * 100)}%`;
    
    // حفظ الإعدادات
    localStorage.setItem('pageZoomLevel', zoomSettings.current);
  }

  // تكبير النص
  elements.zoomIn.addEventListener('click', () => {
    if (zoomSettings.current < zoomSettings.max) {
      zoomSettings.current += zoomSettings.step;
      applyZoom();
    }
  });

  // تصغير النص
  elements.zoomOut.addEventListener('click', () => {
    if (zoomSettings.current > zoomSettings.min) {
      zoomSettings.current -= zoomSettings.step;
      applyZoom();
    }
  });

  // إعادة التعيين
  elements.zoomReset.addEventListener('click', () => {
    zoomSettings.current = 1;
    applyZoom();
  });

  window.addEventListener('DOMContentLoaded', () => {
    const savedZoom = localStorage.getItem('pageZoomLevel');
    if (savedZoom) {
      zoomSettings.current = parseFloat(savedZoom);
    } else {
      // القيمة الافتراضية عند أول فتح (30%)
      zoomSettings.current = 0.1;
    }
    applyZoom();
  });

  // اختصارات لوحة المفاتيح
  document.addEventListener('keydown', (e) => {
    if (e.ctrlKey && e.key === '0') {
      e.preventDefault();
      elements.zoomReset.click();
    }
  });
</script>

</body>
</html>






































































































































































